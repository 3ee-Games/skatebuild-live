import{t as b,a as m,n as Ie,c as Ue}from"../chunks/DRiVrBMz.js";import"../chunks/BLulYnNU.js";import{ak as ze,at as B,v as o,g as e,A as u,au as ye,an as l,am as n,ao as a,ar as T,al as xe,aq as me,j as Ee,n as pe,ap as ke,aO as De}from"../chunks/DGYefiCd.js";import{s as M,e as O}from"../chunks/ByZ5mbbd.js";import{i as w}from"../chunks/CWD507PG.js";import{e as se,i as ge}from"../chunks/k-lROdaV.js";import{r as qe,s as $}from"../chunks/BVgT1Vhj.js";import{s as ae}from"../chunks/DsOQ9nNt.js";import{t as Ge,f as Le}from"../chunks/Cz4KdceI.js";import{b as Re}from"../chunks/Cv-JL0uC.js";import{i as we}from"../chunks/BoHxMQP1.js";import{p as _e}from"../chunks/OZP53ftb.js";import{o as We}from"../chunks/ezTx0NwI.js";import{g as Ze}from"../chunks/DKAYtLTS.js";import{s as Fe}from"../chunks/BVyUmpUc.js";import{n as Je}from"../chunks/Dk0Svo2v.js";import{h as Ke}from"../chunks/CPRV9u04.js";import{b as Qe}from"../chunks/DEDQ5tvs.js";const Xe=!1,Ye=async({fetch:I})=>{const A=await I("/data/skateboard-products/categories.json").then(g=>g.json()),v=await I("/data/rollerskate-products/categories.json").then(g=>g.json());return{skateCats:A,rollerCats:v}},Pt=Object.freeze(Object.defineProperty({__proto__:null,load:Ye,prerender:Xe},Symbol.toStringTag,{value:"Module"})),et="data:image/svg+xml,%3csvg%20style='height:%20512px;%20width:%20512px;'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M0%200h512v512H0z'%20fill='%23d6e010'%20fill-opacity='0'%3e%3c/path%3e%3cg%20class=''%20style=''%20transform='translate(0,0)'%3e%3cpath%20d='M230.844%2047.688c-28.215.083-58.57%202.925-91%208.78C339.666%2041.874%20441.95%20144.504%20495.938%20292.75c0-143.316-92.67-245.57-265.094-245.063zm-2.656%2033.624c-56.703%2022.374-97.407%2081.194-97.407%20150.844%200%2049.006%2020.153%2092.64%2051.845%20122%2022.64%208.588%2046.563%2010.904%2071.406%209.563-26.212-96.096-8.522-185.37%2032.5-271-18.534-6.51-37.96-10.382-58.342-11.407zm-41.844%201.782c-43.318%205.686-90.65%2023.297-142.5%2054.53%2024.987%2097.103%2056.545%20155.038%2092.78%20187.97-15.558-27.26-24.53-59.27-24.53-93.438%200-61.93%2029.422-116.84%2074.25-149.062zm134.156%2025a396.208%20396.208%200%200%201%204.156%2018.844%2028.23%2028.23%200%200%200-5.5-.532c-15.486%200-28.03%2012.55-28.03%2028.03%200%2015.483%2012.544%2028.033%2028.03%2028.033%204.33%200%208.432-.967%2012.094-2.72%203.26%2062.225-9.635%20123.823-41.03%20179.844%2032.597-5.38%2066.42-14.65%20100.78-22.406%2022.463-28.085%2036.094-64.734%2036.094-105.032%200-8.02-.553-15.9-1.594-23.594-31.27-44.417-66.02-78.693-105-100.468zm-301.875%2048.47C36.78%20459.957%20249.36%20479.842%20493.063%20343.717%20306.578%20348.125%20115.88%20532.286%2018.625%20156.56zm427%2082.75c-1.25%2033.993-11.342%2065.633-27.938%2092.28%2023.992-4.595%2048.14-7.793%2072.22-7.813-13.924-30.585-28.636-58.848-44.282-84.467zm41.53%20129.81c-127.06%2079.076-267.344%20111.63-421.03%2039.126%20130.246%20115.856%20342.11%2082.373%20421.03-39.125z'%20fill='%23000000'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e";var tt=b("<div> </div>"),rt=b('<div class="balance-container svelte-t04hmu"><button class="close svelte-t04hmu">× Close</button> <p class="selected-description svelte-t04hmu"> </p> <input type="range" min="0" max="1" step="0.01" class="svelte-t04hmu"> <div class="slider-labels svelte-t04hmu"></div></div>');function st(I,A){ze(A,!1);const v=u(),g=u(),G=u();let k=u(.5),oe=_e(A,"onSliderChange",8,()=>{}),U=_e(A,"onClose",8,()=>{});const _=["Soft (78A–84A)","Hybrid (85A–91A)","Hard (92A–105A)"],f={"Soft (78A–84A)":"Soft – best on rough surfaces.","Hybrid (85A–91A)":"Hybrid – mix of speed & control.","Hard (92A–105A)":"Hard – ideal for street/skatepark."};function E(y){o(k,+y.target.value);const x={value:e(k),bucket:e(g)};oe()(x)}B(()=>e(k),()=>{o(v,Math.round(e(k)*(_.length-1)))}),B(()=>e(v),()=>{o(g,_[e(v)].split(" ")[0])}),B(()=>e(v),()=>{o(G,f[_[e(v)]])}),ye(),we();var z=rt(),C=l(z),N=n(C,2),D=l(N,!0);a(N);var p=n(N,2);qe(p);var h=n(p,2);se(h,5,()=>_,ge,(y,x,K)=>{var j=tt(),le=l(j,!0);a(j),T(()=>{ae(j,1,`label ${K===e(v)?"selected":""}`,"svelte-t04hmu"),M(le,e(x))}),m(y,j)}),a(h),a(z),T(()=>M(D,e(G))),O("click",C,function(...y){var x;(x=U())==null||x.apply(this,y)}),Qe(p,()=>e(k),y=>o(k,y)),O("input",p,E),m(I,z),xe()}var at=b("<button> </button>"),ot=b('<div class="top-nav svelte-11mhzef"><button>Skateboard</button> <button>Rollerskate</button></div> <div class="category-nav svelte-11mhzef"></div>',1),lt=b('<div class="slider svelte-11mhzef"><!></div>'),nt=b('<img class="product-image svelte-11mhzef">'),it=Ie('<svg viewBox="0 0 64 64" class="placeholder svelte-11mhzef"><rect width="64" height="64" fill="var(--tertiary-color)"></rect><text x="32" y="36" text-anchor="middle" fill="var(--heading-color)" font-size="12">Image NA</text></svg>'),ct=b('<p class="name svelte-11mhzef"><strong>Durometer</strong>: <span class="product-highlight svelte-11mhzef"> </span></p>'),dt=b('<tr class="svelte-11mhzef"><td class="svelte-11mhzef"><a target="_blank" rel="noopener" class="svelte-11mhzef"> </a></td><td class="svelte-11mhzef"> </td></tr>'),vt=b('<div class="card svelte-11mhzef"><div class="product-content svelte-11mhzef"><!> <p class="name svelte-11mhzef"> </p></div> <!> <table class="price-table svelte-11mhzef"><tbody></tbody></table> <!> <div class="buttons svelte-11mhzef"><button class="build svelte-11mhzef"><img alt="Add to Build" class="svelte-11mhzef"> <span class="svelte-11mhzef">Add to build</span></button> <button class="view svelte-11mhzef"><img alt="View Product" class="svelte-11mhzef"> <span class="svelte-11mhzef">View</span></button> <!></div> <!></div>'),ut=b("<p>Loading…</p>"),ft=b('<div class="product-type-nav svelte-11mhzef"><!> <!></div> <div class="grid svelte-11mhzef"></div> <div class="sentinel"><!></div>',1);function Vt(I,A){ze(A,!1);const v=u(),g=u(),G=u();let k=_e(A,"data",8);const oe=50;let U=u(!1),_=u("skateboard"),f=u(""),E=1,z=u([]),C=!0,N=u(!1),D=u(),p,h=u(null);function y(t){o(_,t),x("bearings"),o(h,null),o(z,[]),E=1}async function x(t){o(f,t),o(h,null),o(z,[]),E=1,C=!0,o(U,t==="wheels"),await De(),K(),j()}function K(){p&&p.disconnect(),p=new IntersectionObserver(([t])=>{t.isIntersecting&&j()},{rootMargin:"200px"}),e(D)&&p.observe(e(D))}async function j(){if(!e(f)||e(N)||!C)return;o(N,!0);const r=`/data/${e(_)==="skateboard"?"skateboard-products":"rollerskate-products"}/${e(f)}-page-${E}.json`;try{const s=await fetch(r);if(s.ok){const i=await s.json();o(z,[...e(z),...i]),E+=1,i.length<oe&&(C=!1,p.disconnect())}else C=!1,p.disconnect()}catch(s){console.error("Error loading products:",s),C=!1,p.disconnect()}o(N,!1)}We(()=>{K()});function le(t){const s={decks:"deck_slug",griptapes:"griptape_slug",risers:"risers_slug",boots:"boot_slug",toestops:"toestops_slug",slideblocks:"slideblock_slug",plates:"plates_slug",trucks:"trucks_slug",bearings:"bearings_slug",wheels:"wheels_slug",bushings:"bushings_slug"}[e(f)];Fe.update(i=>({...i,[s]:t.slug})),Je.send({message:`${t.productName} added to build`,link:"/builds/new",linkText:"see more"})}function Ae(t){Ze(`/product/${e(f)}/${t}`)}function Ce(t){const r=Object.keys(t).find(s=>s!=="url"&&s!=="productVendorUrl");return{vendor:r,price:t[r],url:t.url,productVendorUrl:t.productVendorUrl}}function ne(t){var s;const r=(s=t.productTags)==null?void 0:s.find(i=>i.field==="durometer");return r?parseInt(r.value.replace(/\D/g,""),10):NaN}function Ne({bucket:t}){o(h,t)}function Se(){o(U,!1)}B(()=>(e(_),Ee(k())),()=>{o(v,e(_)==="skateboard"?k().skateCats:k().rollerCats)}),B(()=>(e(v),e(f)),()=>{e(v).length>0&&!e(f)&&o(f,e(v)[0])}),B(()=>e(z),()=>{o(g,e(z).map(t=>{var r;return{...t,vendorPrices:((r=t.productPrices)==null?void 0:r.map(Ce))??[],productTags:t.productTags??[]}}))}),B(()=>(e(f),e(g),e(h)),()=>{o(G,e(f)==="wheels"?e(g).filter(t=>{if(!e(h))return!0;const r=ne(t);return isNaN(r)?!1:e(h)==="Soft"?r>=78&&r<=84:e(h)==="Hybrid"?r>=85&&r<=91:e(h)==="Hard"?r>=92:!0}).sort((t,r)=>{const s=ne(t),i=ne(r);return isNaN(s)?1:isNaN(i)?-1:s-i}):e(g))}),ye(),we();var he=ft(),ie=me(he),be=l(ie);{var Te=t=>{var r=ot(),s=me(r),i=l(s);let L;var Q=n(i,2);let X;a(s);var R=n(s,2);se(R,5,()=>e(v),ge,(W,S)=>{var H=at();let q;var Y=l(H,!0);a(H),T(ee=>{q=ae(H,1,"svelte-11mhzef",null,q,ee),M(Y,e(S))},[()=>({selected:e(S)===e(f)})],pe),O("click",H,()=>x(e(S))),m(W,H)}),a(R),T((W,S)=>{L=ae(i,1,"svelte-11mhzef",null,L,W),X=ae(Q,1,"svelte-11mhzef",null,X,S)},[()=>({selected:e(_)==="skateboard"}),()=>({selected:e(_)==="rollerskate"})],pe),O("click",i,()=>y("skateboard")),O("click",Q,()=>y("rollerskate")),m(t,r)};w(be,t=>{e(U)||t(Te)})}var je=n(be,2);{var He=t=>{var r=lt(),s=l(r);st(s,{onSliderChange:Ne,onClose:Se}),a(r),m(t,r)};w(je,t=>{e(U)&&t(He)})}a(ie);var ce=n(ie,2);se(ce,5,()=>e(G),t=>t.slug,(t,r)=>{var s=vt(),i=l(s),L=l(i);{var Q=c=>{var d=nt();T(()=>{$(d,"src",e(r).cloudinaryUrl),$(d,"alt",e(r).productName),$(d,"width",e(r).imageWidth),$(d,"height",e(r).imageHeight)}),m(c,d)},X=c=>{var d=it();m(c,d)};w(L,c=>{e(r).cloudinaryUrl?c(Q):c(X,!1)})}var R=n(L,2),W=l(R,!0);a(R),a(i);var S=n(i,2);{var H=c=>{var d=Ue(),Z=me(d);{var F=P=>{var V=ct(),J=n(l(V),2),ue=l(J,!0);a(J),a(V),T(fe=>M(ue,fe),[()=>e(r).productTags.find(fe=>fe.field==="durometer").value],pe),m(P,V)};w(Z,P=>{e(r).productTags.find(V=>V.field==="durometer")&&P(F)})}m(c,d)};w(S,c=>{e(r).productTags&&c(H)})}var q=n(S,2),Y=l(q);se(Y,5,()=>e(r).vendorPrices,ge,(c,d)=>{var Z=dt(),F=l(Z),P=l(F),V=l(P,!0);a(P),a(F);var J=n(F),ue=l(J,!0);a(J),a(Z),T(()=>{$(P,"href",e(d).productVendorUrl||e(d).url),M(V,e(d).vendor),M(ue,e(d).price)}),m(c,Z)}),a(Y),a(q);var ee=n(q,2);w(ee,c=>{});var ve=n(ee,2),te=l(ve),$e=l(te);$($e,"src",Ke),ke(2),a(te);var re=n(te,2),Me=l(re);$(Me,"src",et),ke(2),a(re);var Oe=n(re,2);w(Oe,c=>{}),a(ve);var Be=n(ve,2);w(Be,c=>{}),a(s),T(()=>M(W,e(r).productName)),O("click",te,()=>le(e(r))),O("click",re,()=>Ae(e(r).slug)),Ge(1,s,()=>Le,()=>({duration:200})),m(t,s)}),a(ce);var de=n(ce,2),Pe=l(de);{var Ve=t=>{var r=ut();m(t,r)};w(Pe,t=>{e(N)&&t(Ve)})}a(de),Re(de,t=>o(D,t),()=>e(D)),m(I,he),xe()}export{Vt as component,Pt as universal};
