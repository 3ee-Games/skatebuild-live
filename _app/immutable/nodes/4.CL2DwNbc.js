import{e as Y}from"../chunks/DNSHY1Ls.js";import{g as Z}from"../chunks/CjpI74KA.js";import{s as F}from"../chunks/D7-f-tgC.js";import{c as ss,b as g,t as k}from"../chunks/DfXK_jSs.js";import"../chunks/DBxjm7Y_.js";import{ak as es,at as as,au as ts,aq as ls,al as rs,v as os,A as ns,j as B,g as r,an as n,ao as o,am as m,ar as N,n as is}from"../chunks/CWOhmV2c.js";import{s as h}from"../chunks/CwUoD2Kj.js";import{i as T}from"../chunks/DLKYxPPN.js";import{e as C,i as D}from"../chunks/CMljKicW.js";import{s as M}from"../chunks/DxXLC0dA.js";import{s as us}from"../chunks/BUPfp6wp.js";import{i as _s}from"../chunks/BtpCMNU_.js";import{p as P}from"../chunks/BuPKHJej.js";const ps=!1,vs=!1,cs=async({params:s,fetch:a})=>{const{username:t,slug:_}=s;let i;const e=Z(F);if(e.slug===_&&e.owner_username===t)i={name:e.name,slug:e.slug,build_type:e.build_type,skating_type:e.skating_type,deck_slug:e.deck_slug||void 0,griptape_slug:e.griptape_slug||void 0,rails_slug:e.rails_slug||void 0,risers_slug:e.risers_slug||void 0,boot_slug:e.boot_slug||void 0,plates_slug:e.plates_slug||void 0,slideblock_slug:e.slideblock_slug||void 0,toestops_slug:e.toestops_slug||void 0,trucks_slug:e.trucks_slug,bearings_slug:e.bearings_slug,wheels_slug:e.wheels_slug,bushings_slug:e.bushings_slug,owner_username:e.owner_username,attributes:e.attributes??[]};else{const u=await a(`/data/builds/${t}/${_}.json`);if(u.ok){const l=await u.json();i={...l,attributes:l.attributes??[]}}else throw Y(404,`Build not found: ${t}/${_}`)}const f=gs(i,a),j=await Promise.all(Object.entries(f).filter(([,u])=>u!==null).map(async([u,l])=>{const p=await l;return p.ok?[u,await p.json()]:[u,null]})),w=Object.fromEntries(j);return{build:i,products:w}};function gs(s,a){const t=s.build_type==="skateboard"?"skateboard-products":"rollerskate-products",_={bearings:a(`/data/${t}/bearings/${s.bearings_slug}.json`),bushings:a(`/data/${t}/bushings/${s.bushings_slug}.json`),trucks:a(`/data/${t}/trucks/${s.trucks_slug}.json`),wheels:a(`/data/${t}/wheels/${s.wheels_slug}.json`)},i={decks:s.deck_slug?a(`/data/${t}/decks/${s.deck_slug}.json`):null,griptape:s.griptape_slug?a(`/data/${t}/griptape/${s.griptape_slug}.json`):null,rails:s.rails_slug?a(`/data/${t}/rails/${s.rails_slug}.json`):null,risers:s.risers_slug?a(`/data/${t}/risers/${s.risers_slug}.json`):null},e={boots:s.boot_slug?a(`/data/${t}/boots/${s.boot_slug}.json`):null,slideblocks:s.slideblock_slug?a(`/data/${t}/slideblocks/${s.slideblock_slug}.json`):null,plates:s.plates_slug?a(`/data/${t}/plates/${s.plates_slug}.json`):null,toestops:s.toestops_slug?a(`/data/${t}/toestops/${s.toestops_slug}.json`):null};return{..._,...s.build_type==="skateboard"?i:e}}const Rs=Object.freeze(Object.defineProperty({__proto__:null,load:cs,prerender:ps,ssr:vs},Symbol.toStringTag,{value:"Module"}));var ds=k('<p class="empty svelte-1qnlv9k">No popular builds found.</p>'),ms=k('<div class="attribute-item svelte-1qnlv9k"><span class="attr-name svelte-1qnlv9k"> </span> <div class="attr-bar-container svelte-1qnlv9k"><div class="attr-bar svelte-1qnlv9k"></div></div></div>'),ks=k('<section class="attributes-section svelte-1qnlv9k"><h4 class="svelte-1qnlv9k">Stats</h4> <!></section>'),fs=k('<a class="card svelte-1qnlv9k"><div class="card-content"><h3 class="card-title svelte-1qnlv9k"> </h3> <p class="card-type svelte-1qnlv9k"> </p> <p class="card-type svelte-1qnlv9k"><span class="price svelte-1qnlv9k"> </span></p> <!></div></a>'),bs=k('<div class="build-grid svelte-1qnlv9k"></div>');function zs(s,a){es(a,!1);const t=ns();let _=P(a,"builds",24,()=>[]),i=P(a,"showSkateboard",8,!1),e=P(a,"showRollerskate",8,!1);as(()=>(B(_()),B(i()),B(e())),()=>{os(t,_().filter(l=>i()&&l.type==="skateboard"||e()&&l.type==="rollerskate"))}),ts(),_s();var f=ss(),j=ls(f);{var w=l=>{var p=ds();g(l,p)},u=l=>{var p=bs();C(p,5,()=>r(t),D,(G,v)=>{var b=fs(),E=n(b),y=n(E),H=n(y,!0);o(y);var q=m(y,2),I=n(q);o(q);var x=m(q,2),R=n(x),J=n(R);o(R),o(x);var K=m(x,2);{var L=O=>{var c=ks(),Q=m(n(c),2);C(Q,1,()=>r(v).attributes,D,(U,d)=>{var $=ms(),S=n($),V=n(S,!0);o(S);var z=m(S,2),A=n(z);o(z),o($),N((W,X)=>{M($,"data-value",W),h(V,r(d).name),M(A,"data-color",r(d).value<=.3?"low":r(d).value<=.7?"medium":"high"),us(A,`width: ${X??""}%;`)},[()=>`${Math.round(r(d).value*100)}%`,()=>Math.round(r(d).value*100)],is),g(U,$)}),o(c),g(O,c)};T(K,O=>{var c;(c=r(v).attributes)!=null&&c.length&&O(L)})}o(E),o(b),N(()=>{M(b,"href",r(v).url),h(H,r(v).name),h(I,`designed for ${r(v).style??""}`),h(J,`$${r(v).price??""}`)}),g(G,b)}),o(p),g(l,p)};T(j,l=>{r(t).length===0?l(w):l(u,!1)})}g(s,f),rs()}export{zs as component,Rs as universal};
