import{t as f,h as Y,b as m}from"../chunks/D6lpRjZ0.js";import"../chunks/Dbo0GaMY.js";import{ak as G,au as j,av as J,as as v,al as L,am as Q,an as c,ao as r,v as B,A as N,j as R,ap as s,g as n,aq as X,n as Z}from"../chunks/Dc4WGsSd.js";import{e as tt,s as y}from"../chunks/BqCtJVv-.js";import{i as et}from"../chunks/NlFxusRD.js";import{e as at,i as st}from"../chunks/lghtj30-.js";import{s as l}from"../chunks/C2dxG4li.js";import{i as rt}from"../chunks/lo1Tk5pU.js";import{p as ot}from"../chunks/kt-Q8nrS.js";import{s as ct,a as nt}from"../chunks/X-WOwvk_.js";import"../chunks/B72_VOVm.js";import{p as lt}from"../chunks/BLsFkauu.js";import{s as dt}from"../chunks/DHBz13pJ.js";import{n as pt}from"../chunks/DDSjLLXo.js";import{h as it}from"../chunks/CPRV9u04.js";const ut=!1,mt=async({params:g,fetch:p})=>{const{category:i,slug:u}=g;let o=await p(`/data/skateboard-products/${i}/${u}.json`);if(o.ok||(o=await p(`/data/rollerskate-products/${i}/${u}.json`)),!o.ok)throw new Error(`Product not found: ${i}/${u}`);return{product:await o.json()}},Tt=Object.freeze(Object.defineProperty({__proto__:null,load:mt,prerender:ut},Symbol.toStringTag,{value:"Module"}));var vt=f('<meta name="description">'),yt=f('<img class="product-image svelte-ncyxps">'),ft=f('<tr class="svelte-ncyxps"><td class="svelte-ncyxps"><a target="_blank" rel="noopener" class="svelte-ncyxps"> </a></td><td class="svelte-ncyxps"> </td></tr>'),gt=f('<main class="container svelte-ncyxps"><h1 class="svelte-ncyxps"> </h1> <p class="brand svelte-ncyxps"> </p> <!> <section class="prices svelte-ncyxps"><h2 class="svelte-ncyxps">Vendor Prices</h2> <table class="svelte-ncyxps"><thead class="svelte-ncyxps"><tr class="svelte-ncyxps"><th class="svelte-ncyxps">Vendor</th><th class="svelte-ncyxps">Price</th></tr></thead><tbody class="svelte-ncyxps"></tbody></table></section> <div class="add-to-build svelte-ncyxps"><button class="svelte-ncyxps"><img alt="Add to Build" class="svelte-ncyxps"> <span class="svelte-ncyxps">Add to build</span></button></div></main>');function At(g,p){G(p,!1);const[i,u]=ct(),o=()=>nt(lt,"$page",i),_=N();let a=ot(p,"data",8),U=N(),V=N();const q=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),z=a().product.productName?`${a().product.productName} | SkateBuild.pro`:"Build Your Skate";function D(){dt.update(e=>{const t=`${n(U).slice(0,-1)}_slug`;return{...e,[t]:n(V)}}),pt.send({message:`${a().product.productName} added to build`,link:"/builds/new",linkText:"Preview Build"})}j(()=>o(),()=>{B(U,o().params.category)}),j(()=>o(),()=>{B(V,o().params.slug)}),j(()=>R(a()),()=>{B(_,a().product.productPrices.map(e=>{const t=Object.keys(e).find(d=>d!=="url"&&d!=="productVendorUrl");return{vendor:t,price:parseFloat(e[t]),url:e.url,productVendorUrl:e.productVendorUrl}}).sort((e,t)=>e.price-t.price))}),J(),rt();var x=gt();Y(e=>{var t=vt();Q.title=z,v(()=>l(t,"content",`Customize your own ${a().product.productName??""}`)),m(e,t)});var b=r(x),C=r(b,!0);s(b);var h=c(b,2),E=r(h);s(h);var S=c(h,2);{var H=e=>{var t=yt();v(()=>{l(t,"src",a().product.cloudinaryUrl),l(t,"alt",a().product.productName),l(t,"width",a().product.imageWidth),l(t,"height",a().product.imageHeight)}),m(e,t)};et(S,e=>{a().product.cloudinaryUrl&&e(H)})}var $=c(S,2),F=c(r($),2),T=c(r(F));at(T,5,()=>n(_),st,(e,t)=>{var d=ft(),w=r(d),P=r(w),K=r(P,!0);s(P),s(w);var O=c(w),M=r(O);s(O),s(d),v(W=>{l(P,"href",n(t).productVendorUrl||n(t).url),y(K,n(t).vendor),y(M,`$${W??""}`)},[()=>q.format(n(t).price)],Z),m(e,d)}),s(T),s(F),s($);var A=c($,2),k=r(A),I=r(k);l(I,"src",it),X(2),s(k),s(A),s(x),v(()=>{y(C,a().product.productName),y(E,`by ${a().product.productBrand??""}`)}),tt("click",k,D),m(g,x),L(),u()}export{At as component,Tt as universal};
