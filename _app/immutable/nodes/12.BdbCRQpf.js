import{t as k,b as f,n as Ge}from"../chunks/CtZTu4By.js";import"../chunks/CDWt5krY.js";import{ak as Ce,at as B,v as r,g as e,A as v,au as $e,an as l,am as n,ao as o,ar as j,al as Ae,aq as we,j as Re,n as re,ap as ve,aN as xe}from"../chunks/CJKD5S76.js";import{s as V,e as J}from"../chunks/BbLPYoYc.js";import{i as P}from"../chunks/C8kyZyQg.js";import{e as oe,i as be}from"../chunks/DvTTU5Xd.js";import{r as We,s as Z}from"../chunks/Cxroz1Nw.js";import{s as le}from"../chunks/DCAjMP5H.js";import{t as Ze,f as Je}from"../chunks/Bm_VF_Qj.js";import{b as Ke}from"../chunks/Br2u3710.js";import{i as Ne}from"../chunks/Bx-_Ia0P.js";import{p as pe}from"../chunks/Ci853rAn.js";import{s as Qe,a as Xe}from"../chunks/JtTExv-t.js";import{o as Ye}from"../chunks/CIK-4wyV.js";import{g as et}from"../chunks/DCYMSVmV.js";import{p as tt}from"../chunks/DwuzLFAs.js";import{s as st}from"../chunks/D7A9f9vv.js";import{n as at}from"../chunks/ENKgCf05.js";import{h as rt}from"../chunks/CPRV9u04.js";import{b as ot}from"../chunks/D373IDgI.js";const lt=!1,nt=async({fetch:K})=>{const z=await K("/data/skateboard-products/categories.json").then(H=>H.json()),x=await K("/data/rollerskate-products/categories.json").then(H=>H.json());return{skateCats:z,rollerCats:x}},qt=Object.freeze(Object.defineProperty({__proto__:null,load:nt,prerender:lt},Symbol.toStringTag,{value:"Module"})),it="data:image/svg+xml,%3csvg%20style='height:%20512px;%20width:%20512px;'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M0%200h512v512H0z'%20fill='%23d6e010'%20fill-opacity='0'%3e%3c/path%3e%3cg%20class=''%20style=''%20transform='translate(0,0)'%3e%3cpath%20d='M230.844%2047.688c-28.215.083-58.57%202.925-91%208.78C339.666%2041.874%20441.95%20144.504%20495.938%20292.75c0-143.316-92.67-245.57-265.094-245.063zm-2.656%2033.624c-56.703%2022.374-97.407%2081.194-97.407%20150.844%200%2049.006%2020.153%2092.64%2051.845%20122%2022.64%208.588%2046.563%2010.904%2071.406%209.563-26.212-96.096-8.522-185.37%2032.5-271-18.534-6.51-37.96-10.382-58.342-11.407zm-41.844%201.782c-43.318%205.686-90.65%2023.297-142.5%2054.53%2024.987%2097.103%2056.545%20155.038%2092.78%20187.97-15.558-27.26-24.53-59.27-24.53-93.438%200-61.93%2029.422-116.84%2074.25-149.062zm134.156%2025a396.208%20396.208%200%200%201%204.156%2018.844%2028.23%2028.23%200%200%200-5.5-.532c-15.486%200-28.03%2012.55-28.03%2028.03%200%2015.483%2012.544%2028.033%2028.03%2028.033%204.33%200%208.432-.967%2012.094-2.72%203.26%2062.225-9.635%20123.823-41.03%20179.844%2032.597-5.38%2066.42-14.65%20100.78-22.406%2022.463-28.085%2036.094-64.734%2036.094-105.032%200-8.02-.553-15.9-1.594-23.594-31.27-44.417-66.02-78.693-105-100.468zm-301.875%2048.47C36.78%20459.957%20249.36%20479.842%20493.063%20343.717%20306.578%20348.125%20115.88%20532.286%2018.625%20156.56zm427%2082.75c-1.25%2033.993-11.342%2065.633-27.938%2092.28%2023.992-4.595%2048.14-7.793%2072.22-7.813-13.924-30.585-28.636-58.848-44.282-84.467zm41.53%20129.81c-127.06%2079.076-267.344%20111.63-421.03%2039.126%20130.246%20115.856%20342.11%2082.373%20421.03-39.125z'%20fill='%23000000'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e";var ct=k("<div> </div>"),dt=k('<div class="balance-container svelte-t04hmu"><button class="close svelte-t04hmu">× Close</button> <p class="selected-description svelte-t04hmu"> </p> <input type="range" min="0" max="1" step="0.01" class="svelte-t04hmu"> <div class="slider-labels svelte-t04hmu"></div></div>');function ut(K,z){Ce(z,!1);const x=v(),H=v(),te=v();let d=v(.5),M=pe(z,"onSliderChange",8,()=>{}),U=pe(z,"onClose",8,()=>{});const I=["Soft (78A–84A)","Hybrid (85A–91A)","Hard (92A–105A)"],O={"Soft (78A–84A)":"Soft – best on rough surfaces.","Hybrid (85A–91A)":"Hybrid – mix of speed & control.","Hard (92A–105A)":"Hard – ideal for street/skatepark."};function ae(b){r(d,+b.target.value);const A={value:e(d),bucket:e(H)};M()(A)}B(()=>e(d),()=>{r(x,Math.round(e(d)*(I.length-1)))}),B(()=>e(x),()=>{r(H,I[e(x)].split(" ")[0])}),B(()=>e(x),()=>{r(te,O[I[e(x)]])}),$e(),Ne();var h=dt(),C=l(h),c=n(C,2),y=l(c,!0);o(c);var w=n(c,2);We(w);var $=n(w,2);oe($,5,()=>I,be,(b,A,D)=>{var g=ct(),E=l(g,!0);o(g),j(()=>{le(g,1,`label ${D===e(x)?"selected":""}`,"svelte-t04hmu"),V(E,e(A))}),f(b,g)}),o($),o(h),j(()=>V(y,e(te))),J("click",C,function(...b){var A;(A=U())==null||A.apply(this,b)}),ot(w,()=>e(d),b=>r(d,b)),J("input",w,ae),f(K,h),Ae()}var vt=k('<p class="brand-banner svelte-betbke">Showing all <span class="highlight svelte-betbke"> </span> products</p>'),bt=k("<button> </button>"),pt=k('<div class="category-nav svelte-betbke"></div>'),ft=k('<div class="top-nav svelte-betbke"><button>Skateboard</button> <button>Rollerskate</button></div> <!>',1),gt=k('<div class="slider svelte-betbke"><!></div>'),mt=k('<img class="product-image svelte-betbke">'),_t=Ge('<svg viewBox="0 0 64 64" class="placeholder svelte-betbke"><rect width="64" height="64" fill="var(--tertiary-color)"></rect><text x="32" y="36" text-anchor="middle" fill="var(--heading-color)" font-size="12">Image NA</text></svg>'),kt=k('<p class="name svelte-betbke"><strong>Durometer</strong>: <span class="product-highlight svelte-betbke"> </span></p>'),ht=k('<tr class="svelte-betbke"><td class="svelte-betbke"><a target="_blank" rel="noopener" class="svelte-betbke"> </a></td><td class="svelte-betbke"> </td></tr>'),yt=k('<div class="card svelte-betbke"><div class="product-content svelte-betbke"><!> <p class="name svelte-betbke"> </p></div> <!> <table class="price-table svelte-betbke"><tbody></tbody></table> <!> <div class="buttons svelte-betbke"><button class="build svelte-betbke"><img alt="Add to Build" class="svelte-betbke"><span class="svelte-betbke">Add to build</span></button> <button class="view svelte-betbke"><img alt="View Product" class="svelte-betbke"><span class="svelte-betbke">View</span></button> <!></div> <!></div>'),wt=k("<p>Loading…</p>"),xt=k('<div class="product-type-nav svelte-betbke"><!> <!></div> <div class="grid svelte-betbke"></div> <div class="sentinel"><!></div>',1);function Gt(K,z){Ce(z,!1);const[x,H]=Qe(),te=()=>Xe(tt,"$page",x),d=v(),M=v(),U=v(),I=v();let O=pe(z,"data",8);const ae=50;let h=v(null),C=v("skateboard"),c=v(""),y=v([]),w=1,$=!0,b=v(!1),A=v(),D,g=v(null),E=v(!1);function ne(t){var a;const s=(a=t.productTags)==null?void 0:a.find(u=>u.field==="durometer");return s?+s.value.replace(/\D/g,""):NaN}function Se(t){const s=Object.keys(t).find(a=>a!=="url"&&a!=="productVendorUrl");return{vendor:s,price:t[s],url:t.url,productVendorUrl:t.productVendorUrl}}const Pe=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2});Ye(()=>{e(d)?je():fe()});async function je(){var a;r(b,!0);const t=[],s=[{type:"skateboard",cats:O().skateCats},{type:"rollerskate",cats:O().rollerCats}];for(const{type:u,cats:N}of s)for(const Q of N){let F=1,L=!0;for(;L;){const X=await fetch(`/data/${u}-products/${Q}-page-${F}.json`);if(!X.ok)break;const q=await X.json();L=q.length===ae;for(const m of q)((a=m.productBrand)==null?void 0:a.toLowerCase())===e(h)&&t.push(m);F++}}r(C,null),r(y,t),r(b,!1)}function fe(){D==null||D.disconnect(),D=new IntersectionObserver(([t])=>t.isIntersecting&&ge(),{rootMargin:"200px"}),D.observe(e(A))}async function ge(){if(!e(c)||e(b)||!$)return;r(b,!0);const t=e(C)==="skateboard"?"skateboard-products":"rollerskate-products",s=await fetch(`/data/${t}/${e(c)}-page-${w}.json`);if(!s.ok){$=!1,r(b,!1);return}const a=await s.json();r(y,[...e(y),...a]),$=a.length===ae,w++,r(b,!1)}async function me(t){e(d)&&(r(h,null),r(y,[]),w=1,$=!0,r(E,!1)),r(C,t),r(c,""),r(g,null),r(y,[]),w=1,$=!0,await xe(),_e(t==="skateboard"?"decks":"boots")}async function _e(t){e(d)&&(r(h,null),r(y,[]),w=1,$=!0),r(c,t),r(g,null),r(y,[]),w=1,$=!0,r(E,t==="wheels"),await xe(),fe(),ge()}function Be({bucket:t}){r(g,t)}function ze(t){const a={decks:"deck_slug",griptapes:"griptape_slug",risers:"risers_slug",rails:"rails_slug",boots:"boot_slug",toestops:"toestops_slug",slideblocks:"slideblock_slug",plates:"plates_slug",trucks:"trucks_slug",bearings:"bearings_slug",wheels:"wheels_slug",bushings:"bushings_slug"}[e(c)];st.update(u=>({...u,[a]:t.slug})),at.send({message:`${t.productName} added to build`,link:"/builds/new",linkText:"Preview Build"})}function He(t){et(`/product/${e(c)}/${t}`)}B(()=>te(),()=>{var t;r(h,((t=te().url.searchParams.get("brand"))==null?void 0:t.trim().toLowerCase())??null)}),B(()=>e(h),()=>{r(d,!!e(h))}),B(()=>(e(C),Re(O())),()=>{r(M,e(C)==="skateboard"?O().skateCats:O().rollerCats)}),B(()=>(e(d),e(M),e(c)),()=>{!e(d)&&e(M).length&&!e(c)&&r(c,e(M)[0])}),B(()=>e(y),()=>{r(U,e(y).map(t=>({...t,vendorPrices:(t.productPrices??[]).map(Se).sort((s,a)=>s.price-a.price),productTags:t.productTags??[]})))}),B(()=>(e(d),e(U),e(c),e(g)),()=>{r(I,e(d)?e(U):e(c)==="wheels"?e(U).filter(s=>{if(!e(g))return!0;const a=ne(s);return isNaN(a)?!1:e(g)==="Soft"?a>=78&&a<=84:e(g)==="Hybrid"?a>=85&&a<=91:e(g)==="Hard"?a>=92:!0}).sort((s,a)=>{const u=ne(s),N=ne(a);return isNaN(u)?1:isNaN(N)?-1:u-N}):e(U))}),$e(),Ne();var ke=xt(),ie=we(ke),he=l(ie);{var Te=t=>{var s=ft(),a=we(s),u=l(a);let N;var Q=n(u,2);let F;o(a);var L=n(a,2);{var X=m=>{var _=vt(),G=n(l(_)),T=l(G,!0);o(G),ve(),o(_),j(()=>V(T,e(h))),f(m,_)},q=m=>{var _=pt();oe(_,5,()=>e(M),be,(G,T)=>{var S=bt();let R;var ue=l(S,!0);o(S),j(Y=>{R=le(S,1,"svelte-betbke",null,R,Y),V(ue,e(T))},[()=>({selected:e(T)===e(c)})],re),J("click",S,()=>_e(e(T))),f(G,S)}),o(_),f(m,_)};P(L,m=>{e(d)?m(X):m(q,!1)})}j((m,_)=>{N=le(u,1,"svelte-betbke",null,N,m),F=le(Q,1,"svelte-betbke",null,F,_)},[()=>({selected:e(C)==="skateboard"}),()=>({selected:e(C)==="rollerskate"})],re),J("click",u,()=>me("skateboard")),J("click",Q,()=>me("rollerskate")),f(t,s)};P(he,t=>{e(E)||t(Te)})}var Ve=n(he,2);{var Me=t=>{var s=gt(),a=l(s);ut(a,{onSliderChange:Be,onClose:()=>r(E,!1)}),o(s),f(t,s)};P(Ve,t=>{e(E)&&t(Me)})}o(ie);var ce=n(ie,2);oe(ce,5,()=>e(I),t=>t.slug,(t,s)=>{var a=yt(),u=l(a),N=l(u);{var Q=p=>{var i=mt();j(()=>{Z(i,"src",e(s).cloudinaryUrl),Z(i,"alt",e(s).productName),Z(i,"width",e(s).imageWidth),Z(i,"height",e(s).imageHeight)}),f(p,i)},F=p=>{var i=_t();f(p,i)};P(N,p=>{e(s).cloudinaryUrl?p(Q):p(F,!1)})}var L=n(N,2),X=l(L,!0);o(L),o(u);var q=n(u,2);{var m=p=>{var i=kt(),ee=n(l(i),2),se=l(ee,!0);o(ee),o(i),j(W=>V(se,W),[()=>e(s).productTags.find(W=>W.field==="durometer").value],re),f(p,i)};P(q,p=>{e(c)==="wheels"&&e(s).productTags.find(i=>i.field==="durometer")&&p(m)})}var _=n(q,2),G=l(_);oe(G,5,()=>e(s).vendorPrices,be,(p,i)=>{var ee=ht(),se=l(ee),W=l(se),Fe=l(W,!0);o(W),o(se);var ye=n(se),Le=l(ye);o(ye),o(ee),j(qe=>{Z(W,"href",e(i).productVendorUrl||e(i).url),V(Fe,e(i).vendor),V(Le,`$${qe??""}`)},[()=>Pe.format(e(i).price)],re),f(p,ee)}),o(G),o(_);var T=n(_,2);P(T,p=>{});var S=n(T,2),R=l(S),ue=l(R);Z(ue,"src",rt),ve(),o(R);var Y=n(R,2),Oe=l(Y);Z(Oe,"src",it),ve(),o(Y);var De=n(Y,2);P(De,p=>{}),o(S);var Ee=n(S,2);P(Ee,p=>{}),o(a),j(()=>V(X,e(s).productName)),J("click",R,()=>ze(e(s))),J("click",Y,()=>He(e(s).slug)),Ze(1,a,()=>Je,()=>({duration:200})),f(t,a)}),o(ce);var de=n(ce,2),Ue=l(de);{var Ie=t=>{var s=wt();f(t,s)};P(Ue,t=>{e(b)&&t(Ie)})}o(de),Ke(de,t=>r(A,t),()=>e(A)),f(K,ke),Ae(),H()}export{Gt as component,qt as universal};
