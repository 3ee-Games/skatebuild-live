import{t as B,b as x}from"../chunks/DfXK_jSs.js";import"../chunks/DBxjm7Y_.js";import{ak as C,at as w,au as G,ar as P,al as J,am as l,an as r,v as j,A as U,j as L,ao as a,g as i,ap as Q,n as R}from"../chunks/CWOhmV2c.js";import{e as X,s as u}from"../chunks/CwUoD2Kj.js";import{i as Y}from"../chunks/DLKYxPPN.js";import{e as Z,i as ee}from"../chunks/CMljKicW.js";import{s as c}from"../chunks/C32hVi81.js";import{i as te}from"../chunks/BtpCMNU_.js";import{p as ae}from"../chunks/BuPKHJej.js";import{s as re,a as se}from"../chunks/DB1vgmwF.js";import"../chunks/DSm9Ym1j.js";import{p as oe}from"../chunks/UNI5h3Fo.js";import{s as le}from"../chunks/D7-f-tgC.js";import{n as ie}from"../chunks/D9wCr5Al.js";import{h as ce}from"../chunks/CPRV9u04.js";const de=!1,ne=async({params:f,fetch:d})=>{const{category:n,slug:m}=f;let o=await d(`/data/skateboard-products/${n}/${m}.json`);if(o.ok||(o=await d(`/data/rollerskate-products/${n}/${m}.json`)),!o.ok)throw new Error(`Product not found: ${n}/${m}`);return{product:await o.json()}},Ve=Object.freeze(Object.defineProperty({__proto__:null,load:ne,prerender:de},Symbol.toStringTag,{value:"Module"}));var me=B('<img class="product-image svelte-1flmiee">'),pe=B('<tr class="svelte-1flmiee"><td class="svelte-1flmiee"><a target="_blank" rel="noopener" class="svelte-1flmiee"> </a></td><td class="svelte-1flmiee"> </td></tr>'),ue=B('<main class="container svelte-1flmiee"><h1 class="svelte-1flmiee"> </h1> <p class="brand svelte-1flmiee"> </p> <!> <section class="prices svelte-1flmiee"><h2 class="svelte-1flmiee">Vendor Prices</h2> <table class="svelte-1flmiee"><thead class="svelte-1flmiee"><tr class="svelte-1flmiee"><th class="svelte-1flmiee">Vendor</th><th class="svelte-1flmiee">Price</th></tr></thead><tbody class="svelte-1flmiee"></tbody></table></section> <div class="add-to-build svelte-1flmiee"><button class="svelte-1flmiee"><img alt="Add to Build" class="svelte-1flmiee"> <span class="svelte-1flmiee">Add to build</span></button></div></main>');function Ne(f,d){C(d,!1);const[n,m]=re(),o=()=>se(oe,"$page",n),v=U();let s=ae(d,"data",8),V=U(),N=U();const D=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2});function q(){le.update(t=>{const e=`${i(V).slice(0,-1)}_slug`;return{...t,[e]:i(N)}}),ie.send({message:`${s().product.productName} added to build`,link:"/builds/new",linkText:"Preview Build"})}w(()=>o(),()=>{j(V,o().params.category)}),w(()=>o(),()=>{j(N,o().params.slug)}),w(()=>L(s()),()=>{j(v,s().product.productPrices.map(t=>{const e=Object.keys(t).find(p=>p!=="url");return{vendor:e,price:t[e],url:t.url,productVendorUrl:t.productVendorUrl}}))}),G(),te();var g=ue(),_=r(g),z=r(_,!0);a(_);var b=l(_,2),E=r(b);a(b);var A=l(b,2);{var H=t=>{var e=me();P(()=>{c(e,"src",s().product.cloudinaryUrl),c(e,"alt",s().product.productName),c(e,"width",s().product.imageWidth),c(e,"height",s().product.imageHeight)}),x(t,e)};Y(A,t=>{s().product.cloudinaryUrl&&t(H)})}var h=l(A,2),F=l(r(h),2),O=l(r(F));Z(O,5,()=>i(v),ee,(t,e)=>{var p=pe(),$=r(p),k=r($),K=r(k,!0);a(k),a($);var T=l($),M=r(T);a(T),a(p),P(W=>{c(k,"href",i(e).productVendorUrl||i(e).url),u(K,i(e).vendor),u(M,`$${W??""}`)},[()=>D.format(i(e).price)],R),x(t,p)}),a(O),a(F),a(h);var S=l(h,2),y=r(S),I=r(y);c(I,"src",ce),Q(2),a(y),a(S),a(g),P(()=>{u(z,s().product.productName),u(E,`by ${s().product.productBrand??""}`)}),X("click",y,q),x(f,g),J(),m()}export{Ne as component,Ve as universal};
