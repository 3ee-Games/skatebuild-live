import{_ as c}from"../chunks/Dp1pzeXC.js";import{e as Ke}from"../chunks/QUt7Choc.js";import{g as Qe}from"../chunks/BvMxNxmo.js";import{s as $e}from"../chunks/rQMs5dEI.js";import{t as k,e as m,h as Xe}from"../chunks/D-NZ9KzL.js";import"../chunks/DCITK-8o.js";import{ao as we,ak as w,as as Oe,au as l,av as r,aw as d,aL as Ee,g as a,ap as Y,aq as Ze,ar as Fe,A as B,ax as et,v as U,j as tt,ay as Pe,n as ne}from"../chunks/e3f4nhTa.js";import{e as Q,s as f}from"../chunks/D5XXxM7T.js";import{i as L}from"../chunks/FfnKhST-.js";import{e as H,i as K}from"../chunks/4P6XMMIF.js";import{r as Te,s as b,a as st}from"../chunks/BWiI1ZN9.js";import{s as at}from"../chunks/Ca3grsK3.js";import{s as rt}from"../chunks/D-8aRGT1.js";import{i as Ve}from"../chunks/CRf2cdWq.js";import{p as A}from"../chunks/B3wEXMiD.js";import{s as lt,a as ot}from"../chunks/DlEXJ4Z4.js";import{a as it}from"../chunks/BAgcxPv8.js";import{g as ut}from"../chunks/B0PM6aow.js";import{c as dt}from"../chunks/BSCTPwwV.js";import{s as nt,r as ct}from"../chunks/DqAaAC6z.js";import{L as _t}from"../chunks/2TEubLuL.js";const pt=!1;function vt(){const o=Object.assign({"/static/data/builds/catra/great-googly-moogly.json":()=>c(()=>import("../chunks/CldRNrNJ.js"),[],import.meta.url),"/static/data/builds/catra/jessup-park-skating.json":()=>c(()=>import("../chunks/ClTHrvE7.js"),[],import.meta.url),"/static/data/builds/catra/mookie-decker.json":()=>c(()=>import("../chunks/KedCCzCz.js"),[],import.meta.url),"/static/data/builds/catra/oootie-speed-deck.json":()=>c(()=>import("../chunks/D4fe49aH.js"),[],import.meta.url),"/static/data/builds/catra/roller-derby.json":()=>c(()=>import("../chunks/DIR_3lGS.js"),[],import.meta.url),"/static/data/builds/catra/smaggomg-fuckers.json":()=>c(()=>import("../chunks/CdaMEHJl.js"),[],import.meta.url),"/static/data/builds/catra/test1.json":()=>c(()=>import("../chunks/C7-XfP53.js"),[],import.meta.url),"/static/data/builds/catra/test2.json":()=>c(()=>import("../chunks/Cv5OIiKM.js"),[],import.meta.url),"/static/data/builds/deeoer2/oootie-speed-deck-pulled.json":()=>c(()=>import("../chunks/CMWMZEEt.js"),[],import.meta.url),"/static/data/builds/deeoer2/test2.json":()=>c(()=>import("../chunks/BM2hPDOK.js"),[],import.meta.url),"/static/data/builds/deeoer2/town-ripper.json":()=>c(()=>import("../chunks/DtowMUEi.js"),[],import.meta.url),"/static/data/builds/ryguy/dirty-lolly-park.json":()=>c(()=>import("../chunks/DKpvy-BC.js"),[],import.meta.url),"/static/data/builds/ryguy/low-profile-park.json":()=>c(()=>import("../chunks/CXzECMXP.js"),[],import.meta.url),"/static/data/builds/ryguy/moxi-fomo.json":()=>c(()=>import("../chunks/BvVofjDp.js"),[],import.meta.url),"/static/data/builds/workshop/bakers-beginners.json":()=>c(()=>import("../chunks/BNXoiD1Z.js"),[],import.meta.url),"/static/data/builds/workshop/cinco-skoots.json":()=>c(()=>import("../chunks/Kt0XrbqW.js"),[],import.meta.url),"/static/data/builds/workshop/krux-tripper.json":()=>c(()=>import("../chunks/Db-4BRLJ.js"),[],import.meta.url),"/static/data/builds/workshop/powell-flight.json":()=>c(()=>import("../chunks/Du8BW-NV.js"),[],import.meta.url),"/static/data/builds/workshop/santa-cruzzin.json":()=>c(()=>import("../chunks/CVoGs-8s.js"),[],import.meta.url),"/static/data/builds/workshop/smooth-riding.json":()=>c(()=>import("../chunks/3NiCWO8e.js"),[],import.meta.url)}),i=[];for(const n of Object.keys(o)){const _=n.split("/"),p=_[_.length-2],v=_[_.length-1].replace(".json","");i.push({username:p,slug:v})}return i}const gt=async({params:o,fetch:i})=>{const{username:n,slug:_}=o;let p;const v=Qe($e);if(v.slug===_&&v.owner_username===n)p={...v,attributes:v.attributes??[]};else{const y=await i(`/data/builds/${n}/${_}.json`);if(!y.ok)throw Ke(404,`Build not found: ${n}/${_}`);const s=await y.json();p={...s,attributes:s.attributes??[]}}const P=mt(p,i),O=await Promise.all(Object.entries(P).filter(([,y])=>y!==null).map(async([y,s])=>{const $=await s;return $.ok?[y,await $.json()]:[y,null]}));return{build:p,products:Object.fromEntries(O)}};function mt(o,i){const n=o.build_type==="skateboard"?"skateboard-products":"rollerskate-products",_={bearings:i(`/data/${n}/bearings/${o.bearings_slug}.json`),bushings:i(`/data/${n}/bushings/${o.bushings_slug}.json`),trucks:i(`/data/${n}/trucks/${o.trucks_slug}.json`),wheels:i(`/data/${n}/wheels/${o.wheels_slug}.json`)},p={decks:o.deck_slug?i(`/data/${n}/decks/${o.deck_slug}.json`):null,griptape:o.griptape_slug?i(`/data/${n}/griptape/${o.griptape_slug}.json`):null,rails:o.rails_slug?i(`/data/${n}/rails/${o.rails_slug}.json`):null,risers:o.risers_slug?i(`/data/${n}/risers/${o.risers_slug}.json`):null},v={boots:o.boot_slug?i(`/data/${n}/boots/${o.boot_slug}.json`):null,slideblocks:o.slideblock_slug?i(`/data/${n}/slideblocks/${o.slideblock_slug}.json`):null,plates:o.plates_slug?i(`/data/${n}/plates/${o.plates_slug}.json`):null,toestops:o.toestops_slug?i(`/data/${n}/toestops/${o.toestops_slug}.json`):null};return{..._,...o.build_type==="skateboard"?p:v}}const Ft=Object.freeze(Object.defineProperty({__proto__:null,entries:vt,load:gt,prerender:pt},Symbol.toStringTag,{value:"Module"}));var bt=k('<p class="svelte-11fic08"> </p>'),kt=k('<div class="option-container svelte-11fic08"><article class="main svelte-11fic08"><h4 class="highlight large svelte-11fic08"> </h4> <!></article> <aside class="aside aside-1 svelte-11fic08"><input type="checkbox" class="svelte-11fic08"> <label class="svelte-11fic08"> </label></aside></div>');function ht(o,i){we(i,!1);let n=A(i,"id",8,""),_=A(i,"name",8,""),p=A(i,"label",8,""),v=A(i,"description",8,""),P=A(i,"checked",12,!1),O=A(i,"onChange",8,()=>{});function y(g){O()({id:g.target.id,checked:g.target.checked})}Ve();var s=kt(),$=l(s),I=l($),S=l(I,!0);r(I);var T=d(I,2);{var X=g=>{var N=bt(),G=l(N,!0);r(N),w(()=>f(G,v())),m(g,N)};L(T,g=>{v()&&g(X)})}r($);var z=d($,2),j=l(z);Te(j);var q=d(j,2),C=l(q,!0);r(q),r(z),r(s),w(()=>{f(S,p()),b(j,"id",n()),b(j,"name",_()),b(q,"for",n()),f(C,p())}),dt(j,P),Q("change",j,y),m(o,s),Oe()}var ft=k('<meta name="description">'),yt=k('<img alt="Skateboard build" class="build-icon svelte-1030u8k">'),jt=k('<img alt="Rollerskate build" class="build-icon svelte-1030u8k">'),Et=k('<div class="edit-container svelte-1030u8k"><button class="edit-button svelte-1030u8k">Edit Build</button></div>'),Pt=k('<div class="edit-container svelte-1030u8k"><button class="edit-button svelte-1030u8k">Modify Build</button></div>'),$t=k('<div class="attribute-item svelte-1030u8k"><span class="attr-name svelte-1030u8k"> </span> <div class="attr-bar-container svelte-1030u8k"><div class="attr-bar svelte-1030u8k"></div></div></div>'),wt=k('<section class="attributes-section svelte-1030u8k"><h2 class="svelte-1030u8k">Stats</h2> <!></section>'),Ot=k('<tr class="svelte-1030u8k"><td class="svelte-1030u8k"><input type="radio" class="svelte-1030u8k"></td><td data-label="Vendor" class="svelte-1030u8k"><a target="_blank" rel="noopener" class="svelte-1030u8k"> </a></td><td data-label="Price" class="svelte-1030u8k"> </td></tr>'),Tt=k('<table class="price-table svelte-1030u8k"><thead class="svelte-1030u8k"><tr class="svelte-1030u8k"><th class="svelte-1030u8k">Select</th><th class="svelte-1030u8k">Vendor</th><th class="svelte-1030u8k">Price</th></tr></thead><tbody class="svelte-1030u8k"></tbody></table>'),Vt=k('<section class="build-section svelte-1030u8k"><div class="section-inner svelte-1030u8k"><img> <div class="section-info svelte-1030u8k"><h2 class="svelte-1030u8k"> </h2> <p><a class="svelte-1030u8k"><strong> </strong></a> </p> <!></div></div></section>'),Dt=k(`<section class="build-section svelte-1030u8k"><h2 class="svelte-1030u8k">Grand Total</h2> <p class="grand-total svelte-1030u8k"> </p> <p class="disclaimer svelte-1030u8k">Prices are an estimate. Check to make sure all parts are compatible and the correct size
				before purchasing.</p></section>`),xt=k('<!> <div class="container svelte-1030u8k"><h1 class="svelte-1030u8k"><!> </h1> <p>Created by <a class="svelte-1030u8k"> </a></p> <!> <p>This build is designed for <strong><span class="highlight"> </span></strong>.</p> <!> <!> <!> <!></div>',1);function es(o,i){we(i,!1);const[n,_]=lt(),p=()=>ot(it,"$accountData",n),v=B(),P=B(),O=B(),y=B();let s=A(i,"data",8);const $=s().build.owner_username?`${s().build.owner_username}'s custom ${s().build.build_type} build | SkateBuild.pro`:"Build Your Skate",I=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),S=s().build.attributes??[];let T=B(!1);function X({id:t,checked:e}){U(T,e)}function z(t){const e=Object.keys(t).find(u=>u!=="url"&&u!=="productVendorUrl");return{vendor:e,price:t[e],url:t.url,productVendorUrl:t.productVendorUrl}}function j(t){const e=t.split("-").pop().trim(),u=parseFloat(e.replace(/[^0-9.]/g,""));return isNaN(u)?0:Math.round(u*100)}const C=[{key:"decks",label:"Deck",slug:s().build.deck_slug},{key:"griptape",label:"griptape",slug:s().build.griptape_slug},{key:"boots",label:"Boots",slug:s().build.boot_slug},{key:"plates",label:"Plates",slug:s().build.plates_slug},{key:"trucks",label:"Trucks",slug:s().build.trucks_slug},{key:"slideblocks",label:"SlideBlocks",slug:s().build.slideblock_slug},{key:"wheels",label:"Wheels",slug:s().build.wheels_slug},{key:"bearings",label:"Bearings",slug:s().build.bearings_slug},{key:"toestops",label:"Toestops",slug:s().build.toestops_slug},{key:"rails",label:"rails",slug:s().build.rails_slug},{key:"risers",label:"risers",slug:s().build.risers_slug},{key:"bushings",label:"Bushings",slug:s().build.bushings_slug}].map(t=>{const e=s().products[t.key];if(!e||!t.slug)return null;const u=e.productPrices.map(z);return{key:t.key,label:t.label,slug:t.slug,productName:e.productName,productBrand:e.productBrand,cloudinaryUrl:e.cloudinaryUrl,vendorPrices:u}}).filter(Boolean),g=B({});C.forEach(t=>{t.vendorPrices.length&&Ee(g,a(g)[t.key]=j(t.vendorPrices[0].price))});function N(t,e){Ee(g,a(g)[t]=e)}function G(){$e.set({slug:s().build.slug,name:s().build.name,skater_type:[],build_type:s().build.build_type,skating_type:s().build.skating_type,stance:s().build.stance??"",deck_slug:s().build.deck_slug??"",griptape_slug:s().build.griptape_slug??"",risers_slug:s().build.risers_slug??"",boot_slug:s().build.boot_slug??"",toestops_slug:s().build.toestops_slug??"",slideblock_slug:s().build.slideblock_slug??"",rails_slug:s().build.rails_slug??"",plates_slug:s().build.plates_slug??"",trucks_slug:s().build.trucks_slug,bearings_slug:s().build.bearings_slug,wheels_slug:s().build.wheels_slug,bushings_slug:s().build.bushings_slug,attributes:S,owner_username:s().build.owner_username??""}),ut("/builds/new")}function De(t){return{productBrand:t.productBrand,productName:t.productName,cloudinaryUrl:t.cloudinaryUrl,productPrices:t.vendorPrices.map(e=>({[e.vendor]:e.price,url:e.url,productVendorUrl:e.productVendorUrl}))}}Y(()=>p(),()=>{var t;U(v,(t=p())==null?void 0:t.username)}),Y(()=>tt(s()),()=>{U(P,s().build.owner_username)}),Y(()=>a(g),()=>{U(O,Object.values(a(g)).reduce((t,e)=>t+e,0))}),Y(()=>a(O),()=>{U(y,`$${I.format(a(O)/100)}`)}),Ze(),Ve();var ce=xt();Xe(t=>{var e=ft();et.title=$,w(()=>b(e,"content",`Check out ${s().build.owner_username??""}'s custom ${s().build.build_type??""} build and prices.`)),m(t,e)});var _e=Fe(ce);H(_e,1,()=>C,K,(t,e)=>{const u=ne(()=>De(a(e)));_t(t,{get product(){return a(u)}})});var pe=d(_e,2),Z=l(pe),ve=l(Z);{var xe=t=>{var e=yt();b(e,"src",nt),m(t,e)},Le=(t,e)=>{{var u=E=>{var h=jt();b(h,"src",ct),m(E,h)};L(t,E=>{s().build.build_type==="rollerskate"&&E(u)},e)}};L(ve,t=>{s().build.build_type==="skateboard"?t(xe):t(Le,!1)})}var Ae=d(ve);r(Z);var F=d(Z,2),ee=d(l(F)),Ie=l(ee,!0);r(ee),r(F);var ge=d(F,2);{var Re=t=>{var e=Et(),u=l(e);r(e),Q("click",u,G),m(t,e)},Be=t=>{var e=Pt(),u=l(e);r(e),Q("click",u,G),m(t,e)};L(ge,t=>{a(v)===a(P)?t(Re):t(Be,!1)})}var te=d(ge,2),me=d(l(te)),be=l(me),Ue=l(be,!0);r(be),r(me),Pe(),r(te);var ke=d(te,2);{var Se=t=>{var e=wt(),u=d(l(e),2);H(u,1,()=>S,K,(E,h)=>{var V=$t(),D=l(V),se=l(D,!0);r(D);var R=d(D,2),x=l(R);r(R),r(V),w((J,ae)=>{b(V,"data-value",J),f(se,a(h).name),b(x,"data-color",a(h).value<=.3?"low":a(h).value<=.7?"medium":"high"),rt(x,`width: ${ae??""}%;`)},[()=>`${Math.round(a(h).value*100)}%`,()=>Math.round(a(h).value*100)],ne),m(E,V)}),r(e),m(t,e)};L(ke,t=>{S.length&&t(Se)})}var he=d(ke,2);ht(he,{id:"toggle_prices",name:"toggle_prices",label:"Show Prices",description:"Compare prices.",onChange:X,get checked(){return a(T)},set checked(t){U(T,t)},$$legacy:!0});var fe=d(he,2);H(fe,1,()=>C,K,(t,e)=>{var u=Vt(),E=l(u),h=l(E),V=d(h,2),D=l(V),se=l(D,!0);r(D);var R=d(D,2),x=l(R),J=l(x),ae=l(J,!0);r(J),r(x);var Me=d(x);r(R);var ze=d(R,2);{var qe=re=>{var le=Tt(),ye=d(l(le));H(ye,5,()=>a(e).vendorPrices,K,(Ge,M)=>{var oe=Ot(),ie=l(oe),W=l(ie);Te(W),r(ie);var ue=d(ie),de=l(ue),Je=l(de,!0);r(de),r(ue);var je=d(ue),We=l(je);r(je),r(oe),w((Ye,He)=>{b(W,"name","selected_"+a(e).key),st(W,Ye),b(de,"href",a(M).productVendorUrl),f(Je,a(M).vendor),f(We,`$${He??""}`)},[()=>a(g)[a(e).key]===j(a(M).price),()=>I.format(a(M).price)],ne),Q("change",W,()=>N(a(e).key,j(a(M).price))),m(Ge,oe)}),r(ye),r(le),m(re,le)};L(ze,re=>{a(T)&&re(qe)})}r(V),r(E),r(u),w(()=>{b(h,"src",a(e).cloudinaryUrl),b(h,"alt",a(e).productName),at(h,1,`section-image ${a(e).key??""}`,"svelte-1030u8k"),f(se,a(e).label),b(x,"href",`/product/${a(e).key}/${a(e).slug}`),f(ae,a(e).productName),f(Me,`  by ${a(e).productBrand??""}`)}),m(t,u)});var Ce=d(fe,2);{var Ne=t=>{var e=Dt(),u=d(l(e),2),E=l(u,!0);r(u),Pe(2),r(e),w(()=>f(E,a(y))),m(t,e)};L(Ce,t=>{a(T)&&t(Ne)})}r(pe),w(()=>{f(Ae,` ${s().build.name??""}`),b(ee,"href",`/profiles/${a(P)}`),f(Ie,a(P)),f(Ue,s().build.skating_type)}),m(o,ce),Oe(),_()}export{es as component,Ft as universal};
