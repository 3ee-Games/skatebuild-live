import{t as h,e as _}from"../chunks/D-NZ9KzL.js";import"../chunks/DCITK-8o.js";import{ao as O,g as t,as as S,aw as s,au as l,v as o,A as v,av as p,ay as A,ak as D}from"../chunks/e3f4nhTa.js";import{e as P,s as T}from"../chunks/D5XXxM7T.js";import{i as q}from"../chunks/FfnKhST-.js";import{r as g}from"../chunks/BWiI1ZN9.js";import{b as y}from"../chunks/BSCTPwwV.js";import{p as C}from"../chunks/CWmzcjye.js";import{i as L}from"../chunks/CRf2cdWq.js";import{a as N}from"../chunks/BAgcxPv8.js";import{g as $}from"../chunks/D1pQACMr.js";const E=!0,X=Object.freeze(Object.defineProperty({__proto__:null,prerender:E},Symbol.toStringTag,{value:"Module"}));var I=h('<div class="error"> </div>'),J=h('<form class="container svelte-1m6ejzr"><h1>Login</h1> <div class="field svelte-1m6ejzr"><label for="username">Username</label> <input id="username" type="text" placeholder="enter your username" required class="svelte-1m6ejzr"></div> <div class="field svelte-1m6ejzr"><label for="password">Password</label> <input id="password" type="password" placeholder="enter your password" required class="svelte-1m6ejzr"></div> <!> <button type="submit" class="svelte-1m6ejzr"><span>Login</span></button></form>');function Y(w,j){O(j,!1);let m=v(""),d=v(""),a=v("");async function z(e){e.preventDefault(),o(a,"");try{const r=await fetch("https://3ee.dev/account/login/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro"},mode:"cors",body:JSON.stringify({username:t(m),password:t(d)})}),n=await r.json();r.ok&&n.token?(N.set(n),$("/")):o(a,"Invalid credentials")}catch(r){console.error(r),o(a,"Network error")}}L();var i=J(),u=s(l(i),2),f=s(l(u),2);g(f),p(u);var c=s(u,2),b=s(l(c),2);g(b),p(c);var k=s(c,2);{var x=e=>{var r=I(),n=l(r,!0);p(r),D(()=>T(n,t(a))),_(e,r)};q(k,e=>{t(a)&&e(x)})}A(2),p(i),y(f,()=>t(m),e=>o(m,e)),y(b,()=>t(d),e=>o(d,e)),P("submit",i,C(z)),_(w,i),S()}export{Y as component,X as universal};
