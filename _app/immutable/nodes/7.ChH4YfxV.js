import{t as _,b as k,r as K}from"../chunks/CtZTu4By.js";import"../chunks/CDWt5krY.js";import{ak as L,g as s,al as Q,am as r,an as i,v as a,A as n,ao as l,ap as R,aq as U,ar as Y}from"../chunks/CJKD5S76.js";import{e as V,s as O}from"../chunks/BbLPYoYc.js";import{i as $}from"../chunks/C8kyZyQg.js";import{r as S}from"../chunks/Cxroz1Nw.js";import{b as x}from"../chunks/D373IDgI.js";import{p as W}from"../chunks/CWmzcjye.js";import{i as X}from"../chunks/Bx-_Ia0P.js";import{s as Z,a as ee}from"../chunks/JtTExv-t.js";import{a as T}from"../chunks/BVsUSx6m.js";import{g as te}from"../chunks/BvIipBL0.js";var ae=_('<div class="field svelte-pxf6k4"><label for="email" class="svelte-pxf6k4">Your Email</label> <input id="email" type="email" placeholder="you@example.com" required class="svelte-pxf6k4"></div> <div class="field svelte-pxf6k4"><label for="name" class="svelte-pxf6k4">Your Name</label> <input id="name" type="text" placeholder="Your Name" required class="svelte-pxf6k4"></div>',1),se=_('<div class="error"> </div>'),oe=_('<div class="success"> </div>'),re=_('<div class="container svelte-pxf6k4"><h1>Contact</h1> <p>Contact me if you have questions, suggestions, add your own skate shop, or use Skatebuild on your own website.</p> <form><!> <div class="field svelte-pxf6k4"><label for="subject" class="svelte-pxf6k4">Subject</label> <input id="subject" type="text" placeholder="Subject" required class="svelte-pxf6k4"></div> <div class="field svelte-pxf6k4"><label for="body" class="svelte-pxf6k4">Message</label> <textarea id="body" rows="6" placeholder="How can we assist you?" required class="svelte-pxf6k4"></textarea></div> <!> <!> <button type="submit" class="svelte-pxf6k4"><span class="svelte-pxf6k4">Submit</span></button></form></div>');function xe(z,E){L(E,!1);const[H,J]=Z(),M=()=>ee(T,"$accountData",H);let c=n(""),d=n(""),f=n(""),m=n(""),p=n(""),u=n("");async function P(t){t.preventDefault(),a(p,""),a(u,"");const e=te(T),o={subject:s(f),body:s(m)};e!=null&&e.token||(o.email=s(c),o.name=s(d));try{const v=await fetch("https://3ee.dev/account/contact/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro",...(e==null?void 0:e.token)&&{Authorization:`Token ${e.token}`}},mode:"cors",body:JSON.stringify(o)}),b=await v.json().catch(()=>({}));v.ok?(a(u,"Your message has been sent!"),a(f,""),a(m,""),e!=null&&e.token||(a(c,""),a(d,""))):a(p,b.detail||"Submission failed")}catch{a(p,"Network error")}}X();var h=re(),y=r(i(h),4),q=i(y);{var B=t=>{var e=ae(),o=U(e),v=r(i(o),2);S(v),l(o);var b=r(o,2),N=r(i(b),2);S(N),l(b),x(v,()=>s(c),w=>a(c,w)),x(N,()=>s(d),w=>a(d,w)),k(t,e)};$(q,t=>{var e;(e=M())!=null&&e.token||t(B)})}var g=r(q,2),A=r(i(g),2);S(A),l(g);var j=r(g,2),C=r(i(j),2);K(C),l(j);var D=r(j,2);{var F=t=>{var e=se(),o=i(e,!0);l(e),Y(()=>O(o,s(p))),k(t,e)};$(D,t=>{s(p)&&t(F)})}var G=r(D,2);{var I=t=>{var e=oe(),o=i(e,!0);l(e),Y(()=>O(o,s(u))),k(t,e)};$(G,t=>{s(u)&&t(I)})}R(2),l(y),l(h),x(A,()=>s(f),t=>a(f,t)),x(C,()=>s(m),t=>a(m,t)),V("submit",y,W(P)),k(z,h),Q(),J()}export{xe as component};
