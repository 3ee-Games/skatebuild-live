import{t as _,a as k}from"../chunks/BuopEgDJ.js";import"../chunks/cRWhXdaq.js";import{ak as K,c as s,al as L,am as r,an as i,j as a,o as n,ao as l,ap as Q,aq as R,ar as Y}from"../chunks/Bxgm8LiM.js";import{e as U,r as V,s as O}from"../chunks/C4-josYg.js";import{i as $}from"../chunks/CmJgwWHB.js";import{r as S}from"../chunks/C_W0prB7.js";import{b as x}from"../chunks/CitbKg_k.js";import{p as W}from"../chunks/CWmzcjye.js";import{i as X}from"../chunks/BN_JieM2.js";import{s as Z,a as ee}from"../chunks/COYJcMgf.js";import{a as T}from"../chunks/DvQrTR9s.js";import{g as te}from"../chunks/CugCgBCK.js";var ae=_('<div class="field svelte-pxf6k4"><label for="email" class="svelte-pxf6k4">Your Email</label> <input id="email" type="email" placeholder="you@example.com" required class="svelte-pxf6k4"></div> <div class="field svelte-pxf6k4"><label for="name" class="svelte-pxf6k4">Your Name</label> <input id="name" type="text" placeholder="Your Name" required class="svelte-pxf6k4"></div>',1),se=_('<div class="error"> </div>'),oe=_('<div class="success"> </div>'),re=_('<div class="container svelte-pxf6k4"><h1>Contact</h1> <p>Contact me if you have questions, suggestions, add your own skate shop, or use Skatebuild on your own website.</p> <form><!> <div class="field svelte-pxf6k4"><label for="subject" class="svelte-pxf6k4">Subject</label> <input id="subject" type="text" placeholder="Subject" required class="svelte-pxf6k4"></div> <div class="field svelte-pxf6k4"><label for="body" class="svelte-pxf6k4">Message</label> <textarea id="body" rows="6" placeholder="How can we assist you?" required class="svelte-pxf6k4"></textarea></div> <!> <!> <button type="submit" class="svelte-pxf6k4"><span class="svelte-pxf6k4">Submit</span></button></form></div>');function xe(z,E){K(E,!1);const[H,J]=Z(),M=()=>ee(T,"$accountData",H);let c=n(""),d=n(""),f=n(""),m=n(""),p=n(""),u=n("");async function P(t){t.preventDefault(),a(p,""),a(u,"");const e=te(T),o={subject:s(f),body:s(m)};e!=null&&e.token||(o.email=s(c),o.name=s(d));try{const v=await fetch("https://3ee.dev/account/contact/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro",...(e==null?void 0:e.token)&&{Authorization:`Token ${e.token}`}},mode:"cors",body:JSON.stringify(o)}),b=await v.json().catch(()=>({}));v.ok?(a(u,"Your message has been sent!"),a(f,""),a(m,""),e!=null&&e.token||(a(c,""),a(d,""))):a(p,b.detail||"Submission failed")}catch{a(p,"Network error")}}X();var h=re(),y=r(i(h),4),q=i(y);{var B=t=>{var e=ae(),o=R(e),v=r(i(o),2);S(v),l(o);var b=r(o,2),N=r(i(b),2);S(N),l(b),x(v,()=>s(c),w=>a(c,w)),x(N,()=>s(d),w=>a(d,w)),k(t,e)};$(q,t=>{var e;(e=M())!=null&&e.token||t(B)})}var g=r(q,2),C=r(i(g),2);S(C),l(g);var j=r(g,2),D=r(i(j),2);V(D),l(j);var A=r(j,2);{var F=t=>{var e=se(),o=i(e,!0);l(e),Y(()=>O(o,s(p))),k(t,e)};$(A,t=>{s(p)&&t(F)})}var G=r(A,2);{var I=t=>{var e=oe(),o=i(e,!0);l(e),Y(()=>O(o,s(u))),k(t,e)};$(G,t=>{s(u)&&t(I)})}Q(2),l(y),l(h),x(C,()=>s(f),t=>a(f,t)),x(D,()=>s(m),t=>a(m,t)),U("submit",y,W(P)),k(z,h),L(),J()}export{xe as component};
