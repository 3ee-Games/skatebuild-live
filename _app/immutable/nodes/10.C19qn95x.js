import{t as d,b as m}from"../chunks/D1cZUMdF.js";import"../chunks/D6TNQf53.js";import{al as A,ao as j,ar as s,ap as n,g,A as L,aq as i,v as c,an as O}from"../chunks/B4cbvUoc.js";import{e as v,s as P}from"../chunks/A0i425p3.js";import{i as S}from"../chunks/DRCw5_vY.js";import{i as T}from"../chunks/BmqVuqWk.js";import{g as $}from"../chunks/CV9XhQAu.js";import{g as x}from"../chunks/B6bpqmEw.js";import{a as l}from"../chunks/DIkIHlzs.js";import{s as C}from"../chunks/C8OrEXdx.js";import{s as M}from"../chunks/B32zQJ2A.js";const q=!0,U=Object.freeze(Object.defineProperty({__proto__:null,prerender:q},Symbol.toStringTag,{value:"Module"}));var B=d('<p class="error-banner svelte-piwgzn"> </p>'),D=d('<div class="logout-page svelte-piwgzn"><h1>Are you sure you want to log out?</h1> <!> <div class="action-buttons svelte-piwgzn"><button class="svelte-piwgzn"><span>Yes</span></button> <button class="alert svelte-piwgzn"><span>Oops</span></button></div></div>');function V(b,h){A(h,!1);let o=L(null);function _(){var t,e;(e=(t=l).clear)==null||e.call(t),l.deleteLocalStorage(),C.clear(),M.clear()}async function y(){c(o,null);const{token:t}=$(l)||{};try{const a=await(await fetch("https://3ee.dev/account/logout/",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro",...t&&{Authorization:`Token ${t}`}},mode:"cors"})).json();a!=null&&a.success?(_(),await x("/")):c(o,"Logout failed. Please try again.")}catch(e){console.error("Logout error",e),c(o,"An error occurred. Please try again.")}}function w(){typeof history<"u"&&history.back()}T();var r=D(),p=s(n(r),2);{var k=t=>{var e=B(),a=n(e,!0);i(e),O(()=>P(a,g(o))),m(t,e)};S(p,t=>{g(o)&&t(k)})}var u=s(p,2),f=n(u),z=s(f,2);i(u),i(r),v("click",f,y),v("click",z,w),m(b,r),j()}export{V as component,U as universal};
