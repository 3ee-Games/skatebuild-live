import{t as k,a as f,n as Oe,c as Ue}from"../chunks/CliB3EC4.js";import"../chunks/DNrfkIUI.js";import{ak as ye,av as I,j as o,c as e,o as u,aw as xe,an as l,am as i,ao as a,ar as S,al as we,aq as fe,ai as De,b as ge,ap as he,aQ as Ee}from"../chunks/BqVrJ4L_.js";import{s as P,e as B}from"../chunks/DfNTyjLC.js";import{i as A}from"../chunks/B-FfepU3.js";import{e as re,i as me}from"../chunks/DmkHGvvp.js";import{r as qe,s as $}from"../chunks/BJ8Vj8-W.js";import{s as ae}from"../chunks/711g_eEh.js";import{t as Ge,f as Le}from"../chunks/oRZGLhtQ.js";import{b as Qe}from"../chunks/CGL77LJ2.js";import{i as Ae}from"../chunks/gG7WO_Ix.js";import{p as _e}from"../chunks/DwxIqHjm.js";import{o as Re}from"../chunks/DiOlKn5L.js";import{g as We}from"../chunks/VjwWqnPw.js";import{s as Ze}from"../chunks/bfm8ZKAh.js";import{n as Fe}from"../chunks/DzPsgErC.js";import{b as Je}from"../chunks/CzVRn_-y.js";const Ke=!1,Xe=async({fetch:O})=>{const j=await O("/data/skateboard-products/categories.json").then(m=>m.json()),v=await O("/data/rollerskate-products/categories.json").then(m=>m.json());return{skateCats:j,rollerCats:v}},Ht=Object.freeze(Object.defineProperty({__proto__:null,load:Xe,prerender:Ke},Symbol.toStringTag,{value:"Module"})),Ye="data:image/svg+xml,%3csvg%20style='height:%20512px;%20width:%20512px;'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M0%200h512v512H0z'%20fill='%23d6e010'%20fill-opacity='0'%3e%3c/path%3e%3cg%20class=''%20style=''%20transform='translate(0,0)'%3e%3cpath%20d='M186.436%2086.738c-9.044%200-19.112%205.87-26.735%2021.114l-6.807%2013.62c2.48-.203%204.968-.31%207.455-.31%2018.02%200%2036.005%205.363%2051.87%2015.977v-30.984c-7.5-13.917-17.102-19.418-25.782-19.418zm139.128%200c-8.68%200-18.28%205.5-25.78%2019.418v30.994c18.064-12.06%2038.895-17.28%2059.345-15.638l-6.83-13.66c-7.624-15.245-17.692-21.114-26.736-21.114zm-165.216%2051.926c-19.05%200-38.08%207.693-53.74%2023l-37.38%2065.418c14.492-6.743%2030.633-10.518%2047.64-10.518%2039.96%200%2075.16%2020.792%2095.35%2052.124V159.846c-15.293-14.115-33.58-21.182-51.87-21.182zm192.433.033c-18.662-.306-37.39%206.74-52.997%2021.145v108.845c20.19-31.33%2055.39-52.123%2095.348-52.123%2017.01%200%2033.15%203.775%2047.643%2010.518l-37.38-65.418c-15.35-15.003-33.95-22.66-52.612-22.967zM256%20151.957c-5.113%200-11.882%202.775-25.783%209.627v133.014c7.246-5.314%2016.164-8.467%2025.783-8.467%209.62%200%2018.537%203.154%2025.783%208.468V161.584c-13.9-6.852-20.67-9.627-25.783-9.627zm-139.13%2082.607c-52.767%200-95.35%2042.582-95.35%2095.348s42.583%2095.35%2095.35%2095.35c52.765%200%2095.347-42.584%2095.347-95.35%200-52.766-42.582-95.348-95.348-95.348zm278.26%200c-52.765%200-95.347%2042.582-95.347%2095.348s42.582%2095.35%2095.348%2095.35c52.767%200%2095.35-42.584%2095.35-95.35%200-52.766-42.583-95.348-95.35-95.348zm-279.827%2019.004a80.4%2080.4%200%200%201%203.674.03c7.344.225%2014.694%201.462%2021.77%203.816%2036.842%2011.343%2059.745%2051.664%2050.622%2089.11-7.652%2037.743-45.455%2064.51-83.595%2059.17-38.748-3.865-69.376-39.578-67.16-78.483.167-11.41%203.133-22.336%208.2-32.124A26.087%2026.087%200%200%200%2073.39%20312.52a26.087%2026.087%200%200%200%2026.09-26.084%2026.087%2026.087%200%200%200-17.447-24.584c9.058-4.694%2019.097-7.594%2029.606-8.147a84.277%2084.277%200%200%201%203.663-.137zm278.26%200a80.345%2080.345%200%200%201%203.673.03c7.344.225%2014.696%201.462%2021.774%203.816%2036.84%2011.343%2059.742%2051.664%2050.62%2089.11-7.652%2037.742-45.453%2064.51-83.59%2059.173-38.75-3.865-69.38-39.582-67.163-78.488.167-11.41%203.133-22.334%208.2-32.122a26.087%2026.087%200%200%200%2024.575%2017.433%2026.087%2026.087%200%200%200%2026.086-26.084%2026.087%2026.087%200%200%200-17.443-24.584c9.057-4.694%2019.095-7.594%2029.603-8.147%201.22-.072%202.44-.118%203.664-.137zM256%20304.13c-14.346%200-25.783%2011.436-25.783%2025.782s11.437%2025.783%2025.783%2025.783c14.346%200%2025.783-11.437%2025.783-25.783%200-14.346-11.437-25.78-25.783-25.78z'%20fill='%23ff7a20'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",et="data:image/svg+xml,%3csvg%20style='height:%20512px;%20width:%20512px;'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M0%200h512v512H0z'%20fill='%23d6e010'%20fill-opacity='0'%3e%3c/path%3e%3cg%20class=''%20style=''%20transform='translate(0,0)'%3e%3cpath%20d='M372.48%2031.215c-77.65%200-116.48%2065.73-116.48%2065.73s-38.83-65.72-116.48-65.72c-37.14%200-107.77%2033.72-107.77%20125.13%200%20161.24%20224.25%20324.43%20224.25%20324.43s224.25-163.19%20224.25-324.43c0-91.42-70.63-125.13-107.77-125.14zm-145.492%20115.02h60.698v79.415h79.238v60.7h-79.238v79.884h-60.698V286.35h-80.064v-60.7h80.064z'%20fill='%23ff7a20'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e";var tt=k("<div> </div>"),st=k('<div class="balance-container svelte-14d17tj"><button class="close svelte-14d17tj">× Close</button> <p class="selected-description svelte-14d17tj"> </p> <input type="range" min="0" max="1" step="0.01" class="svelte-14d17tj"> <div class="slider-labels svelte-14d17tj"></div></div>');function rt(O,j){ye(j,!1);const v=u(),m=u(),G=u();let h=u(.5),oe=_e(j,"onSliderChange",8,()=>{}),U=_e(j,"onClose",8,()=>{});const _=["Soft (78A–84A)","Hybrid (85A–91A)","Hard (92A–105A)"],p={"Soft (78A–84A)":"Soft – best on rough surfaces.","Hybrid (85A–91A)":"Hybrid – mix of speed & control.","Hard (92A–105A)":"Hard – ideal for street/skatepark."};function D(x){o(h,+x.target.value);const w={value:e(h),bucket:e(m)};oe()(w)}I(()=>e(h),()=>{o(v,Math.round(e(h)*(_.length-1)))}),I(()=>e(v),()=>{o(m,_[e(v)].split(" ")[0])}),I(()=>e(v),()=>{o(G,p[_[e(v)]])}),xe(),Ae();var y=st(),z=l(y),C=i(z,2),E=l(C,!0);a(C);var g=i(C,2);qe(g);var b=i(g,2);re(b,5,()=>_,me,(x,w,J)=>{var V=tt(),le=l(V,!0);a(V),S(()=>{ae(V,1,`label ${J===e(v)?"selected":""}`,"svelte-14d17tj"),P(le,e(w))}),f(x,V)}),a(b),a(y),S(()=>P(E,e(G))),B("click",z,function(...x){var w;(w=U())==null||w.apply(this,x)}),Je(g,()=>e(h),x=>o(h,x)),B("input",g,D),f(O,y),we()}var at=k("<button> </button>"),ot=k('<div class="top-nav svelte-184r4sk"><button>Skateboard</button> <button>Rollerskate</button></div> <div class="category-nav svelte-184r4sk"></div>',1),lt=k('<div class="slider svelte-184r4sk"><!></div>'),it=k('<img class="product-image svelte-184r4sk">'),nt=Oe('<svg viewBox="0 0 64 64" class="placeholder svelte-184r4sk"><rect width="64" height="64" fill="var(--tertiary-color)"></rect><text x="32" y="36" text-anchor="middle" fill="var(--heading-color)" font-size="12">Image NA</text></svg>'),ct=k('<p class="name svelte-184r4sk"><strong>Durometer</strong>: <span class="product-highlight svelte-184r4sk"> </span></p>'),dt=k('<tr class="svelte-184r4sk"><td class="svelte-184r4sk"><a target="_blank" rel="noopener" class="svelte-184r4sk"> </a></td><td class="svelte-184r4sk"> </td></tr>'),vt=k('<div class="card svelte-184r4sk"><div class="product-content svelte-184r4sk"><!> <p class="name svelte-184r4sk"> </p></div> <!> <table class="price-table svelte-184r4sk"><tbody></tbody></table> <!> <div class="buttons svelte-184r4sk"><button class="build svelte-184r4sk"><img alt="Add to Build" class="svelte-184r4sk"> <span class="svelte-184r4sk">Add to build</span></button> <button class="view svelte-184r4sk"><img alt="View Product" class="svelte-184r4sk"> <span class="svelte-184r4sk">View</span></button> <!></div> <!></div>'),ut=k("<p>Loading…</p>"),pt=k('<div class="product-type-nav svelte-184r4sk"><!> <!></div> <div class="grid svelte-184r4sk"></div> <div class="sentinel"><!></div>',1);function Mt(O,j){ye(j,!1);const v=u(),m=u(),G=u();let h=_e(j,"data",8);const oe=50;let U=u(!1),_=u("skateboard"),p=u(""),D=1,y=u([]),z=!0,C=u(!1),E=u(),g,b=u(null);function x(t){o(_,t),w("bearings"),o(b,null),o(y,[]),D=1}async function w(t){o(p,t),o(b,null),o(y,[]),D=1,z=!0,o(U,t==="wheels"),await Ee(),J(),V()}function J(){g&&g.disconnect(),g=new IntersectionObserver(([t])=>{t.isIntersecting&&V()},{rootMargin:"200px"}),e(E)&&g.observe(e(E))}async function V(){if(!e(p)||e(C)||!z)return;o(C,!0);const s=`/data/${e(_)==="skateboard"?"skateboard-products":"rollerskate-products"}/${e(p)}-page-${D}.json`;try{const r=await fetch(s);if(r.ok){const n=await r.json();o(y,[...e(y),...n]),D+=1,n.length<oe&&(z=!1,g.disconnect())}else z=!1,g.disconnect()}catch(r){console.error("Error loading products:",r),z=!1,g.disconnect()}o(C,!1)}Re(()=>{J()});function le(t){const r={decks:"deck_slug",griptapes:"griptape_slug",risers:"risers_slug",boots:"boot_slug",toestops:"toestops_slug",slideblocks:"slideblock_slug",plates:"plates_slug",trucks:"trucks_slug",bearings:"bearings_slug",wheels:"wheels_slug",bushings:"bushings_slug"}[e(p)];Ze.update(n=>({...n,[r]:t.slug})),Fe.send({message:`${t.productName} added to build`,link:"/builds/new",linkText:"see more"})}function je(t){We(`/product/${e(p)}/${t}`)}function ze(t){const s=Object.keys(t).find(r=>r!=="url"&&r!=="productVendorUrl");return{vendor:s,price:t[s],url:t.url,productVendorUrl:t.productVendorUrl}}function ie(t){var r;const s=(r=t.productTags)==null?void 0:r.find(n=>n.field==="durometer");return s?parseInt(s.value.replace(/\D/g,""),10):NaN}function Ce({bucket:t}){o(b,t)}function Ne(){o(U,!1)}I(()=>(e(_),De(h())),()=>{o(v,e(_)==="skateboard"?h().skateCats:h().rollerCats)}),I(()=>(e(v),e(p)),()=>{e(v).length>0&&!e(p)&&o(p,e(v)[0])}),I(()=>e(y),()=>{o(m,e(y).map(t=>{var s;return{...t,vendorPrices:((s=t.productPrices)==null?void 0:s.map(ze))??[],productTags:t.productTags??[]}}))}),I(()=>(e(p),e(m),e(b)),()=>{o(G,e(p)==="wheels"?e(m).filter(t=>{if(!e(b))return!0;const s=ie(t);return isNaN(s)?!1:e(b)==="Soft"?s>=78&&s<=84:e(b)==="Hybrid"?s>=85&&s<=91:e(b)==="Hard"?s>=92:!0}).sort((t,s)=>{const r=ie(t),n=ie(s);return isNaN(r)?1:isNaN(n)?-1:r-n}):e(m))}),xe(),Ae();var be=pt(),ne=fe(be),ke=l(ne);{var Se=t=>{var s=ot(),r=fe(s),n=l(r);let L;var K=i(n,2);let X;a(r);var Q=i(r,2);re(Q,5,()=>e(v),me,(R,N)=>{var H=at();let q;var Y=l(H,!0);a(H),S(ee=>{q=ae(H,1,"svelte-184r4sk",null,q,ee),P(Y,e(N))},[()=>({selected:e(N)===e(p)})],ge),B("click",H,()=>w(e(N))),f(R,H)}),a(Q),S((R,N)=>{L=ae(n,1,"svelte-184r4sk",null,L,R),X=ae(K,1,"svelte-184r4sk",null,X,N)},[()=>({selected:e(_)==="skateboard"}),()=>({selected:e(_)==="rollerskate"})],ge),B("click",n,()=>x("skateboard")),B("click",K,()=>x("rollerskate")),f(t,s)};A(ke,t=>{e(U)||t(Se)})}var Ve=i(ke,2);{var He=t=>{var s=lt(),r=l(s);rt(r,{onSliderChange:Ce,onClose:Ne}),a(s),f(t,s)};A(Ve,t=>{e(U)&&t(He)})}a(ne);var ce=i(ne,2);re(ce,5,()=>e(G),t=>t.slug,(t,s)=>{var r=vt(),n=l(r),L=l(n);{var K=c=>{var d=it();S(()=>{$(d,"src",e(s).cloudinaryUrl),$(d,"alt",e(s).productName),$(d,"width",e(s).imageWidth),$(d,"height",e(s).imageHeight)}),f(c,d)},X=c=>{var d=nt();f(c,d)};A(L,c=>{e(s).cloudinaryUrl?c(K):c(X,!1)})}var Q=i(L,2),R=l(Q,!0);a(Q),a(n);var N=i(n,2);{var H=c=>{var d=Ue(),W=fe(d);{var Z=M=>{var T=ct(),F=i(l(T),2),ue=l(F,!0);a(F),a(T),S(pe=>P(ue,pe),[()=>e(s).productTags.find(pe=>pe.field==="durometer").value],ge),f(M,T)};A(W,M=>{e(s).productTags.find(T=>T.field==="durometer")&&M(Z)})}f(c,d)};A(N,c=>{e(s).productTags&&c(H)})}var q=i(N,2),Y=l(q);re(Y,5,()=>e(s).vendorPrices,me,(c,d)=>{var W=dt(),Z=l(W),M=l(Z),T=l(M,!0);a(M),a(Z);var F=i(Z),ue=l(F,!0);a(F),a(W),S(()=>{$(M,"href",e(d).productVendorUrl||e(d).url),P(T,e(d).vendor),P(ue,e(d).price)}),f(c,W)}),a(Y),a(q);var ee=i(q,2);A(ee,c=>{});var ve=i(ee,2),te=l(ve),$e=l(te);$($e,"src",et),he(2),a(te);var se=i(te,2),Pe=l(se);$(Pe,"src",Ye),he(2),a(se);var Be=i(se,2);A(Be,c=>{}),a(ve);var Ie=i(ve,2);A(Ie,c=>{}),a(r),S(()=>P(R,e(s).productName)),B("click",te,()=>le(e(s))),B("click",se,()=>je(e(s).slug)),Ge(1,r,()=>Le,()=>({duration:200})),f(t,r)}),a(ce);var de=i(ce,2),Me=l(de);{var Te=t=>{var s=ut();f(t,s)};A(Me,t=>{e(C)&&t(Te)})}a(de),Qe(de,t=>o(E,t),()=>e(E)),f(O,be),we()}export{Mt as component,Ht as universal};
