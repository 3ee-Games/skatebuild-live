import{t as w,b as g}from"../chunks/BUAuLFLc.js";import"../chunks/XJ5-qBKr.js";import{ak as q,g as a,al as A,an as t,ao as l,v as o,A as u,ap as p,aq as D,as as O}from"../chunks/CRA1AjMR.js";import{e as S,s as C}from"../chunks/BWrOgh3Y.js";import{i as L}from"../chunks/CeoI4Q0A.js";import{r as h}from"../chunks/DPVsPxvn.js";import{b as _}from"../chunks/BInKRHZi.js";import{p as N}from"../chunks/CWmzcjye.js";import{i as P}from"../chunks/DkPzLzCP.js";import{a as T}from"../chunks/CMXmblEd.js";import{g as E}from"../chunks/Bbj2KryD.js";var I=w('<div class="error"> </div>'),J=w('<form class="container svelte-1m6ejzr"><h1>Login</h1> <div class="field svelte-1m6ejzr"><label for="username">Username</label> <input id="username" type="text" placeholder="enter your username" required class="svelte-1m6ejzr"></div> <div class="field svelte-1m6ejzr"><label for="password">Password</label> <input id="password" type="password" placeholder="enter your password" required class="svelte-1m6ejzr"></div> <!> <button type="submit" class="svelte-1m6ejzr"><span>Login</span></button></form>');function W(y,j){q(j,!1);let m=u(""),d=u(""),s=u("");async function k(e){e.preventDefault(),o(s,"");try{const r=await fetch("https://3ee.dev/account/login/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro"},mode:"cors",body:JSON.stringify({username:a(m),password:a(d)})}),n=await r.json();r.ok&&n.token?(T.set(n),E("/")):o(s,"Invalid credentials")}catch(r){console.error(r),o(s,"Network error")}}P();var i=J(),v=t(l(i),2),f=t(l(v),2);h(f),p(v);var c=t(v,2),b=t(l(c),2);h(b),p(c);var z=t(c,2);{var x=e=>{var r=I(),n=l(r,!0);p(r),O(()=>C(n,a(s))),g(e,r)};L(z,e=>{a(s)&&e(x)})}D(2),p(i),_(f,()=>a(m),e=>o(m,e)),_(b,()=>a(d),e=>o(d,e)),S("submit",i,N(k)),g(y,i),A()}export{W as component};
