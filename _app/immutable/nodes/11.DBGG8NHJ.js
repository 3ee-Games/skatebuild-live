import{t as V,a as x}from"../chunks/BQoy3Ge-.js";import"../chunks/B7M6h1YL.js";import{ak as D,av as w,aw as F,ar as j,al as G,am as d,an as a,j as P,o as U,ai as I,ao as e,c as l,ap as J}from"../chunks/DMDxMJuI.js";import{e as L,s as u}from"../chunks/Cu89BeFu.js";import{i as Q}from"../chunks/Don0ab7i.js";import{e as R,i as X}from"../chunks/DvU_Ow3H.js";import{s as c}from"../chunks/BKRRD-CL.js";import{i as Y}from"../chunks/BPuRey6b.js";import{p as Z}from"../chunks/CEw7LY8T.js";import{s as tt,a as rt}from"../chunks/Ctl3FEfK.js";import"../chunks/DSF1SWHb.js";import{p as et}from"../chunks/B95DbJG3.js";import{s as at}from"../chunks/DLr8yegO.js";import{n as st}from"../chunks/6PSy5R5I.js";import{h as ot}from"../chunks/CPRV9u04.js";const dt=!1,lt=async({params:m,fetch:i})=>{const{category:n,slug:p}=m;let o=await i(`/data/skateboard-products/${n}/${p}.json`);if(o.ok||(o=await i(`/data/rollerskate-products/${n}/${p}.json`)),!o.ok)throw new Error(`Product not found: ${n}/${p}`);return{product:await o.json()}},Pt=Object.freeze(Object.defineProperty({__proto__:null,load:lt,prerender:dt},Symbol.toStringTag,{value:"Module"}));var ct=V('<img class="product-image svelte-1r7vd6g">'),it=V('<tr class="svelte-1r7vd6g"><td class="svelte-1r7vd6g"><a target="_blank" rel="noopener" class="svelte-1r7vd6g"> </a></td><td class="svelte-1r7vd6g"> </td></tr>'),nt=V('<main class="container svelte-1r7vd6g"><h1 class="svelte-1r7vd6g"> </h1> <p class="brand svelte-1r7vd6g"> </p> <!> <section class="prices svelte-1r7vd6g"><h2 class="svelte-1r7vd6g">Vendor Prices</h2> <table class="svelte-1r7vd6g"><thead><tr><th class="svelte-1r7vd6g">Vendor</th><th class="svelte-1r7vd6g">Price</th></tr></thead><tbody></tbody></table></section> <div class="add-to-build svelte-1r7vd6g"><button class="svelte-1r7vd6g"><img alt="Add to Build" class="svelte-1r7vd6g"> <span class="svelte-1r7vd6g">Add to build</span></button></div></main>');function Ut(m,i){D(i,!1);const[n,p]=tt(),o=()=>rt(et,"$page",n),g=U();let s=Z(i,"data",8),B=U(),N=U();function E(){at.update(r=>{const t=`${l(B).slice(0,-1)}_slug`;return{...r,[t]:l(N)}}),st.send({message:`${s().product.productName} added to build`,link:"/builds/new",linkText:"see more"})}w(()=>o(),()=>{P(B,o().params.category)}),w(()=>o(),()=>{P(N,o().params.slug)}),w(()=>I(s()),()=>{P(g,s().product.productPrices.map(r=>{const t=Object.keys(r).find(v=>v!=="url");return{vendor:t,price:r[t],url:r.url,productVendorUrl:r.productVendorUrl}}))}),F(),Y();var f=nt(),_=a(f),H=a(_,!0);e(_);var b=d(_,2),K=a(b);e(b);var O=d(b,2);{var M=r=>{var t=ct();j(()=>{c(t,"src",s().product.cloudinaryUrl),c(t,"alt",s().product.productName),c(t,"width",s().product.imageWidth),c(t,"height",s().product.imageHeight)}),x(r,t)};Q(O,r=>{s().product.cloudinaryUrl&&r(M)})}var h=d(O,2),T=d(a(h),2),A=d(a(T));R(A,5,()=>l(g),X,(r,t)=>{var v=it(),$=a(v),k=a($),q=a(k,!0);e(k),e($);var z=d($),C=a(z,!0);e(z),e(v),j(()=>{c(k,"href",l(t).productVendorUrl||l(t).url),u(q,l(t).vendor),u(C,l(t).price)}),x(r,v)}),e(A),e(T),e(h);var S=d(h,2),y=a(S),W=a(y);c(W,"src",ot),J(2),e(y),e(S),e(f),j(()=>{u(H,s().product.productName),u(K,`by ${s().product.productBrand??""}`)}),L("click",y,E),x(m,f),G(),p()}export{Ut as component,Pt as universal};
