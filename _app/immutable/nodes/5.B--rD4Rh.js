import{t as v,e as l,d as ge,h as ye}from"../chunks/D5sV2v-t.js";import"../chunks/D8N2IpKH.js";import{ao as oe,A as C,ap as ke,aq as je,ar as L,au as n,g as e,as as le,ay as ae,av as i,aw as a,v as S,ak as J,az as Se,n as we,ax as xe}from"../chunks/KsHbyUNR.js";import{i as ie}from"../chunks/BAI0Ud4A.js";import{p as se}from"../chunks/DZQkes7P.js";import{s as K}from"../chunks/-k1GO34d.js";import{i as h}from"../chunks/CtV-pIfB.js";import{e as Re,i as Te}from"../chunks/DoBij9eO.js";import{r as te,s as Q}from"../chunks/BPQtVfJb.js";import{a as re}from"../chunks/DOAI4MeL.js";import{b as Fe}from"../chunks/BbN16xX5.js";import{s as qe,r as Pe}from"../chunks/DqAaAC6z.js";const ze=!1,Ae=async({url:T})=>({initialType:T.searchParams.get("type")||null}),la=Object.freeze(Object.defineProperty({__proto__:null,load:Ae,prerender:ze},Symbol.toStringTag,{value:"Module"}));var Be=v("<option>Street</option> <option>Vert</option> <option>Freestyle</option> <option>Park</option> <option>Downhill</option> <option>Cruisin</option>",1),Ce=v("<option>Artistic skating</option> <option>Roller dance</option> <option>Speed skating</option> <option>Roller derby</option> <option>Park skating</option> <option>Roller hockey</option>",1),Oe=v('<div class="field svelte-12jh6et"><label class="svelte-12jh6et">Style</label> <select required class="svelte-12jh6et"><option disabled>Select style</option><!></select></div>'),Ue=v("<p>Loading buildsâ€¦</p>"),De=v('<p class="error"> </p>'),Ee=v('<p class="empty svelte-12jh6et">No builds match your criteria.</p>'),Ie=v('<img alt="Skateboard build" class="build-icon svelte-12jh6et">'),Le=v('<img alt="Rollerskate build" class="build-icon svelte-12jh6et">'),Me=v('<a class="card svelte-12jh6et"><div class="card-content"><!> <h3 class="card-title svelte-12jh6et"> </h3> <p class="card-type svelte-12jh6et"> </p></div></a>'),Ne=v('<div class="build-grid svelte-12jh6et"></div>'),Ve=v('<form class="container svelte-12jh6et"><div class="field-group svelte-12jh6et"><label class="svelte-12jh6et"><input type="radio" required class="svelte-12jh6et"> Skateboard</label> <label class="svelte-12jh6et"><input type="radio" class="svelte-12jh6et"> Rollerskate</label></div> <!></form> <!>',1);function Ge(T,x){oe(x,!1);const O=[];let F=se(x,"initialType",8,null),r=C(F()??void 0),f=C(""),q=C([]),P=C(!1),U=C(null);async function ne(t){S(P,!0),S(U,null);try{const d=`https://3ee.dev/skatebuild/api/builds/?skating_type=${encodeURIComponent(t)}`,g=await fetch(d);if(!g.ok)throw new Error("Failed to fetch builds");const y=await g.json();S(q,(y.results||y).filter(z=>z.build_type===e(r)))}catch(d){S(U,"Failed to load builds"),console.error(d)}finally{S(P,!1)}}const ve=t=>`/builds/${t.owner}/${t.slug}`;ke(()=>(e(r),e(f)),()=>{e(r)&&e(f)&&ne(e(f))}),je(),ie();var W=Ve(),M=L(W),N=n(M),V=n(N),D=n(V);te(D),D.value=D.__value="skateboard",ae(),i(V);var X=a(V,2),E=n(X);te(E),E.value=E.__value="rollerskate",ae(),i(X),i(N);var pe=a(N,2);{var _e=t=>{var d=Oe(),g=a(n(d),2);J(()=>{e(f),Se(()=>{e(r)})});var y=n(g);y.value=y.__value="";var z=a(y);{var k=u=>{var R=Be(),p=L(R);p.value=p.__value="street";var s=a(p,2);s.value=s.__value="vert";var c=a(s,2);c.value=c.__value="freestyle";var m=a(c,2);m.value=m.__value="park";var o=a(m,2);o.value=o.__value="downhill";var _=a(o,2);_.value=_.__value="cruisin",l(u,R)},A=(u,R)=>{{var p=s=>{var c=Ce(),m=L(c);m.value=m.__value="artistic skating";var o=a(m,2);o.value=o.__value="roller dance";var _=a(o,2);_.value=_.__value="speed skating";var B=a(_,2);B.value=B.__value="roller derby";var b=a(B,2);b.value=b.__value="park skating";var w=a(b,2);w.value=w.__value="roller hockey",l(s,c)};h(u,s=>{e(r)==="rollerskate"&&s(p)},R)}};h(z,u=>{e(r)==="skateboard"?u(k):u(A,!1)})}i(g),i(d),Fe(g,()=>e(f),u=>S(f,u)),l(t,d)};h(pe,t=>{e(r)&&t(_e)})}i(M);var de=a(M,2);{var ue=t=>{var d=ge(),g=L(d);{var y=k=>{var A=Ue();l(k,A)},z=(k,A)=>{{var u=p=>{var s=De(),c=n(s,!0);i(s),J(()=>K(c,e(U))),l(p,s)},R=(p,s)=>{{var c=o=>{var _=Ee();l(o,_)},m=o=>{var _=Ne();Re(_,5,()=>e(q),Te,(B,b)=>{var w=Me(),Y=n(w),Z=n(Y);{var ce=j=>{var I=Ie();Q(I,"src",qe),l(j,I)},fe=(j,I)=>{{var he=H=>{var ee=Le();Q(ee,"src",Pe),l(H,ee)};h(j,H=>{e(b).build_type==="rollerskate"&&H(he)},I)}};h(Z,j=>{e(b).build_type==="skateboard"?j(ce):j(fe,!1)})}var G=a(Z,2),me=n(G,!0);i(G);var $=a(G,2),be=n($);i($),i(Y),i(w),J(j=>{Q(w,"href",j),K(me,e(b).name),K(be,`designed for ${e(b).skating_type??""}`)},[()=>ve(e(b))],we),l(B,w)}),i(_),l(o,_)};h(p,o=>{e(q).length===0?o(c):o(m,!1)},s)}};h(k,p=>{e(U)?p(u):p(R,!1)},A)}};h(g,k=>{e(P)?k(y):k(z,!1)})}l(t,d)};h(de,t=>{e(r)&&e(f)&&t(ue)})}re(O,[],D,()=>e(r),t=>S(r,t)),re(O,[],E,()=>e(r),t=>S(r,t)),l(T,W),le()}var He=v(`<meta name="description" content="Search for other skater's builds.">`),Je=v('<main><h1>Find a build</h1> <div class="container"><!></div></main>');function ia(T,x){oe(x,!1);let O=se(x,"data",8);ie();var F=Je();ye(q=>{var P=He();xe.title="Find a Skateboard or Rollerskating build",l(q,P)});var r=a(n(F),2),f=n(r);Ge(f,{get initialType(){return O().initialType}}),i(r),i(F),l(T,F),le()}export{ia as component,la as universal};
