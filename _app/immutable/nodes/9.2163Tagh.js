import{t as w,a as h}from"../chunks/DI9w5OQQ.js";import"../chunks/BxUFmY4z.js";import{ak as D,c as a,al as O,am as s,an as l,j as o,o as u,ao as p,ap as S,ar as q}from"../chunks/BpViCVQb.js";import{e as A,s as C}from"../chunks/CPOfcv9_.js";import{i as L}from"../chunks/WmZ9OhnZ.js";import{r as _}from"../chunks/BDn2O-US.js";import{b as g}from"../chunks/DJ-rPqZL.js";import{p as N}from"../chunks/CWmzcjye.js";import{i as P}from"../chunks/CPZJgrMF.js";import{a as T}from"../chunks/BWRsyZQo.js";import{g as E}from"../chunks/BH7CIX2Y.js";var I=w('<div class="error"> </div>'),J=w('<form class="container svelte-1m6ejzr"><h1>Login</h1> <div class="field svelte-1m6ejzr"><label for="username">Username</label> <input id="username" type="text" placeholder="enter your username" required class="svelte-1m6ejzr"></div> <div class="field svelte-1m6ejzr"><label for="password">Password</label> <input id="password" type="password" placeholder="enter your password" required class="svelte-1m6ejzr"></div> <!> <button type="submit" class="svelte-1m6ejzr"><span>Login</span></button></form>');function W(j,y){D(y,!1);let m=u(""),d=u(""),t=u("");async function k(e){e.preventDefault(),o(t,"");try{const r=await fetch("https://3ee.dev/account/login/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro"},mode:"cors",body:JSON.stringify({username:a(m),password:a(d)})}),n=await r.json();r.ok&&n.token?(T.set(n),E("/")):o(t,"Invalid credentials")}catch(r){console.error(r),o(t,"Network error")}}P();var i=J(),c=s(l(i),2),f=s(l(c),2);_(f),p(c);var v=s(c,2),b=s(l(v),2);_(b),p(v);var z=s(v,2);{var x=e=>{var r=I(),n=l(r,!0);p(r),q(()=>C(n,a(t))),h(e,r)};L(z,e=>{a(t)&&e(x)})}S(2),p(i),g(f,()=>a(m),e=>o(m,e)),g(b,()=>a(d),e=>o(d,e)),A("submit",i,N(k)),h(j,i),O()}export{W as component};
