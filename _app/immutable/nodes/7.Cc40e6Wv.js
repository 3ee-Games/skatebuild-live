import{t as h,a as _}from"../chunks/CliB3EC4.js";import"../chunks/DNrfkIUI.js";import{ak as K,c as s,al as L,am as o,j as t,o as d,an as i,ao as l,ap as Q,aq as R,ar as Y}from"../chunks/BqVrJ4L_.js";import{e as U,r as V,s as O}from"../chunks/DfNTyjLC.js";import{i as $}from"../chunks/B-FfepU3.js";import{r as S}from"../chunks/BJ8Vj8-W.js";import{b as w}from"../chunks/CzVRn_-y.js";import{p as W}from"../chunks/CWmzcjye.js";import{i as X}from"../chunks/gG7WO_Ix.js";import{s as Z,a as ee}from"../chunks/BpIkGUWb.js";import{a as T}from"../chunks/DVrSatHW.js";import{g as ae}from"../chunks/CIZUSx4k.js";var te=h('<div class="field svelte-dew4mu"><label for="email" class="svelte-dew4mu">Your Email</label> <input id="email" type="email" placeholder="you@example.com" required class="svelte-dew4mu"></div> <div class="field svelte-dew4mu"><label for="name" class="svelte-dew4mu">Your Name</label> <input id="name" type="text" placeholder="Your Name" required class="svelte-dew4mu"></div>',1),se=h('<div class="error"> </div>'),re=h('<div class="success"> </div>'),oe=h('<div class="container svelte-dew4mu"><h1>Contact</h1> <form><!> <div class="field svelte-dew4mu"><label for="subject" class="svelte-dew4mu">Subject</label> <input id="subject" type="text" placeholder="Subject" required class="svelte-dew4mu"></div> <div class="field svelte-dew4mu"><label for="body" class="svelte-dew4mu">Message</label> <textarea id="body" rows="6" placeholder="How can we assist you?" required class="svelte-dew4mu"></textarea></div> <!> <!> <button type="submit" class="svelte-dew4mu"><span>Submit</span></button></form></div>');function we(z,E){K(E,!1);const[H,J]=Z(),M=()=>ee(T,"$accountData",H);let v=d(""),c=d(""),u=d(""),p=d(""),m=d(""),f=d("");async function P(a){a.preventDefault(),t(m,""),t(f,"");const e=ae(T),r={subject:s(u),body:s(p)};e!=null&&e.token||(r.email=s(v),r.name=s(c));try{const n=await fetch("https://3ee.dev/account/contact/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro",...(e==null?void 0:e.token)&&{Authorization:`Token ${e.token}`}},mode:"cors",body:JSON.stringify(r)}),b=await n.json().catch(()=>({}));n.ok?(t(f,"Your message has been sent!"),t(u,""),t(p,""),e!=null&&e.token||(t(v,""),t(c,""))):t(m,b.detail||"Submission failed")}catch{t(m,"Network error")}}X();var y=oe(),x=o(i(y),2),q=i(x);{var B=a=>{var e=te(),r=R(e),n=o(i(r),2);S(n),l(r);var b=o(r,2),N=o(i(b),2);S(N),l(b),w(n,()=>s(v),k=>t(v,k)),w(N,()=>s(c),k=>t(c,k)),_(a,e)};$(q,a=>{var e;(e=M())!=null&&e.token||a(B)})}var g=o(q,2),D=o(i(g),2);S(D),l(g);var j=o(g,2),A=o(i(j),2);V(A),l(j);var C=o(j,2);{var F=a=>{var e=se(),r=i(e,!0);l(e),Y(()=>O(r,s(m))),_(a,e)};$(C,a=>{s(m)&&a(F)})}var G=o(C,2);{var I=a=>{var e=re(),r=i(e,!0);l(e),Y(()=>O(r,s(f))),_(a,e)};$(G,a=>{s(f)&&a(I)})}Q(2),l(x),l(y),w(D,()=>s(u),a=>t(u,a)),w(A,()=>s(p),a=>t(p,a)),U("submit",x,W(P)),_(z,y),L(),J()}export{we as component};
