import{t as U,a as y}from"../chunks/Doa8wjnW.js";import"../chunks/1NVSwa0V.js";import{am as C,aw as $,ax as D,as as w,an as F,ao as l,ap as s,j,o as P,ai as G,aq as e,c as i}from"../chunks/ej_Vdcdl.js";import{e as I,s as m}from"../chunks/Cz9yb1SE.js";import{i as J}from"../chunks/CILL4GR2.js";import{e as L,i as Q}from"../chunks/BimC9IYY.js";import{s as u}from"../chunks/BqNEn0Gf.js";import{i as R}from"../chunks/CyOr1GcM.js";import{p as X}from"../chunks/dZcI6pJm.js";import{s as Y,a as Z}from"../chunks/D8lVzD4N.js";import"../chunks/B7b2kqBE.js";import{p as tt}from"../chunks/D8Zwthh3.js";import{s as at}from"../chunks/B_dPVe-a.js";import{n as et}from"../chunks/DFOgfGRP.js";const rt=!1,st=async({params:v,fetch:c})=>{const{category:d,slug:n}=v;let o=await c(`/data/skateboard-products/${d}/${n}.json`);if(o.ok||(o=await c(`/data/rollerskate-products/${d}/${n}.json`)),!o.ok)throw new Error(`Product not found: ${d}/${n}`);return{product:await o.json()}},yt=Object.freeze(Object.defineProperty({__proto__:null,load:st,prerender:rt},Symbol.toStringTag,{value:"Module"}));var ot=U('<img class="product-image svelte-1ilax7k">'),lt=U('<tr class="svelte-1ilax7k"><td class="svelte-1ilax7k"><a target="_blank" rel="noopener" class="svelte-1ilax7k"> </a></td><td class="svelte-1ilax7k"> </td></tr>'),it=U('<main class="container svelte-1ilax7k"><h1 class="svelte-1ilax7k"> </h1> <p class="brand svelte-1ilax7k"> </p> <!> <section class="prices svelte-1ilax7k"><h2 class="svelte-1ilax7k">Vendor Prices</h2> <table class="svelte-1ilax7k"><thead><tr><th class="svelte-1ilax7k">Vendor</th><th class="svelte-1ilax7k">Price</th></tr></thead><tbody></tbody></table></section> <div class="add-to-build svelte-1ilax7k"><button class="svelte-1ilax7k">+ Add to Build</button></div></main>');function $t(v,c){C(c,!1);const[d,n]=Y(),o=()=>Z(tt,"$page",d),f=P();let r=X(c,"data",8),V=P(),B=P();function z(){at.update(a=>{const t=`${i(V).slice(0,-1)}_slug`;return{...a,[t]:i(B)}}),et.send({message:`${r().product.productName} added to build`,link:"/builds/new",linkText:"see more"})}$(()=>o(),()=>{j(V,o().params.category)}),$(()=>o(),()=>{j(B,o().params.slug)}),$(()=>G(r()),()=>{j(f,r().product.productPrices.map(a=>{const t=Object.keys(a).find(p=>p!=="url");return{vendor:t,price:a[t],url:a.url,productVendorUrl:a.productVendorUrl}}))}),D(),R();var g=it(),_=s(g),A=s(_,!0);e(_);var k=l(_,2),E=s(k);e(k);var N=l(k,2);{var H=a=>{var t=ot();w(()=>{u(t,"src",r().product.cloudinaryUrl),u(t,"alt",r().product.productName),u(t,"width",r().product.imageWidth),u(t,"height",r().product.imageHeight)}),y(a,t)};J(N,a=>{r().product.cloudinaryUrl&&a(H)})}var b=l(N,2),O=l(s(b),2),T=l(s(O));L(T,5,()=>i(f),Q,(a,t)=>{var p=lt(),x=s(p),h=s(x),M=s(h,!0);e(h),e(x);var q=l(x),W=s(q,!0);e(q),e(p),w(()=>{u(h,"href",i(t).productVendorUrl||i(t).url),m(M,i(t).vendor),m(W,i(t).price)}),y(a,p)}),e(T),e(O),e(b);var S=l(b,2),K=s(S);e(S),e(g),w(()=>{m(A,r().product.productName),m(E,`by ${r().product.productBrand??""}`)}),I("click",K,z),y(v,g),F(),n()}export{$t as component,yt as universal};
