import{t as w,b as g}from"../chunks/DfXK_jSs.js";import"../chunks/DBxjm7Y_.js";import{ak as A,g as a,al as D,am as s,an as l,v as o,A as u,ao as p,ap as O,ar as S}from"../chunks/CWOhmV2c.js";import{e as q,s as C}from"../chunks/CwUoD2Kj.js";import{i as L}from"../chunks/DLKYxPPN.js";import{r as h}from"../chunks/C32hVi81.js";import{b as _}from"../chunks/CAUEGmdr.js";import{p as N}from"../chunks/CWmzcjye.js";import{i as P}from"../chunks/BtpCMNU_.js";import{a as T}from"../chunks/BqTHlUrR.js";import{g as E}from"../chunks/2xYPA_l8.js";var I=w('<div class="error"> </div>'),J=w('<form class="container svelte-1m6ejzr"><h1>Login</h1> <div class="field svelte-1m6ejzr"><label for="username">Username</label> <input id="username" type="text" placeholder="enter your username" required class="svelte-1m6ejzr"></div> <div class="field svelte-1m6ejzr"><label for="password">Password</label> <input id="password" type="password" placeholder="enter your password" required class="svelte-1m6ejzr"></div> <!> <button type="submit" class="svelte-1m6ejzr"><span>Login</span></button></form>');function W(y,j){A(j,!1);let m=u(""),d=u(""),t=u("");async function k(e){e.preventDefault(),o(t,"");try{const r=await fetch("https://3ee.dev/account/login/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro"},mode:"cors",body:JSON.stringify({username:a(m),password:a(d)})}),n=await r.json();r.ok&&n.token?(T.set(n),E("/")):o(t,"Invalid credentials")}catch(r){console.error(r),o(t,"Network error")}}P();var i=J(),v=s(l(i),2),f=s(l(v),2);h(f),p(v);var c=s(v,2),b=s(l(c),2);h(b),p(c);var z=s(c,2);{var x=e=>{var r=I(),n=l(r,!0);p(r),S(()=>C(n,a(t))),g(e,r)};L(z,e=>{a(t)&&e(x)})}O(2),p(i),_(f,()=>a(m),e=>o(m,e)),_(b,()=>a(d),e=>o(d,e)),q("submit",i,N(k)),g(y,i),D()}export{W as component};
