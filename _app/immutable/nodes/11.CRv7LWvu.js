import{t as V,a as x}from"../chunks/DRiVrBMz.js";import"../chunks/BLulYnNU.js";import{ak as D,at as j,au as F,ar as w,al as G,am as l,an as r,v as P,A as U,j as I,ao as a,g as i,ap as J}from"../chunks/DGYefiCd.js";import{e as L,s as u}from"../chunks/ByZ5mbbd.js";import{i as Q}from"../chunks/CWD507PG.js";import{e as R,i as X}from"../chunks/k-lROdaV.js";import{s as c}from"../chunks/BVgT1Vhj.js";import{i as Y}from"../chunks/BoHxMQP1.js";import{p as Z}from"../chunks/OZP53ftb.js";import{s as ee,a as te}from"../chunks/DavUG9Pm.js";import"../chunks/DKAYtLTS.js";import{p as ae}from"../chunks/D8q5-PF-.js";import{s as re}from"../chunks/BVyUmpUc.js";import{n as se}from"../chunks/Dk0Svo2v.js";import{h as oe}from"../chunks/CPRV9u04.js";const le=!1,ie=async({params:f,fetch:d})=>{const{category:n,slug:p}=f;let o=await d(`/data/skateboard-products/${n}/${p}.json`);if(o.ok||(o=await d(`/data/rollerskate-products/${n}/${p}.json`)),!o.ok)throw new Error(`Product not found: ${n}/${p}`);return{product:await o.json()}},Pe=Object.freeze(Object.defineProperty({__proto__:null,load:ie,prerender:le},Symbol.toStringTag,{value:"Module"}));var ce=V('<img class="product-image svelte-1flmiee">'),de=V('<tr class="svelte-1flmiee"><td class="svelte-1flmiee"><a target="_blank" rel="noopener" class="svelte-1flmiee"> </a></td><td class="svelte-1flmiee"> </td></tr>'),ne=V('<main class="container svelte-1flmiee"><h1 class="svelte-1flmiee"> </h1> <p class="brand svelte-1flmiee"> </p> <!> <section class="prices svelte-1flmiee"><h2 class="svelte-1flmiee">Vendor Prices</h2> <table class="svelte-1flmiee"><thead class="svelte-1flmiee"><tr class="svelte-1flmiee"><th class="svelte-1flmiee">Vendor</th><th class="svelte-1flmiee">Price</th></tr></thead><tbody class="svelte-1flmiee"></tbody></table></section> <div class="add-to-build svelte-1flmiee"><button class="svelte-1flmiee"><img alt="Add to Build" class="svelte-1flmiee"> <span class="svelte-1flmiee">Add to build</span></button></div></main>');function Ue(f,d){D(d,!1);const[n,p]=ee(),o=()=>te(ae,"$page",n),v=U();let s=Z(d,"data",8),B=U(),A=U();function E(){re.update(t=>{const e=`${i(B).slice(0,-1)}_slug`;return{...t,[e]:i(A)}}),se.send({message:`${s().product.productName} added to build`,link:"/builds/new",linkText:"see more"})}j(()=>o(),()=>{P(B,o().params.category)}),j(()=>o(),()=>{P(A,o().params.slug)}),j(()=>I(s()),()=>{P(v,s().product.productPrices.map(t=>{const e=Object.keys(t).find(m=>m!=="url");return{vendor:e,price:t[e],url:t.url,productVendorUrl:t.productVendorUrl}}))}),F(),Y();var g=ne(),_=r(g),H=r(_,!0);a(_);var b=l(_,2),K=r(b);a(b);var N=l(b,2);{var M=t=>{var e=ce();w(()=>{c(e,"src",s().product.cloudinaryUrl),c(e,"alt",s().product.productName),c(e,"width",s().product.imageWidth),c(e,"height",s().product.imageHeight)}),x(t,e)};Q(N,t=>{s().product.cloudinaryUrl&&t(M)})}var h=l(N,2),O=l(r(h),2),T=l(r(O));R(T,5,()=>i(v),X,(t,e)=>{var m=de(),$=r(m),k=r($),q=r(k,!0);a(k),a($);var z=l($),C=r(z,!0);a(z),a(m),w(()=>{c(k,"href",i(e).productVendorUrl||i(e).url),u(q,i(e).vendor),u(C,i(e).price)}),x(t,m)}),a(T),a(O),a(h);var S=l(h,2),y=r(S),W=r(y);c(W,"src",oe),J(2),a(y),a(S),a(g),w(()=>{u(H,s().product.productName),u(K,`by ${s().product.productBrand??""}`)}),L("click",y,E),x(f,g),G(),p()}export{Ue as component,Pe as universal};
