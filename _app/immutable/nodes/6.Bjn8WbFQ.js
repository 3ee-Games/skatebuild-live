import{f as Ae}from"../chunks/19TPhq2Y.js";import{t as y,a as m}from"../chunks/DI9w5OQQ.js";import"../chunks/BxUFmY4z.js";import{ak as Ce,o as h,ar as d,an as o,c as e,al as De,am as a,j as q,ao as s,av as w,ap as Ke,b as Qe,aq as X}from"../chunks/BpViCVQb.js";import{i as ze}from"../chunks/CPZJgrMF.js";import{p as Z,s as Xe}from"../chunks/CCxe2xhz.js";import{o as Fe}from"../chunks/DVRc__YI.js";import{g as Oe}from"../chunks/Cko_2ExL.js";import{e as Ze,s as P}from"../chunks/CPOfcv9_.js";import{i as Ne}from"../chunks/WmZ9OhnZ.js";import{e as j,i as B}from"../chunks/DT_QGUp8.js";import{r as Re}from"../chunks/BDn2O-US.js";import{b as $e,a as ea}from"../chunks/DJ-rPqZL.js";import{b as T}from"../chunks/C2ObWKCn.js";import{s as we}from"../chunks/n4x5aNlg.js";import{a as aa}from"../chunks/BWRsyZQo.js";import{g as ta}from"../chunks/DD5u_fhF.js";const la=!1,sa=async({fetch:E})=>{const A=await Ae(E,"skateboard-products/index.json"),G=await Ae(E,"rollerskate-products/index.json");return{skateboardProducts:A,rollerskateProducts:G}},Ga=Object.freeze(Object.defineProperty({__proto__:null,load:sa,prerender:la},Symbol.toStringTag,{value:"Module"}));var oa=y('<label class="svelte-6ysq03"><input type="radio" required class="svelte-6ysq03"> </label>'),ra=y("<option>Street</option> <option>Vert</option> <option>Freestyle</option> <option>Park</option> <option>Downhill</option> <option>Cruisin</option>",1),ia=y("<option>Artistic skating</option> <option>Roller dance</option> <option>Speed skating</option> <option>Roller derby</option> <option>Park skating</option> <option>Roller hockey</option>",1),va=y("<option> </option>"),_a=y("<option> </option>"),na=y("<option> </option>"),ua=y("<option> </option>"),da=y('<div class="field svelte-6ysq03"><label class="svelte-6ysq03">Deck</label> <select required class="svelte-6ysq03"><option disabled>Select deck</option><!></select></div> <div class="field svelte-6ysq03"><label class="svelte-6ysq03">Griptape</label> <select class="svelte-6ysq03"><option disabled>Select griptape</option><!></select></div> <div class="field svelte-6ysq03"><label class="svelte-6ysq03">Rails</label> <select class="svelte-6ysq03"><option disabled>Select rail</option><!></select></div> <div class="field svelte-6ysq03"><label class="svelte-6ysq03">Risers</label> <select class="svelte-6ysq03"><option disabled>Select risers</option><!></select></div>',1),pa=y("<option> </option>"),ca=y("<option> </option>"),ba=y("<option> </option>"),ga=y("<option> </option>"),fa=y('<div class="field svelte-6ysq03"><label class="svelte-6ysq03">Boot</label> <select required class="svelte-6ysq03"><option disabled>Select boot</option><!></select></div> <div class="field svelte-6ysq03"><label class="svelte-6ysq03">Toestops</label> <select class="svelte-6ysq03"><option disabled>Select toestops</option><!></select></div> <div class="field svelte-6ysq03"><label class="svelte-6ysq03">Slideblocks</label> <select class="svelte-6ysq03"><option disabled>Select slideblocks</option><!></select></div> <div class="field svelte-6ysq03"><label class="svelte-6ysq03">Plates</label> <select required class="svelte-6ysq03"><option disabled>Select plates</option><!></select></div>',1),ma=y("<option> </option>"),ya=y("<option> </option>"),ka=y("<option> </option>"),qa=y("<option> </option>"),ha=y('<form class="container svelte-6ysq03"><div class="field svelte-6ysq03"><label class="svelte-6ysq03">Build Name</label> <input required class="svelte-6ysq03"></div> <div class="field-group svelte-6ysq03"></div> <div class="field svelte-6ysq03"><label class="svelte-6ysq03">Style</label> <select required class="svelte-6ysq03"><option disabled>Select style</option><!></select></div> <!> <!> <div class="field svelte-6ysq03"><label class="svelte-6ysq03">Trucks</label> <select required class="svelte-6ysq03"><option disabled>Select trucks</option><!></select></div> <div class="field svelte-6ysq03"><label class="svelte-6ysq03">Bearings</label> <select required class="svelte-6ysq03"><option disabled>Select bearings</option><!></select></div> <div class="field svelte-6ysq03"><label class="svelte-6ysq03">Wheels</label> <select required class="svelte-6ysq03"><option disabled>Select wheels</option><!></select></div> <div class="field svelte-6ysq03"><label class="svelte-6ysq03">Bushings</label> <select required class="svelte-6ysq03"><option disabled>Select bushings</option><!></select></div> <button type="submit" class="svelte-6ysq03"><span>Save Build</span></button></form>');function Sa(E,A){Ce(A,!1);const G=[];let b=Z(A,"skateboardProducts",8),k=Z(A,"rollerskateProducts",8),g=Z(A,"prefill",8),$=Z(A,"submit",8),I=h(g().name||"");g().slug;let oe=g().skater_type,O=h(g().skating_type),L=h(g().deck_slug),V=h(g().griptape_slug),R=h(g().rails_slug),C=h(g().risers_slug),W=h(g().boot_slug),Y=h(g().toestops_slug),H=h(g().slideblock_slug),K=h(g().plates_slug),ee=h(g().trucks_slug),ae=h(g().bearings_slug),te=h(g().wheels_slug),le=h(g().bushings_slug),p=h(g().build_type||"");const Je=["skateboard","rollerskate"];Fe(()=>{const r=e(W)||e(Y)||e(H)||e(K);q(p,r?"rollerskate":"skateboard")});async function Me(r){r.preventDefault();const i={name:e(I),build_type:e(p),skater_type:oe,skating_type:e(O),deck_slug:e(p)==="skateboard"?e(L):void 0,griptape_slug:e(p)==="skateboard"?e(V):void 0,rails_slug:e(p)==="skateboard"?e(R):void 0,risers_slug:e(p)==="skateboard"?e(C):void 0,boot_slug:e(p)==="rollerskate"?e(W):void 0,toestops_slug:e(p)==="rollerskate"?e(Y):void 0,slideblock_slug:e(p)==="rollerskate"?e(H):void 0,plates_slug:e(p)==="rollerskate"?e(K):void 0,trucks_slug:e(ee),bearings_slug:e(ae),wheels_slug:e(te),bushings_slug:e(le)},t=await $()({detail:i});t!=null&&t.slug&&t.slug}ze();var se=ha(),re=o(se),Pe=a(o(re),2);Re(Pe),s(re);var ie=a(re,2);j(ie,5,()=>Je,B,(r,i)=>{var t=oa(),v=o(t);Re(v);var u,x=a(v);s(t),d(f=>{u!==(u=e(i))&&(v.value=(v.__value=e(i))??""),P(x,` ${f??""}`)},[()=>e(i).charAt(0).toUpperCase()+e(i).slice(1)],Qe),ea(G,[],v,()=>(e(i),e(p)),f=>q(p,f)),m(r,t)}),s(ie);var ve=a(ie,2),_e=a(o(ve),2);d(()=>{e(O),w(()=>{e(p)})});var ne=o(_e);ne.value=ne.__value="";var Ue=a(ne);{var Ee=r=>{var i=ra(),t=X(i);t.value=t.__value="street";var v=a(t,2);v.value=v.__value="vert";var u=a(v,2);u.value=u.__value="freestyle";var x=a(u,2);x.value=x.__value="park";var f=a(x,2);f.value=f.__value="downhill";var N=a(f,2);N.value=N.__value="cruisin",m(r,i)},Ge=r=>{var i=ia(),t=X(i);t.value=t.__value="artistic skating";var v=a(t,2);v.value=v.__value="roller dance";var u=a(v,2);u.value=u.__value="speed skating";var x=a(u,2);x.value=x.__value="roller derby";var f=a(x,2);f.value=f.__value="park skating";var N=a(f,2);N.value=N.__value="roller hockey",m(r,i)};Ne(Ue,r=>{e(p)==="skateboard"?r(Ee):r(Ge,!1)})}s(_e),s(ve);var je=a(ve,2);{var Ie=r=>{var i=da(),t=X(i),v=a(o(t),2);d(()=>{e(L),w(()=>{b()})});var u=o(v);u.value=u.__value="";var x=a(u);j(x,1,()=>b().decks,B,(_,n)=>{var l=va(),c={},S=o(l,!0);s(l),d(()=>{c!==(c=e(n).slug)&&(l.value=(l.__value=e(n).slug)??""),P(S,e(n).productName)}),m(_,l)}),s(v),s(t);var f=a(t,2),N=a(o(f),2);d(()=>{e(V),w(()=>{b()})});var D=o(N);D.value=D.__value="";var he=a(D);j(he,1,()=>b().griptape,B,(_,n)=>{var l=_a(),c={},S=o(l,!0);s(l),d(()=>{c!==(c=e(n).slug)&&(l.value=(l.__value=e(n).slug)??""),P(S,e(n).productName)}),m(_,l)}),s(N),s(f);var z=a(f,2),F=a(o(z),2);d(()=>{e(R),w(()=>{b()})});var J=o(F);J.value=J.__value="";var Se=a(J);j(Se,1,()=>b().rails,B,(_,n)=>{var l=na(),c={},S=o(l,!0);s(l),d(()=>{c!==(c=e(n).slug)&&(l.value=(l.__value=e(n).slug)??""),P(S,e(n).productName)}),m(_,l)}),s(F),s(z);var Q=a(z,2),M=a(o(Q),2);d(()=>{e(C),w(()=>{b()})});var U=o(M);U.value=U.__value="";var xe=a(U);j(xe,1,()=>b().risers,B,(_,n)=>{var l=ua(),c={},S=o(l,!0);s(l),d(()=>{c!==(c=e(n).slug)&&(l.value=(l.__value=e(n).slug)??""),P(S,e(n).productName)}),m(_,l)}),s(M),s(Q),T(v,()=>e(L),_=>q(L,_)),T(N,()=>e(V),_=>q(V,_)),T(F,()=>e(R),_=>q(R,_)),T(M,()=>e(C),_=>q(C,_)),m(r,i)};Ne(je,r=>{e(p)==="skateboard"&&r(Ie)})}var Be=a(je,2);{var Le=r=>{var i=fa(),t=X(i),v=a(o(t),2);d(()=>{e(W),w(()=>{k()})});var u=o(v);u.value=u.__value="";var x=a(u);j(x,1,()=>k().boots,B,(_,n)=>{var l=pa(),c={},S=o(l,!0);s(l),d(()=>{c!==(c=e(n).slug)&&(l.value=(l.__value=e(n).slug)??""),P(S,e(n).productName)}),m(_,l)}),s(v),s(t);var f=a(t,2),N=a(o(f),2);d(()=>{e(Y),w(()=>{k()})});var D=o(N);D.value=D.__value="";var he=a(D);j(he,1,()=>k().toestops,B,(_,n)=>{var l=ca(),c={},S=o(l,!0);s(l),d(()=>{c!==(c=e(n).slug)&&(l.value=(l.__value=e(n).slug)??""),P(S,e(n).productName)}),m(_,l)}),s(N),s(f);var z=a(f,2),F=a(o(z),2);d(()=>{e(H),w(()=>{k()})});var J=o(F);J.value=J.__value="";var Se=a(J);j(Se,1,()=>k().slideblocks,B,(_,n)=>{var l=ba(),c={},S=o(l,!0);s(l),d(()=>{c!==(c=e(n).slug)&&(l.value=(l.__value=e(n).slug)??""),P(S,e(n).productName)}),m(_,l)}),s(F),s(z);var Q=a(z,2),M=a(o(Q),2);d(()=>{e(K),w(()=>{k()})});var U=o(M);U.value=U.__value="";var xe=a(U);j(xe,1,()=>k().plates,B,(_,n)=>{var l=ga(),c={},S=o(l,!0);s(l),d(()=>{c!==(c=e(n).slug)&&(l.value=(l.__value=e(n).slug)??""),P(S,e(n).productName)}),m(_,l)}),s(M),s(Q),T(v,()=>e(W),_=>q(W,_)),T(N,()=>e(Y),_=>q(Y,_)),T(F,()=>e(H),_=>q(H,_)),T(M,()=>e(K),_=>q(K,_)),m(r,i)};Ne(Be,r=>{e(p)==="rollerskate"&&r(Le)})}var ue=a(Be,2),de=a(o(ue),2);d(()=>{e(ee),w(()=>{e(p),b(),k()})});var pe=o(de);pe.value=pe.__value="";var Ve=a(pe);j(Ve,1,()=>e(p)==="skateboard"?b().trucks:k().trucks,B,(r,i)=>{var t=ma(),v={},u=o(t,!0);s(t),d(()=>{v!==(v=e(i).slug)&&(t.value=(t.__value=e(i).slug)??""),P(u,e(i).productName)}),m(r,t)}),s(de),s(ue);var ce=a(ue,2),be=a(o(ce),2);d(()=>{e(ae),w(()=>{e(p),b(),k()})});var ge=o(be);ge.value=ge.__value="";var We=a(ge);j(We,1,()=>e(p)==="skateboard"?b().bearings:k().bearings,B,(r,i)=>{var t=ya(),v={},u=o(t,!0);s(t),d(()=>{v!==(v=e(i).slug)&&(t.value=(t.__value=e(i).slug)??""),P(u,e(i).productName)}),m(r,t)}),s(be),s(ce);var fe=a(ce,2),me=a(o(fe),2);d(()=>{e(te),w(()=>{e(p),b(),k()})});var ye=o(me);ye.value=ye.__value="";var Ye=a(ye);j(Ye,1,()=>e(p)==="skateboard"?b().wheels:k().wheels,B,(r,i)=>{var t=ka(),v={},u=o(t,!0);s(t),d(()=>{v!==(v=e(i).slug)&&(t.value=(t.__value=e(i).slug)??""),P(u,e(i).productName)}),m(r,t)}),s(me),s(fe);var Te=a(fe,2),ke=a(o(Te),2);d(()=>{e(le),w(()=>{e(p),b(),k()})});var qe=o(ke);qe.value=qe.__value="";var He=a(qe);j(He,1,()=>e(p)==="skateboard"?b().bushings:k().bushings,B,(r,i)=>{var t=qa(),v={},u=o(t,!0);s(t),d(()=>{v!==(v=e(i).slug)&&(t.value=(t.__value=e(i).slug)??""),P(u,e(i).productName)}),m(r,t)}),s(ke),s(Te),Ke(2),s(se),$e(Pe,()=>e(I),r=>q(I,r)),T(_e,()=>e(O),r=>q(O,r)),T(de,()=>e(ee),r=>q(ee,r)),T(be,()=>e(ae),r=>q(ae,r)),T(me,()=>e(te),r=>q(te,r)),T(ke,()=>e(le),r=>q(le,r)),Ze("submit",se,Me),m(E,se),De()}var xa=y('<h1>Create a New Build</h1> <div class="container"><!></div>',1);function Ia(E,A){Ce(A,!1);let G=h({}),b=Z(A,"data",8);const k=Oe(we);Fe(()=>{we.subscribe(O=>{q(G,O||{})})});async function g(O){const L=O.detail,{token:V}=Oe(aa),R=await fetch("https://3ee.dev/skatebuild/api/builds/save/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro",Authorization:"Token "+V},mode:"cors",body:JSON.stringify(L)});if(R.ok){const C=await R.json();we.set(C),await ta(`/builds/${C.owner_username}/${C.slug}`)}else console.error("Save failed",await R.json())}ze();var $=xa(),I=a(X($),2),oe=o(I);Sa(oe,Xe(()=>e(G),{get skateboardProducts(){return b().skateboardProducts},get rollerskateProducts(){return b().rollerskateProducts},prefill:k,submit:g})),s(I),m(E,$),De()}export{Ia as component,Ga as universal};
