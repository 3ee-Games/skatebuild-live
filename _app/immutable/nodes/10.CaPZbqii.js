import{t as U,a as y}from"../chunks/Cbs2TP5J.js";import"../chunks/DppSS1ZK.js";import{ak as C,av as $,aw as D,ar as w,al as F,am as l,an as s,j,o as P,ai as G,ao as e,c as i}from"../chunks/BQECxIka.js";import{e as I,s as m}from"../chunks/D7dhJHJ5.js";import{i as J}from"../chunks/BxIlQOsl.js";import{e as L,i as Q}from"../chunks/_x8JZXJS.js";import{s as u}from"../chunks/C1JmazWi.js";import{i as R}from"../chunks/-1FsuQLY.js";import{p as X}from"../chunks/Ct2zQ0GF.js";import{s as Y,a as Z}from"../chunks/B_XqU4jY.js";import"../chunks/BIJM6fYl.js";import{p as tt}from"../chunks/Xgc_tc8o.js";import{s as at}from"../chunks/CF6V_E0z.js";import{n as et}from"../chunks/C4-pA70s.js";const rt=async({params:v,fetch:c})=>{const{category:d,slug:n}=v;let o=await c(`/data/skateboard-products/${d}/${n}.json`);if(o.ok||(o=await c(`/data/rollerskate-products/${d}/${n}.json`)),!o.ok)throw new Error(`Product not found: ${d}/${n}`);return{product:await o.json()}},ht=Object.freeze(Object.defineProperty({__proto__:null,load:rt},Symbol.toStringTag,{value:"Module"}));var st=U('<img class="product-image svelte-1ilax7k">'),ot=U('<tr class="svelte-1ilax7k"><td class="svelte-1ilax7k"><a target="_blank" rel="noopener" class="svelte-1ilax7k"> </a></td><td class="svelte-1ilax7k"> </td></tr>'),lt=U('<main class="container svelte-1ilax7k"><h1 class="svelte-1ilax7k"> </h1> <p class="brand svelte-1ilax7k"> </p> <!> <section class="prices svelte-1ilax7k"><h2 class="svelte-1ilax7k">Vendor Prices</h2> <table class="svelte-1ilax7k"><thead><tr><th class="svelte-1ilax7k">Vendor</th><th class="svelte-1ilax7k">Price</th></tr></thead><tbody></tbody></table></section> <div class="add-to-build svelte-1ilax7k"><button class="svelte-1ilax7k">+ Add to Build</button></div></main>');function yt(v,c){C(c,!1);const[d,n]=Y(),o=()=>Z(tt,"$page",d),f=P();let r=X(c,"data",8),V=P(),B=P();function A(){at.update(a=>{const t=`${i(V).slice(0,-1)}_slug`;return{...a,[t]:i(B)}}),et.send({message:`${r().product.productName} added to build`,link:"/builds/new",linkText:"see more"})}$(()=>o(),()=>{j(V,o().params.category)}),$(()=>o(),()=>{j(B,o().params.slug)}),$(()=>G(r()),()=>{j(f,r().product.productPrices.map(a=>{const t=Object.keys(a).find(p=>p!=="url");return{vendor:t,price:a[t],url:a.url,productVendorUrl:a.productVendorUrl}}))}),D(),R();var g=lt(),_=s(g),E=s(_,!0);e(_);var k=l(_,2),H=s(k);e(k);var N=l(k,2);{var K=a=>{var t=st();w(()=>{u(t,"src",r().product.cloudinaryUrl),u(t,"alt",r().product.productName),u(t,"width",r().product.imageWidth),u(t,"height",r().product.imageHeight)}),y(a,t)};J(N,a=>{r().product.cloudinaryUrl&&a(K)})}var b=l(N,2),O=l(s(b),2),T=l(s(O));L(T,5,()=>i(f),Q,(a,t)=>{var p=ot(),x=s(p),h=s(x),W=s(h,!0);e(h),e(x);var z=l(x),q=s(z,!0);e(z),e(p),w(()=>{u(h,"href",i(t).productVendorUrl||i(t).url),m(W,i(t).vendor),m(q,i(t).price)}),y(a,p)}),e(T),e(O),e(b);var S=l(b,2),M=s(S);e(S),e(g),w(()=>{m(E,r().product.productName),m(H,`by ${r().product.productBrand??""}`)}),I("click",M,A),y(v,g),F(),n()}export{yt as component,ht as universal};
