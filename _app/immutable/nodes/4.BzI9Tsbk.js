import{_ as c}from"../chunks/Dp1pzeXC.js";import{e as We}from"../chunks/ZvMr0k1N.js";import{g as Ye}from"../chunks/CV9XhQAu.js";import{s as Ee}from"../chunks/C8OrEXdx.js";import{t as h,b as m,h as He}from"../chunks/D1cZUMdF.js";import"../chunks/D6TNQf53.js";import{al as $e,an as w,ao as Pe,ap as l,aq as r,ar as u,aK as fe,g as a,au as Y,av as Je,A as B,as as Qe,v as S,j as Xe,at as ye,n as je}from"../chunks/B4cbvUoc.js";import{e as H,s as f}from"../chunks/A0i425p3.js";import{i as A}from"../chunks/DRCw5_vY.js";import{e as ue,i as ne}from"../chunks/DwaW1LnN.js";import{r as we,s as b,a as Ze}from"../chunks/D4cNyY6U.js";import{s as Fe}from"../chunks/CUC9L1c6.js";import{s as et}from"../chunks/Bizn_FCF.js";import{i as Oe}from"../chunks/BmqVuqWk.js";import{p as I}from"../chunks/LEAZ8age.js";import{s as tt,a as st}from"../chunks/DzqKT2m8.js";import{a as at}from"../chunks/DIkIHlzs.js";import{g as rt}from"../chunks/B6bpqmEw.js";import{c as lt}from"../chunks/CQl3pa22.js";import{s as ot,r as it}from"../chunks/DqAaAC6z.js";const dt=!0;function ut(){const o=Object.assign({"/static/data/builds/catra/great-googly-moogly.json":()=>c(()=>import("../chunks/CldRNrNJ.js"),[],import.meta.url),"/static/data/builds/catra/jessup-park-skating.json":()=>c(()=>import("../chunks/ClTHrvE7.js"),[],import.meta.url),"/static/data/builds/catra/mookie-decker.json":()=>c(()=>import("../chunks/KedCCzCz.js"),[],import.meta.url),"/static/data/builds/catra/oootie-speed-deck.json":()=>c(()=>import("../chunks/D4fe49aH.js"),[],import.meta.url),"/static/data/builds/catra/roller-derby.json":()=>c(()=>import("../chunks/DIR_3lGS.js"),[],import.meta.url),"/static/data/builds/catra/smaggomg-fuckers.json":()=>c(()=>import("../chunks/CdaMEHJl.js"),[],import.meta.url),"/static/data/builds/catra/test1.json":()=>c(()=>import("../chunks/C7-XfP53.js"),[],import.meta.url),"/static/data/builds/catra/test2.json":()=>c(()=>import("../chunks/Cv5OIiKM.js"),[],import.meta.url),"/static/data/builds/deeoer2/oootie-speed-deck-pulled.json":()=>c(()=>import("../chunks/CMWMZEEt.js"),[],import.meta.url),"/static/data/builds/deeoer2/test2.json":()=>c(()=>import("../chunks/BM2hPDOK.js"),[],import.meta.url),"/static/data/builds/deeoer2/town-ripper.json":()=>c(()=>import("../chunks/DtowMUEi.js"),[],import.meta.url),"/static/data/builds/ryguy/dirty-lolly-park.json":()=>c(()=>import("../chunks/DKpvy-BC.js"),[],import.meta.url),"/static/data/builds/ryguy/low-profile-park.json":()=>c(()=>import("../chunks/CXzECMXP.js"),[],import.meta.url),"/static/data/builds/ryguy/moxi-fomo.json":()=>c(()=>import("../chunks/BvVofjDp.js"),[],import.meta.url),"/static/data/builds/workshop/bakers-beginners.json":()=>c(()=>import("../chunks/BNXoiD1Z.js"),[],import.meta.url),"/static/data/builds/workshop/cinco-skoots.json":()=>c(()=>import("../chunks/Kt0XrbqW.js"),[],import.meta.url),"/static/data/builds/workshop/krux-tripper.json":()=>c(()=>import("../chunks/Db-4BRLJ.js"),[],import.meta.url),"/static/data/builds/workshop/powell-flight.json":()=>c(()=>import("../chunks/Du8BW-NV.js"),[],import.meta.url),"/static/data/builds/workshop/santa-cruzzin.json":()=>c(()=>import("../chunks/CVoGs-8s.js"),[],import.meta.url),"/static/data/builds/workshop/smooth-riding.json":()=>c(()=>import("../chunks/3NiCWO8e.js"),[],import.meta.url)}),i=[];for(const d of Object.keys(o)){const _=d.split("/"),p=_[_.length-2],v=_[_.length-1].replace(".json","");i.push({username:p,slug:v})}return i}const nt=async({params:o,fetch:i})=>{const{username:d,slug:_}=o;let p;const v=Ye(Ee);if(v.slug===_&&v.owner_username===d)p={...v,attributes:v.attributes??[]};else{const y=await i(`/data/builds/${d}/${_}.json`);if(!y.ok)throw We(404,`Build not found: ${d}/${_}`);const t=await y.json();p={...t,attributes:t.attributes??[]}}const $=ct(p,i),O=await Promise.all(Object.entries($).filter(([,y])=>y!==null).map(async([y,t])=>{const P=await t;return P.ok?[y,await P.json()]:[y,null]}));return{build:p,products:Object.fromEntries(O)}};function ct(o,i){const d=o.build_type==="skateboard"?"skateboard-products":"rollerskate-products",_={bearings:i(`/data/${d}/bearings/${o.bearings_slug}.json`),bushings:i(`/data/${d}/bushings/${o.bushings_slug}.json`),trucks:i(`/data/${d}/trucks/${o.trucks_slug}.json`),wheels:i(`/data/${d}/wheels/${o.wheels_slug}.json`)},p={decks:o.deck_slug?i(`/data/${d}/decks/${o.deck_slug}.json`):null,griptape:o.griptape_slug?i(`/data/${d}/griptape/${o.griptape_slug}.json`):null,rails:o.rails_slug?i(`/data/${d}/rails/${o.rails_slug}.json`):null,risers:o.risers_slug?i(`/data/${d}/risers/${o.risers_slug}.json`):null},v={boots:o.boot_slug?i(`/data/${d}/boots/${o.boot_slug}.json`):null,slideblocks:o.slideblock_slug?i(`/data/${d}/slideblocks/${o.slideblock_slug}.json`):null,plates:o.plates_slug?i(`/data/${d}/plates/${o.plates_slug}.json`):null,toestops:o.toestops_slug?i(`/data/${d}/toestops/${o.toestops_slug}.json`):null};return{..._,...o.build_type==="skateboard"?p:v}}const Yt=Object.freeze(Object.defineProperty({__proto__:null,entries:ut,load:nt,prerender:dt},Symbol.toStringTag,{value:"Module"}));var _t=h('<p class="svelte-11fic08"> </p>'),pt=h('<div class="option-container svelte-11fic08"><article class="main svelte-11fic08"><h4 class="highlight large svelte-11fic08"> </h4> <!></article> <aside class="aside aside-1 svelte-11fic08"><input type="checkbox" class="svelte-11fic08"> <label class="svelte-11fic08"> </label></aside></div>');function vt(o,i){$e(i,!1);let d=I(i,"id",8,""),_=I(i,"name",8,""),p=I(i,"label",8,""),v=I(i,"description",8,""),$=I(i,"checked",12,!1),O=I(i,"onChange",8,()=>{});function y(g){O()({id:g.target.id,checked:g.target.checked})}Oe();var t=pt(),P=l(t),R=l(P),C=l(R,!0);r(R);var T=u(R,2);{var J=g=>{var U=_t(),G=l(U,!0);r(U),w(()=>f(G,v())),m(g,U)};A(T,g=>{v()&&g(J)})}r(P);var M=u(P,2),j=l(M);we(j);var z=u(j,2),q=l(z,!0);r(z),r(M),r(t),w(()=>{f(C,p()),b(j,"id",d()),b(j,"name",_()),b(z,"for",d()),f(q,p())}),lt(j,$),H("change",j,y),m(o,t),Pe()}var gt=h('<meta name="description">'),mt=h('<img alt="Skateboard build" class="build-icon svelte-54dh2">'),bt=h('<img alt="Rollerskate build" class="build-icon svelte-54dh2">'),ht=h('<div class="edit-container svelte-54dh2"><button class="edit-button svelte-54dh2">Edit Build</button></div>'),kt=h('<div class="edit-container svelte-54dh2"><button class="edit-button svelte-54dh2">Modify Build</button></div>'),ft=h('<div class="attribute-item svelte-54dh2"><span class="attr-name svelte-54dh2"> </span> <div class="attr-bar-container svelte-54dh2"><div class="attr-bar svelte-54dh2"></div></div></div>'),yt=h('<section class="attributes-section svelte-54dh2"><h2 class="svelte-54dh2">Stats</h2> <!></section>'),jt=h('<tr class="svelte-54dh2"><td class="svelte-54dh2"><input type="radio" class="svelte-54dh2"></td><td data-label="Vendor" class="svelte-54dh2"><a target="_blank" rel="noopener" class="svelte-54dh2"> </a></td><td data-label="Price" class="svelte-54dh2"> </td></tr>'),Et=h('<table class="price-table svelte-54dh2"><thead class="svelte-54dh2"><tr class="svelte-54dh2"><th class="svelte-54dh2">Select</th><th class="svelte-54dh2">Vendor</th><th class="svelte-54dh2">Price</th></tr></thead><tbody class="svelte-54dh2"></tbody></table>'),$t=h('<section class="build-section svelte-54dh2"><div class="section-inner svelte-54dh2"><img> <div class="section-info svelte-54dh2"><h2 class="svelte-54dh2"> </h2> <p><a class="svelte-54dh2"><strong> </strong></a> </p> <!></div></div></section>'),Pt=h(`<section class="build-section svelte-54dh2"><h2 class="svelte-54dh2">Grand Total</h2> <p class="grand-total svelte-54dh2"> </p> <p class="disclaimer svelte-54dh2">Prices are an estimate. Check to make sure all parts are compatible and the correct size
				before purchasing.</p></section>`),wt=h('<div class="container svelte-54dh2"><h1 class="svelte-54dh2"><!> </h1> <p>Created by <a class="svelte-54dh2"> </a></p> <!> <p>This build is designed for <strong><span class="highlight"> </span></strong>.</p> <!> <!> <!> <!></div>');function Ht(o,i){$e(i,!1);const[d,_]=tt(),p=()=>st(at,"$accountData",d),v=B(),$=B(),O=B(),y=B();let t=I(i,"data",8);const P=t().build.owner_username?`${t().build.owner_username}'s custom ${t().build.build_type} build | SkateBuild.pro`:"Build Your Skate",R=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),C=t().build.attributes??[];let T=B(!1);function J({id:s,checked:e}){S(T,e)}function M(s){const e=Object.keys(s).find(n=>n!=="url"&&n!=="productVendorUrl");return{vendor:e,price:s[e],url:s.url,productVendorUrl:s.productVendorUrl}}function j(s){const e=s.split("-").pop().trim(),n=parseFloat(e.replace(/[^0-9.]/g,""));return isNaN(n)?0:Math.round(n*100)}const q=[{key:"decks",label:"Deck",slug:t().build.deck_slug},{key:"griptape",label:"griptape",slug:t().build.griptape_slug},{key:"boots",label:"Boots",slug:t().build.boot_slug},{key:"plates",label:"Plates",slug:t().build.plates_slug},{key:"trucks",label:"Trucks",slug:t().build.trucks_slug},{key:"slideblocks",label:"SlideBlocks",slug:t().build.slideblock_slug},{key:"wheels",label:"Wheels",slug:t().build.wheels_slug},{key:"bearings",label:"Bearings",slug:t().build.bearings_slug},{key:"toestops",label:"Toestops",slug:t().build.toestops_slug},{key:"rails",label:"rails",slug:t().build.rails_slug},{key:"risers",label:"risers",slug:t().build.risers_slug},{key:"bushings",label:"Bushings",slug:t().build.bushings_slug}].map(s=>{const e=t().products[s.key];if(!e||!s.slug)return null;const n=e.productPrices.map(M);return{key:s.key,label:s.label,slug:s.slug,productName:e.productName,productBrand:e.productBrand,cloudinaryUrl:e.cloudinaryUrl,vendorPrices:n}}).filter(Boolean),g=B({});q.forEach(s=>{s.vendorPrices.length&&fe(g,a(g)[s.key]=j(s.vendorPrices[0].price))});function U(s,e){fe(g,a(g)[s]=e)}function G(){Ee.set({slug:t().build.slug,name:t().build.name,skater_type:[],build_type:t().build.build_type,skating_type:t().build.skating_type,stance:t().build.stance??"",deck_slug:t().build.deck_slug??"",griptape_slug:t().build.griptape_slug??"",risers_slug:t().build.risers_slug??"",boot_slug:t().build.boot_slug??"",toestops_slug:t().build.toestops_slug??"",slideblock_slug:t().build.slideblock_slug??"",rails_slug:t().build.rails_slug??"",plates_slug:t().build.plates_slug??"",trucks_slug:t().build.trucks_slug,bearings_slug:t().build.bearings_slug,wheels_slug:t().build.wheels_slug,bushings_slug:t().build.bushings_slug,attributes:C,owner_username:t().build.owner_username??""}),rt("/builds/new")}Y(()=>p(),()=>{var s;S(v,(s=p())==null?void 0:s.username)}),Y(()=>Xe(t()),()=>{S($,t().build.owner_username)}),Y(()=>a(g),()=>{S(O,Object.values(a(g)).reduce((s,e)=>s+e,0))}),Y(()=>a(O),()=>{S(y,`$${R.format(a(O)/100)}`)}),Je(),Oe();var Q=wt();He(s=>{var e=gt();Qe.title=P,w(()=>b(e,"content",`Check out ${t().build.owner_username??""}'s custom ${t().build.build_type??""} build and prices.`)),m(s,e)});var X=l(Q),ce=l(X);{var Te=s=>{var e=mt();b(e,"src",ot),m(s,e)},Ve=(s,e)=>{{var n=E=>{var k=bt();b(k,"src",it),m(E,k)};A(s,E=>{t().build.build_type==="rollerskate"&&E(n)},e)}};A(ce,s=>{t().build.build_type==="skateboard"?s(Te):s(Ve,!1)})}var De=u(ce);r(X);var Z=u(X,2),F=u(l(Z)),xe=l(F,!0);r(F),r(Z);var _e=u(Z,2);{var Ae=s=>{var e=ht(),n=l(e);r(e),H("click",n,G),m(s,e)},Ie=s=>{var e=kt(),n=l(e);r(e),H("click",n,G),m(s,e)};A(_e,s=>{a(v)===a($)?s(Ae):s(Ie,!1)})}var ee=u(_e,2),pe=u(l(ee)),ve=l(pe),Re=l(ve,!0);r(ve),r(pe),ye(),r(ee);var ge=u(ee,2);{var Le=s=>{var e=yt(),n=u(l(e),2);ue(n,1,()=>C,ne,(E,k)=>{var V=ft(),D=l(V),te=l(D,!0);r(D);var L=u(D,2),x=l(L);r(L),r(V),w((K,se)=>{b(V,"data-value",K),f(te,a(k).name),b(x,"data-color",a(k).value<=.3?"low":a(k).value<=.7?"medium":"high"),et(x,`width: ${se??""}%;`)},[()=>`${Math.round(a(k).value*100)}%`,()=>Math.round(a(k).value*100)],je),m(E,V)}),r(e),m(s,e)};A(ge,s=>{C.length&&s(Le)})}var me=u(ge,2);vt(me,{id:"toggle_prices",name:"toggle_prices",label:"Show Prices",description:"Compare prices.",onChange:J,get checked(){return a(T)},set checked(s){S(T,s)},$$legacy:!0});var be=u(me,2);ue(be,1,()=>q,ne,(s,e)=>{var n=$t(),E=l(n),k=l(E),V=u(k,2),D=l(V),te=l(D,!0);r(D);var L=u(D,2),x=l(L),K=l(x),se=l(K,!0);r(K),r(x);var Ce=u(x);r(L);var Ue=u(L,2);{var Ne=ae=>{var re=Et(),he=u(l(re));ue(he,5,()=>a(e).vendorPrices,ne,(Me,N)=>{var le=jt(),oe=l(le),W=l(oe);we(W),r(oe);var ie=u(oe),de=l(ie),ze=l(de,!0);r(de),r(ie);var ke=u(ie),qe=l(ke);r(ke),r(le),w((Ge,Ke)=>{b(W,"name","selected_"+a(e).key),Ze(W,Ge),b(de,"href",a(N).productVendorUrl),f(ze,a(N).vendor),f(qe,`$${Ke??""}`)},[()=>a(g)[a(e).key]===j(a(N).price),()=>R.format(a(N).price)],je),H("change",W,()=>U(a(e).key,j(a(N).price))),m(Me,le)}),r(he),r(re),m(ae,re)};A(Ue,ae=>{a(T)&&ae(Ne)})}r(V),r(E),r(n),w(()=>{b(k,"src",a(e).cloudinaryUrl),b(k,"alt",a(e).productName),Fe(k,1,`section-image ${a(e).key??""}`,"svelte-54dh2"),f(te,a(e).label),b(x,"href",`/product/${a(e).key}/${a(e).slug}`),f(se,a(e).productName),f(Ce,`  by ${a(e).productBrand??""}`)}),m(s,n)});var Be=u(be,2);{var Se=s=>{var e=Pt(),n=u(l(e),2),E=l(n,!0);r(n),ye(2),r(e),w(()=>f(E,a(y))),m(s,e)};A(Be,s=>{a(T)&&s(Se)})}r(Q),w(()=>{f(De,` ${t().build.name??""}`),b(F,"href",`/profiles/${a($)}`),f(xe,a($)),f(Re,t().build.skating_type)}),m(o,Q),Pe(),_()}export{Ht as component,Yt as universal};
