import{f as Ae}from"../chunks/19TPhq2Y.js";import{t as k,a as f}from"../chunks/Cbs2TP5J.js";import"../chunks/DppSS1ZK.js";import{ak as Ce,o as y,ar as d,an as o,c as e,al as De,am as a,j as h,ao as s,as as P,ap as Ke,b as Qe,aq as se}from"../chunks/BQECxIka.js";import{i as ze}from"../chunks/-1FsuQLY.js";import{p as Z,s as Xe}from"../chunks/Ct2zQ0GF.js";import{o as Fe}from"../chunks/BNi7mzQR.js";import{g as Oe}from"../chunks/CufRIGZF.js";import{e as Ze,s as q}from"../chunks/D7dhJHJ5.js";import{i as we}from"../chunks/BxIlQOsl.js";import{e as j,i as B}from"../chunks/_x8JZXJS.js";import{r as Re}from"../chunks/C1JmazWi.js";import{b as $e,a as ea}from"../chunks/BHVgj7FX.js";import{b as T}from"../chunks/CoqOecze.js";import{s as Pe}from"../chunks/ByXmJWSm.js";import{a as aa}from"../chunks/BMexqwi4.js";import{g as la}from"../chunks/puSRjKWt.js";const ta=!1,sa=async({fetch:E})=>{const A=await Ae(E,"skateboard-products/index.json"),G=await Ae(E,"rollerskate-products/index.json");return{skateboardProducts:A,rollerskateProducts:G}},Ga=Object.freeze(Object.defineProperty({__proto__:null,load:sa,prerender:ta},Symbol.toStringTag,{value:"Module"}));var oa=k('<label class="svelte-1x1sm08"><input type="radio" required class="svelte-1x1sm08"> </label>'),ra=k("<option>Street</option> <option>Vert</option> <option>Freestyle</option> <option>Park</option> <option>Downhill</option> <option>Cruisin</option>",1),ia=k("<option>Artistic skating</option> <option>Roller dance</option> <option>Speed skating</option> <option>Roller derby</option> <option>Park skating</option> <option>Roller hockey</option>",1),va=k("<option> </option>"),na=k("<option> </option>"),_a=k("<option> </option>"),ua=k("<option> </option>"),da=k('<div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Deck</label> <select required class="svelte-1x1sm08"><option disabled>Select deck</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Griptape</label> <select class="svelte-1x1sm08"><option disabled>Select griptape</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Rails</label> <select class="svelte-1x1sm08"><option disabled>Select griptape</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Risers</label> <select class="svelte-1x1sm08"><option disabled>Select risers</option><!></select></div>',1),pa=k("<option> </option>"),ca=k("<option> </option>"),ma=k("<option> </option>"),ba=k("<option> </option>"),ga=k('<div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Boot</label> <select required class="svelte-1x1sm08"><option disabled>Select boot</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Toestops</label> <select class="svelte-1x1sm08"><option disabled>Select toestops</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Slideblocks</label> <select class="svelte-1x1sm08"><option disabled>Select slideblocks</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Plates</label> <select required class="svelte-1x1sm08"><option disabled>Select plates</option><!></select></div>',1),fa=k("<option> </option>"),ka=k("<option> </option>"),xa=k("<option> </option>"),ha=k("<option> </option>"),ya=k('<form class="container svelte-1x1sm08"><div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Build Name</label> <input required class="svelte-1x1sm08"></div> <div class="field-group svelte-1x1sm08"></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Style</label> <select required class="svelte-1x1sm08"><option disabled>Select style</option><!></select></div> <!> <!> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Trucks</label> <select required class="svelte-1x1sm08"><option disabled>Select trucks</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Bearings</label> <select required class="svelte-1x1sm08"><option disabled>Select bearings</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Wheels</label> <select required class="svelte-1x1sm08"><option disabled>Select wheels</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Bushings</label> <select required class="svelte-1x1sm08"><option disabled>Select bushings</option><!></select></div> <button type="submit" class="svelte-1x1sm08"><span>Save Build</span></button></form>');function Sa(E,A){Ce(A,!1);const G=[];let m=Z(A,"skateboardProducts",8),x=Z(A,"rollerskateProducts",8),b=Z(A,"prefill",8),W=Z(A,"submit",8),I=y(b().name||"");b().slug;let oe=b().skater_type,R=y(b().skating_type),L=y(b().deck_slug),V=y(b().griptape_slug),C=y(b().rails_slug),O=y(b().risers_slug),Y=y(b().boot_slug),H=y(b().toestops_slug),K=y(b().slideblock_slug),Q=y(b().plates_slug),$=y(b().trucks_slug),ee=y(b().bearings_slug),ae=y(b().wheels_slug),le=y(b().bushings_slug),p=y(b().build_type||"");const Je=["skateboard","rollerskate"];Fe(()=>{const r=e(Y)||e(H)||e(K)||e(Q);h(p,r?"rollerskate":"skateboard")});async function Me(r){r.preventDefault();const i={name:e(I),build_type:e(p),skater_type:oe,skating_type:e(R),deck_slug:e(p)==="skateboard"?e(L):void 0,griptape_slug:e(p)==="skateboard"?e(V):void 0,rails_slug:e(p)==="skateboard"?e(C):void 0,risers_slug:e(p)==="skateboard"?e(O):void 0,boot_slug:e(p)==="rollerskate"?e(Y):void 0,toestops_slug:e(p)==="rollerskate"?e(H):void 0,slideblock_slug:e(p)==="rollerskate"?e(K):void 0,plates_slug:e(p)==="rollerskate"?e(Q):void 0,trucks_slug:e($),bearings_slug:e(ee),wheels_slug:e(ae),bushings_slug:e(le)},l=await W()({detail:i});l!=null&&l.slug&&l.slug}ze();var te=ya(),re=o(te),qe=a(o(re),2);Re(qe),s(re);var ie=a(re,2);j(ie,5,()=>Je,B,(r,i)=>{var l=oa(),v=o(l);Re(v);var u,N=a(v);s(l),d(g=>{u!==(u=e(i))&&(v.value=(v.__value=e(i))??""),q(N,` ${g??""}`)},[()=>e(i).charAt(0).toUpperCase()+e(i).slice(1)],Qe),ea(G,[],v,()=>(e(i),e(p)),g=>h(p,g)),f(r,l)}),s(ie);var ve=a(ie,2),ne=a(o(ve),2);d(()=>{e(R),P(()=>{e(p)})});var _e=o(ne);_e.value=_e.__value="";var Ue=a(_e);{var Ee=r=>{var i=ra(),l=se(i);l.value=l.__value="street";var v=a(l,2);v.value=v.__value="vert";var u=a(v,2);u.value=u.__value="freestyle";var N=a(u,2);N.value=N.__value="park";var g=a(N,2);g.value=g.__value="downhill";var w=a(g,2);w.value=w.__value="cruisin",f(r,i)},Ge=r=>{var i=ia(),l=se(i);l.value=l.__value="artistic skating";var v=a(l,2);v.value=v.__value="roller dance";var u=a(v,2);u.value=u.__value="speed skating";var N=a(u,2);N.value=N.__value="roller derby";var g=a(N,2);g.value=g.__value="park skating";var w=a(g,2);w.value=w.__value="roller hockey",f(r,i)};we(Ue,r=>{e(p)==="skateboard"?r(Ee):r(Ge,!1)})}s(ne),s(ve);var je=a(ve,2);{var Ie=r=>{var i=da(),l=se(i),v=a(o(l),2);d(()=>{e(L),P(()=>{m()})});var u=o(v);u.value=u.__value="";var N=a(u);j(N,1,()=>m().decks,B,(n,_)=>{var t=va(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(_).slug)&&(t.value=(t.__value=e(_).slug)??""),q(S,e(_).productName)}),f(n,t)}),s(v),s(l);var g=a(l,2),w=a(o(g),2);d(()=>{e(V),P(()=>{m()})});var D=o(w);D.value=D.__value="";var ye=a(D);j(ye,1,()=>m().griptape,B,(n,_)=>{var t=na(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(_).slug)&&(t.value=(t.__value=e(_).slug)??""),q(S,e(_).productName)}),f(n,t)}),s(w),s(g);var z=a(g,2),F=a(o(z),2);d(()=>{e(C),P(()=>{m()})});var J=o(F);J.value=J.__value="";var Se=a(J);j(Se,1,()=>m().rails,B,(n,_)=>{var t=_a(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(_).slug)&&(t.value=(t.__value=e(_).slug)??""),q(S,e(_).productName)}),f(n,t)}),s(F),s(z);var X=a(z,2),M=a(o(X),2);d(()=>{e(O),P(()=>{m()})});var U=o(M);U.value=U.__value="";var Ne=a(U);j(Ne,1,()=>m().risers,B,(n,_)=>{var t=ua(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(_).slug)&&(t.value=(t.__value=e(_).slug)??""),q(S,e(_).productName)}),f(n,t)}),s(M),s(X),T(v,()=>e(L),n=>h(L,n)),T(w,()=>e(V),n=>h(V,n)),T(F,()=>e(C),n=>h(C,n)),T(M,()=>e(O),n=>h(O,n)),f(r,i)};we(je,r=>{e(p)==="skateboard"&&r(Ie)})}var Be=a(je,2);{var Le=r=>{var i=ga(),l=se(i),v=a(o(l),2);d(()=>{e(Y),P(()=>{x()})});var u=o(v);u.value=u.__value="";var N=a(u);j(N,1,()=>x().boots,B,(n,_)=>{var t=pa(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(_).slug)&&(t.value=(t.__value=e(_).slug)??""),q(S,e(_).productName)}),f(n,t)}),s(v),s(l);var g=a(l,2),w=a(o(g),2);d(()=>{e(H),P(()=>{x()})});var D=o(w);D.value=D.__value="";var ye=a(D);j(ye,1,()=>x().toestops,B,(n,_)=>{var t=ca(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(_).slug)&&(t.value=(t.__value=e(_).slug)??""),q(S,e(_).productName)}),f(n,t)}),s(w),s(g);var z=a(g,2),F=a(o(z),2);d(()=>{e(K),P(()=>{x()})});var J=o(F);J.value=J.__value="";var Se=a(J);j(Se,1,()=>x().slideblocks,B,(n,_)=>{var t=ma(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(_).slug)&&(t.value=(t.__value=e(_).slug)??""),q(S,e(_).productName)}),f(n,t)}),s(F),s(z);var X=a(z,2),M=a(o(X),2);d(()=>{e(Q),P(()=>{x()})});var U=o(M);U.value=U.__value="";var Ne=a(U);j(Ne,1,()=>x().plates,B,(n,_)=>{var t=ba(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(_).slug)&&(t.value=(t.__value=e(_).slug)??""),q(S,e(_).productName)}),f(n,t)}),s(M),s(X),T(v,()=>e(Y),n=>h(Y,n)),T(w,()=>e(H),n=>h(H,n)),T(F,()=>e(K),n=>h(K,n)),T(M,()=>e(Q),n=>h(Q,n)),f(r,i)};we(Be,r=>{e(p)==="rollerskate"&&r(Le)})}var ue=a(Be,2),de=a(o(ue),2);d(()=>{e($),P(()=>{e(p),m(),x()})});var pe=o(de);pe.value=pe.__value="";var Ve=a(pe);j(Ve,1,()=>e(p)==="skateboard"?m().trucks:x().trucks,B,(r,i)=>{var l=fa(),v={},u=o(l,!0);s(l),d(()=>{v!==(v=e(i).slug)&&(l.value=(l.__value=e(i).slug)??""),q(u,e(i).productName)}),f(r,l)}),s(de),s(ue);var ce=a(ue,2),me=a(o(ce),2);d(()=>{e(ee),P(()=>{e(p),m(),x()})});var be=o(me);be.value=be.__value="";var We=a(be);j(We,1,()=>e(p)==="skateboard"?m().bearings:x().bearings,B,(r,i)=>{var l=ka(),v={},u=o(l,!0);s(l),d(()=>{v!==(v=e(i).slug)&&(l.value=(l.__value=e(i).slug)??""),q(u,e(i).productName)}),f(r,l)}),s(me),s(ce);var ge=a(ce,2),fe=a(o(ge),2);d(()=>{e(ae),P(()=>{e(p),m(),x()})});var ke=o(fe);ke.value=ke.__value="";var Ye=a(ke);j(Ye,1,()=>e(p)==="skateboard"?m().wheels:x().wheels,B,(r,i)=>{var l=xa(),v={},u=o(l,!0);s(l),d(()=>{v!==(v=e(i).slug)&&(l.value=(l.__value=e(i).slug)??""),q(u,e(i).productName)}),f(r,l)}),s(fe),s(ge);var Te=a(ge,2),xe=a(o(Te),2);d(()=>{e(le),P(()=>{e(p),m(),x()})});var he=o(xe);he.value=he.__value="";var He=a(he);j(He,1,()=>e(p)==="skateboard"?m().bushings:x().bushings,B,(r,i)=>{var l=ha(),v={},u=o(l,!0);s(l),d(()=>{v!==(v=e(i).slug)&&(l.value=(l.__value=e(i).slug)??""),q(u,e(i).productName)}),f(r,l)}),s(xe),s(Te),Ke(2),s(te),$e(qe,()=>e(I),r=>h(I,r)),T(ne,()=>e(R),r=>h(R,r)),T(de,()=>e($),r=>h($,r)),T(me,()=>e(ee),r=>h(ee,r)),T(fe,()=>e(ae),r=>h(ae,r)),T(xe,()=>e(le),r=>h(le,r)),Ze("submit",te,Me),f(E,te),De()}var Na=k('<main><h1>Create a New Build</h1> <div class="container"><!></div></main>');function Ia(E,A){Ce(A,!1);let G=y({}),m=Z(A,"data",8);const x=Oe(Pe);Fe(()=>{Pe.subscribe(R=>{h(G,R||{})})});async function b(R){const L=R.detail,{token:V}=Oe(aa),C=await fetch("https://3ee.dev/skatebuild/api/builds/save/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro",Authorization:"Token "+V},mode:"cors",body:JSON.stringify(L)});if(C.ok){const O=await C.json();console.log(O),Pe.set(O),await la(`/builds/${O.owner_username}/${O.slug}`)}else console.error("Save failed",await C.json())}ze();var W=Na(),I=a(o(W),2),oe=o(I);Sa(oe,Xe(()=>e(G),{get skateboardProducts(){return m().skateboardProducts},get rollerskateProducts(){return m().rollerskateProducts},prefill:x,submit:b})),s(I),s(W),f(E,W),De()}export{Ia as component,Ga as universal};
