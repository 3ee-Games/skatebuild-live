import{f as Te}from"../chunks/19TPhq2Y.js";import{t as k,a as f}from"../chunks/Cbs2TP5J.js";import"../chunks/DppSS1ZK.js";import{ak as Ce,o as y,ar as d,an as o,c as e,al as Ae,am as a,j as h,ao as s,as as q,ap as Ke,b as Qe,aq as se}from"../chunks/BQECxIka.js";import{i as ze}from"../chunks/-1FsuQLY.js";import{p as X,s as Xe}from"../chunks/Ct2zQ0GF.js";import{o as Fe}from"../chunks/BNi7mzQR.js";import{g as Re}from"../chunks/CufRIGZF.js";import{e as Ze,s as w}from"../chunks/D7dhJHJ5.js";import{i as Pe}from"../chunks/BxIlQOsl.js";import{e as B,i as j}from"../chunks/_x8JZXJS.js";import{r as De}from"../chunks/C1JmazWi.js";import{b as $e,a as ea}from"../chunks/BHVgj7FX.js";import{b as T}from"../chunks/CoqOecze.js";import{s as Oe}from"../chunks/CF6V_E0z.js";import{a as aa}from"../chunks/BMexqwi4.js";import"../chunks/Da9vBApV.js";const la=async({fetch:U})=>{const R=await Te(U,"skateboard-products/index.json"),E=await Te(U,"rollerskate-products/index.json");return{skateboardProducts:R,rollerskateProducts:E}},Ua=Object.freeze(Object.defineProperty({__proto__:null,load:la},Symbol.toStringTag,{value:"Module"}));var ta=k('<label class="svelte-1x1sm08"><input type="radio" required class="svelte-1x1sm08"> </label>'),sa=k("<option>Street</option> <option>Vert</option> <option>Freestyle</option> <option>Park</option> <option>Downhill</option> <option>Cruisin</option>",1),oa=k("<option>Artistic skating</option> <option>Roller dance</option> <option>Speed skating</option> <option>Roller derby</option> <option>Park skating</option> <option>Roller hockey</option>",1),ra=k("<option> </option>"),ia=k("<option> </option>"),va=k("<option> </option>"),_a=k("<option> </option>"),ua=k('<div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Deck</label> <select required class="svelte-1x1sm08"><option disabled>Select deck</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Griptape</label> <select class="svelte-1x1sm08"><option disabled>Select griptape</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Rails</label> <select class="svelte-1x1sm08"><option disabled>Select griptape</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Risers</label> <select class="svelte-1x1sm08"><option disabled>Select risers</option><!></select></div>',1),na=k("<option> </option>"),da=k("<option> </option>"),pa=k("<option> </option>"),ca=k("<option> </option>"),ma=k('<div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Boot</label> <select required class="svelte-1x1sm08"><option disabled>Select boot</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Toestops</label> <select class="svelte-1x1sm08"><option disabled>Select toestops</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Slideblocks</label> <select class="svelte-1x1sm08"><option disabled>Select slideblocks</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Plates</label> <select required class="svelte-1x1sm08"><option disabled>Select plates</option><!></select></div>',1),ba=k("<option> </option>"),ga=k("<option> </option>"),fa=k("<option> </option>"),ka=k("<option> </option>"),xa=k('<form class="container svelte-1x1sm08"><div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Build Name</label> <input required class="svelte-1x1sm08"></div> <div class="field-group svelte-1x1sm08"></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Style</label> <select required class="svelte-1x1sm08"><option disabled>Select style</option><!></select></div> <!> <!> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Trucks</label> <select required class="svelte-1x1sm08"><option disabled>Select trucks</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Bearings</label> <select required class="svelte-1x1sm08"><option disabled>Select bearings</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Wheels</label> <select required class="svelte-1x1sm08"><option disabled>Select wheels</option><!></select></div> <div class="field svelte-1x1sm08"><label class="svelte-1x1sm08">Bushings</label> <select required class="svelte-1x1sm08"><option disabled>Select bushings</option><!></select></div> <button type="submit" class="svelte-1x1sm08"><span>Save Build</span></button></form>');function ha(U,R){Ce(R,!1);const E=[];let m=X(R,"skateboardProducts",8),x=X(R,"rollerskateProducts",8),b=X(R,"prefill",8),V=X(R,"submit",8),G=y(b().name||"");b().slug;let oe=b().skater_type,D=y(b().skating_type),I=y(b().deck_slug),L=y(b().griptape_slug),O=y(b().rails_slug),Z=y(b().risers_slug),W=y(b().boot_slug),Y=y(b().toestops_slug),H=y(b().slideblock_slug),K=y(b().plates_slug),$=y(b().trucks_slug),ee=y(b().bearings_slug),ae=y(b().wheels_slug),le=y(b().bushings_slug),p=y(b().build_type||"");const Je=["skateboard","rollerskate"];Fe(()=>{const r=e(W)||e(Y)||e(H)||e(K);h(p,r?"rollerskate":"skateboard")});async function Me(r){r.preventDefault();const i={name:e(G),build_type:e(p),skater_type:oe,skating_type:e(D),deck_slug:e(p)==="skateboard"?e(I):void 0,griptape_slug:e(p)==="skateboard"?e(L):void 0,rails_slug:e(p)==="skateboard"?e(O):void 0,risers_slug:e(p)==="skateboard"?e(Z):void 0,boot_slug:e(p)==="rollerskate"?e(W):void 0,toestops_slug:e(p)==="rollerskate"?e(Y):void 0,slideblock_slug:e(p)==="rollerskate"?e(H):void 0,plates_slug:e(p)==="rollerskate"?e(K):void 0,trucks_slug:e($),bearings_slug:e(ee),wheels_slug:e(ae),bushings_slug:e(le)},l=await V()({detail:i});l!=null&&l.slug&&l.slug}ze();var te=xa(),re=o(te),qe=a(o(re),2);De(qe),s(re);var ie=a(re,2);B(ie,5,()=>Je,j,(r,i)=>{var l=ta(),v=o(l);De(v);var n,N=a(v);s(l),d(g=>{n!==(n=e(i))&&(v.value=(v.__value=e(i))??""),w(N,` ${g??""}`)},[()=>e(i).charAt(0).toUpperCase()+e(i).slice(1)],Qe),ea(E,[],v,()=>(e(i),e(p)),g=>h(p,g)),f(r,l)}),s(ie);var ve=a(ie,2),_e=a(o(ve),2);d(()=>{e(D),q(()=>{e(p)})});var ue=o(_e);ue.value=ue.__value="";var Ue=a(ue);{var Ee=r=>{var i=sa(),l=se(i);l.value=l.__value="street";var v=a(l,2);v.value=v.__value="vert";var n=a(v,2);n.value=n.__value="freestyle";var N=a(n,2);N.value=N.__value="park";var g=a(N,2);g.value=g.__value="downhill";var P=a(g,2);P.value=P.__value="cruisin",f(r,i)},Ge=r=>{var i=oa(),l=se(i);l.value=l.__value="artistic skating";var v=a(l,2);v.value=v.__value="roller dance";var n=a(v,2);n.value=n.__value="speed skating";var N=a(n,2);N.value=N.__value="roller derby";var g=a(N,2);g.value=g.__value="park skating";var P=a(g,2);P.value=P.__value="roller hockey",f(r,i)};Pe(Ue,r=>{e(p)==="skateboard"?r(Ee):r(Ge,!1)})}s(_e),s(ve);var we=a(ve,2);{var Ie=r=>{var i=ua(),l=se(i),v=a(o(l),2);d(()=>{e(I),q(()=>{m()})});var n=o(v);n.value=n.__value="";var N=a(n);B(N,1,()=>m().decks,j,(_,u)=>{var t=ra(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(u).slug)&&(t.value=(t.__value=e(u).slug)??""),w(S,e(u).productName)}),f(_,t)}),s(v),s(l);var g=a(l,2),P=a(o(g),2);d(()=>{e(L),q(()=>{m()})});var C=o(P);C.value=C.__value="";var ye=a(C);B(ye,1,()=>m().griptape,j,(_,u)=>{var t=ia(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(u).slug)&&(t.value=(t.__value=e(u).slug)??""),w(S,e(u).productName)}),f(_,t)}),s(P),s(g);var A=a(g,2),z=a(o(A),2);d(()=>{e(O),q(()=>{m()})});var F=o(z);F.value=F.__value="";var Se=a(F);B(Se,1,()=>m().rails,j,(_,u)=>{var t=va(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(u).slug)&&(t.value=(t.__value=e(u).slug)??""),w(S,e(u).productName)}),f(_,t)}),s(z),s(A);var Q=a(A,2),J=a(o(Q),2);d(()=>{e(Z),q(()=>{m()})});var M=o(J);M.value=M.__value="";var Ne=a(M);B(Ne,1,()=>m().risers,j,(_,u)=>{var t=_a(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(u).slug)&&(t.value=(t.__value=e(u).slug)??""),w(S,e(u).productName)}),f(_,t)}),s(J),s(Q),T(v,()=>e(I),_=>h(I,_)),T(P,()=>e(L),_=>h(L,_)),T(z,()=>e(O),_=>h(O,_)),T(J,()=>e(Z),_=>h(Z,_)),f(r,i)};Pe(we,r=>{e(p)==="skateboard"&&r(Ie)})}var Be=a(we,2);{var Le=r=>{var i=ma(),l=se(i),v=a(o(l),2);d(()=>{e(W),q(()=>{x()})});var n=o(v);n.value=n.__value="";var N=a(n);B(N,1,()=>x().boots,j,(_,u)=>{var t=na(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(u).slug)&&(t.value=(t.__value=e(u).slug)??""),w(S,e(u).productName)}),f(_,t)}),s(v),s(l);var g=a(l,2),P=a(o(g),2);d(()=>{e(Y),q(()=>{x()})});var C=o(P);C.value=C.__value="";var ye=a(C);B(ye,1,()=>x().toestops,j,(_,u)=>{var t=da(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(u).slug)&&(t.value=(t.__value=e(u).slug)??""),w(S,e(u).productName)}),f(_,t)}),s(P),s(g);var A=a(g,2),z=a(o(A),2);d(()=>{e(H),q(()=>{x()})});var F=o(z);F.value=F.__value="";var Se=a(F);B(Se,1,()=>x().slideblocks,j,(_,u)=>{var t=pa(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(u).slug)&&(t.value=(t.__value=e(u).slug)??""),w(S,e(u).productName)}),f(_,t)}),s(z),s(A);var Q=a(A,2),J=a(o(Q),2);d(()=>{e(K),q(()=>{x()})});var M=o(J);M.value=M.__value="";var Ne=a(M);B(Ne,1,()=>x().plates,j,(_,u)=>{var t=ca(),c={},S=o(t,!0);s(t),d(()=>{c!==(c=e(u).slug)&&(t.value=(t.__value=e(u).slug)??""),w(S,e(u).productName)}),f(_,t)}),s(J),s(Q),T(v,()=>e(W),_=>h(W,_)),T(P,()=>e(Y),_=>h(Y,_)),T(z,()=>e(H),_=>h(H,_)),T(J,()=>e(K),_=>h(K,_)),f(r,i)};Pe(Be,r=>{e(p)==="rollerskate"&&r(Le)})}var ne=a(Be,2),de=a(o(ne),2);d(()=>{e($),q(()=>{e(p),m(),x()})});var pe=o(de);pe.value=pe.__value="";var Ve=a(pe);B(Ve,1,()=>e(p)==="skateboard"?m().trucks:x().trucks,j,(r,i)=>{var l=ba(),v={},n=o(l,!0);s(l),d(()=>{v!==(v=e(i).slug)&&(l.value=(l.__value=e(i).slug)??""),w(n,e(i).productName)}),f(r,l)}),s(de),s(ne);var ce=a(ne,2),me=a(o(ce),2);d(()=>{e(ee),q(()=>{e(p),m(),x()})});var be=o(me);be.value=be.__value="";var We=a(be);B(We,1,()=>e(p)==="skateboard"?m().bearings:x().bearings,j,(r,i)=>{var l=ga(),v={},n=o(l,!0);s(l),d(()=>{v!==(v=e(i).slug)&&(l.value=(l.__value=e(i).slug)??""),w(n,e(i).productName)}),f(r,l)}),s(me),s(ce);var ge=a(ce,2),fe=a(o(ge),2);d(()=>{e(ae),q(()=>{e(p),m(),x()})});var ke=o(fe);ke.value=ke.__value="";var Ye=a(ke);B(Ye,1,()=>e(p)==="skateboard"?m().wheels:x().wheels,j,(r,i)=>{var l=fa(),v={},n=o(l,!0);s(l),d(()=>{v!==(v=e(i).slug)&&(l.value=(l.__value=e(i).slug)??""),w(n,e(i).productName)}),f(r,l)}),s(fe),s(ge);var je=a(ge,2),xe=a(o(je),2);d(()=>{e(le),q(()=>{e(p),m(),x()})});var he=o(xe);he.value=he.__value="";var He=a(he);B(He,1,()=>e(p)==="skateboard"?m().bushings:x().bushings,j,(r,i)=>{var l=ka(),v={},n=o(l,!0);s(l),d(()=>{v!==(v=e(i).slug)&&(l.value=(l.__value=e(i).slug)??""),w(n,e(i).productName)}),f(r,l)}),s(xe),s(je),Ke(2),s(te),$e(qe,()=>e(G),r=>h(G,r)),T(_e,()=>e(D),r=>h(D,r)),T(de,()=>e($),r=>h($,r)),T(me,()=>e(ee),r=>h(ee,r)),T(fe,()=>e(ae),r=>h(ae,r)),T(xe,()=>e(le),r=>h(le,r)),Ze("submit",te,Me),f(U,te),Ae()}var ya=k('<main><h1>Create a New Build</h1> <div class="container"><!></div></main>');function Ea(U,R){Ce(R,!1);let E=y({}),m=X(R,"data",8);const x=Re(Oe);Fe(()=>{Oe.subscribe(D=>{h(E,D||{})})});async function b(D){const I=D.detail,{token:L}=Re(aa),O=await fetch("https://3ee.dev/skatebuild/api/builds/save/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${L}`},body:JSON.stringify(I)});O.ok||console.error("Save failed",await O.json())}ze();var V=ya(),G=a(o(V),2),oe=o(G);ha(oe,Xe(()=>e(E),{get skateboardProducts(){return m().skateboardProducts},get rollerskateProducts(){return m().rollerskateProducts},prefill:x,submit:b})),s(G),s(V),f(U,V),Ae()}export{Ea as component,Ua as universal};
