import{t as k,a as f,n as Ie,c as Ue}from"../chunks/DRiVrBMz.js";import"../chunks/BLulYnNU.js";import{ak as xe,at as B,v as o,g as e,A as u,au as ye,an as l,am as n,ao as a,ar as j,al as we,aq as fe,j as Ee,n as ge,ap as he,aO as De}from"../chunks/DGYefiCd.js";import{s as M,e as O}from"../chunks/ByZ5mbbd.js";import{i as A}from"../chunks/CWD507PG.js";import{e as se,i as _e}from"../chunks/k-lROdaV.js";import{r as qe,s as $}from"../chunks/BVgT1Vhj.js";import{s as ae}from"../chunks/DsOQ9nNt.js";import{t as Ge,f as Le}from"../chunks/Cz4KdceI.js";import{b as Re}from"../chunks/Cv-JL0uC.js";import{i as Ae}from"../chunks/BoHxMQP1.js";import{p as me}from"../chunks/OZP53ftb.js";import{o as We}from"../chunks/ezTx0NwI.js";import{g as Ze}from"../chunks/kICkT2C_.js";import{s as Fe}from"../chunks/BVyUmpUc.js";import{n as Je}from"../chunks/Dk0Svo2v.js";import{h as Ke}from"../chunks/CPRV9u04.js";import{b as Qe}from"../chunks/DEDQ5tvs.js";const Xe=!1,Ye=async({fetch:I})=>{const C=await I("/data/skateboard-products/categories.json").then(_=>_.json()),v=await I("/data/rollerskate-products/categories.json").then(_=>_.json());return{skateCats:C,rollerCats:v}},Pt=Object.freeze(Object.defineProperty({__proto__:null,load:Ye,prerender:Xe},Symbol.toStringTag,{value:"Module"})),et="data:image/svg+xml,%3csvg%20style='height:%20512px;%20width:%20512px;'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M0%200h512v512H0z'%20fill='%23d6e010'%20fill-opacity='0'%3e%3c/path%3e%3cg%20class=''%20style=''%20transform='translate(0,0)'%3e%3cpath%20d='M230.844%2047.688c-28.215.083-58.57%202.925-91%208.78C339.666%2041.874%20441.95%20144.504%20495.938%20292.75c0-143.316-92.67-245.57-265.094-245.063zm-2.656%2033.624c-56.703%2022.374-97.407%2081.194-97.407%20150.844%200%2049.006%2020.153%2092.64%2051.845%20122%2022.64%208.588%2046.563%2010.904%2071.406%209.563-26.212-96.096-8.522-185.37%2032.5-271-18.534-6.51-37.96-10.382-58.342-11.407zm-41.844%201.782c-43.318%205.686-90.65%2023.297-142.5%2054.53%2024.987%2097.103%2056.545%20155.038%2092.78%20187.97-15.558-27.26-24.53-59.27-24.53-93.438%200-61.93%2029.422-116.84%2074.25-149.062zm134.156%2025a396.208%20396.208%200%200%201%204.156%2018.844%2028.23%2028.23%200%200%200-5.5-.532c-15.486%200-28.03%2012.55-28.03%2028.03%200%2015.483%2012.544%2028.033%2028.03%2028.033%204.33%200%208.432-.967%2012.094-2.72%203.26%2062.225-9.635%20123.823-41.03%20179.844%2032.597-5.38%2066.42-14.65%20100.78-22.406%2022.463-28.085%2036.094-64.734%2036.094-105.032%200-8.02-.553-15.9-1.594-23.594-31.27-44.417-66.02-78.693-105-100.468zm-301.875%2048.47C36.78%20459.957%20249.36%20479.842%20493.063%20343.717%20306.578%20348.125%20115.88%20532.286%2018.625%20156.56zm427%2082.75c-1.25%2033.993-11.342%2065.633-27.938%2092.28%2023.992-4.595%2048.14-7.793%2072.22-7.813-13.924-30.585-28.636-58.848-44.282-84.467zm41.53%20129.81c-127.06%2079.076-267.344%20111.63-421.03%2039.126%20130.246%20115.856%20342.11%2082.373%20421.03-39.125z'%20fill='%23000000'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e";var tt=k("<div> </div>"),rt=k('<div class="balance-container svelte-1d8cadx"><button class="close svelte-1d8cadx">× Close</button> <p class="selected-description svelte-1d8cadx"> </p> <input type="range" min="0" max="1" step="0.01" class="svelte-1d8cadx"> <div class="slider-labels svelte-1d8cadx"></div></div>');function st(I,C){xe(C,!1);const v=u(),_=u(),G=u();let h=u(.5),oe=me(C,"onSliderChange",8,()=>{}),U=me(C,"onClose",8,()=>{});const m=["Soft (78A–84A)","Hybrid (85A–91A)","Hard (92A–105A)"],p={"Soft (78A–84A)":"Soft – best on rough surfaces.","Hybrid (85A–91A)":"Hybrid – mix of speed & control.","Hard (92A–105A)":"Hard – ideal for street/skatepark."};function E(y){o(h,+y.target.value);const w={value:e(h),bucket:e(_)};oe()(w)}B(()=>e(h),()=>{o(v,Math.round(e(h)*(m.length-1)))}),B(()=>e(v),()=>{o(_,m[e(v)].split(" ")[0])}),B(()=>e(v),()=>{o(G,p[m[e(v)]])}),ye(),Ae();var x=rt(),N=l(x),S=n(N,2),D=l(S,!0);a(S);var g=n(S,2);qe(g);var b=n(g,2);se(b,5,()=>m,_e,(y,w,K)=>{var z=tt(),le=l(z,!0);a(z),j(()=>{ae(z,1,`label ${K===e(v)?"selected":""}`,"svelte-1d8cadx"),M(le,e(w))}),f(y,z)}),a(b),a(x),j(()=>M(D,e(G))),O("click",N,function(...y){var w;(w=U())==null||w.apply(this,y)}),Qe(g,()=>e(h),y=>o(h,y)),O("input",g,E),f(I,x),we()}var at=k("<button> </button>"),ot=k('<div class="top-nav svelte-184r4sk"><button>Skateboard</button> <button>Rollerskate</button></div> <div class="category-nav svelte-184r4sk"></div>',1),lt=k('<div class="slider svelte-184r4sk"><!></div>'),nt=k('<img class="product-image svelte-184r4sk">'),it=Ie('<svg viewBox="0 0 64 64" class="placeholder svelte-184r4sk"><rect width="64" height="64" fill="var(--tertiary-color)"></rect><text x="32" y="36" text-anchor="middle" fill="var(--heading-color)" font-size="12">Image NA</text></svg>'),dt=k('<p class="name svelte-184r4sk"><strong>Durometer</strong>: <span class="product-highlight svelte-184r4sk"> </span></p>'),ct=k('<tr class="svelte-184r4sk"><td class="svelte-184r4sk"><a target="_blank" rel="noopener" class="svelte-184r4sk"> </a></td><td class="svelte-184r4sk"> </td></tr>'),vt=k('<div class="card svelte-184r4sk"><div class="product-content svelte-184r4sk"><!> <p class="name svelte-184r4sk"> </p></div> <!> <table class="price-table svelte-184r4sk"><tbody></tbody></table> <!> <div class="buttons svelte-184r4sk"><button class="build svelte-184r4sk"><img alt="Add to Build" class="svelte-184r4sk"> <span class="svelte-184r4sk">Add to build</span></button> <button class="view svelte-184r4sk"><img alt="View Product" class="svelte-184r4sk"> <span class="svelte-184r4sk">View</span></button> <!></div> <!></div>'),ut=k("<p>Loading…</p>"),pt=k('<div class="product-type-nav svelte-184r4sk"><!> <!></div> <div class="grid svelte-184r4sk"></div> <div class="sentinel"><!></div>',1);function Vt(I,C){xe(C,!1);const v=u(),_=u(),G=u();let h=me(C,"data",8);const oe=50;let U=u(!1),m=u("skateboard"),p=u(""),E=1,x=u([]),N=!0,S=u(!1),D=u(),g,b=u(null);function y(t){o(m,t),w("bearings"),o(b,null),o(x,[]),E=1}async function w(t){o(p,t),o(b,null),o(x,[]),E=1,N=!0,o(U,t==="wheels"),await De(),K(),z()}function K(){g&&g.disconnect(),g=new IntersectionObserver(([t])=>{t.isIntersecting&&z()},{rootMargin:"200px"}),e(D)&&g.observe(e(D))}async function z(){if(!e(p)||e(S)||!N)return;o(S,!0);const r=`/data/${e(m)==="skateboard"?"skateboard-products":"rollerskate-products"}/${e(p)}-page-${E}.json`;try{const s=await fetch(r);if(s.ok){const i=await s.json();o(x,[...e(x),...i]),E+=1,i.length<oe&&(N=!1,g.disconnect())}else N=!1,g.disconnect()}catch(s){console.error("Error loading products:",s),N=!1,g.disconnect()}o(S,!1)}We(()=>{K()});function le(t){const s={decks:"deck_slug",griptapes:"griptape_slug",risers:"risers_slug",boots:"boot_slug",toestops:"toestops_slug",slideblocks:"slideblock_slug",plates:"plates_slug",trucks:"trucks_slug",bearings:"bearings_slug",wheels:"wheels_slug",bushings:"bushings_slug"}[e(p)];Fe.update(i=>({...i,[s]:t.slug})),Je.send({message:`${t.productName} added to build`,link:"/builds/new",linkText:"see more"})}function Ce(t){Ze(`/product/${e(p)}/${t}`)}function Ne(t){const r=Object.keys(t).find(s=>s!=="url"&&s!=="productVendorUrl");return{vendor:r,price:t[r],url:t.url,productVendorUrl:t.productVendorUrl}}function ne(t){var s;const r=(s=t.productTags)==null?void 0:s.find(i=>i.field==="durometer");return r?parseInt(r.value.replace(/\D/g,""),10):NaN}function Se({bucket:t}){o(b,t)}function Te(){o(U,!1)}B(()=>(e(m),Ee(h())),()=>{o(v,e(m)==="skateboard"?h().skateCats:h().rollerCats)}),B(()=>(e(v),e(p)),()=>{e(v).length>0&&!e(p)&&o(p,e(v)[0])}),B(()=>e(x),()=>{o(_,e(x).map(t=>{var r;return{...t,vendorPrices:((r=t.productPrices)==null?void 0:r.map(Ne))??[],productTags:t.productTags??[]}}))}),B(()=>(e(p),e(_),e(b)),()=>{o(G,e(p)==="wheels"?e(_).filter(t=>{if(!e(b))return!0;const r=ne(t);return isNaN(r)?!1:e(b)==="Soft"?r>=78&&r<=84:e(b)==="Hybrid"?r>=85&&r<=91:e(b)==="Hard"?r>=92:!0}).sort((t,r)=>{const s=ne(t),i=ne(r);return isNaN(s)?1:isNaN(i)?-1:s-i}):e(_))}),ye(),Ae();var be=pt(),ie=fe(be),ke=l(ie);{var je=t=>{var r=ot(),s=fe(r),i=l(s);let L;var Q=n(i,2);let X;a(s);var R=n(s,2);se(R,5,()=>e(v),_e,(W,T)=>{var H=at();let q;var Y=l(H,!0);a(H),j(ee=>{q=ae(H,1,"svelte-184r4sk",null,q,ee),M(Y,e(T))},[()=>({selected:e(T)===e(p)})],ge),O("click",H,()=>w(e(T))),f(W,H)}),a(R),j((W,T)=>{L=ae(i,1,"svelte-184r4sk",null,L,W),X=ae(Q,1,"svelte-184r4sk",null,X,T)},[()=>({selected:e(m)==="skateboard"}),()=>({selected:e(m)==="rollerskate"})],ge),O("click",i,()=>y("skateboard")),O("click",Q,()=>y("rollerskate")),f(t,r)};A(ke,t=>{e(U)||t(je)})}var ze=n(ke,2);{var He=t=>{var r=lt(),s=l(r);st(s,{onSliderChange:Se,onClose:Te}),a(r),f(t,r)};A(ze,t=>{e(U)&&t(He)})}a(ie);var de=n(ie,2);se(de,5,()=>e(G),t=>t.slug,(t,r)=>{var s=vt(),i=l(s),L=l(i);{var Q=d=>{var c=nt();j(()=>{$(c,"src",e(r).cloudinaryUrl),$(c,"alt",e(r).productName),$(c,"width",e(r).imageWidth),$(c,"height",e(r).imageHeight)}),f(d,c)},X=d=>{var c=it();f(d,c)};A(L,d=>{e(r).cloudinaryUrl?d(Q):d(X,!1)})}var R=n(L,2),W=l(R,!0);a(R),a(i);var T=n(i,2);{var H=d=>{var c=Ue(),Z=fe(c);{var F=P=>{var V=dt(),J=n(l(V),2),ue=l(J,!0);a(J),a(V),j(pe=>M(ue,pe),[()=>e(r).productTags.find(pe=>pe.field==="durometer").value],ge),f(P,V)};A(Z,P=>{e(r).productTags.find(V=>V.field==="durometer")&&P(F)})}f(d,c)};A(T,d=>{e(r).productTags&&d(H)})}var q=n(T,2),Y=l(q);se(Y,5,()=>e(r).vendorPrices,_e,(d,c)=>{var Z=ct(),F=l(Z),P=l(F),V=l(P,!0);a(P),a(F);var J=n(F),ue=l(J,!0);a(J),a(Z),j(()=>{$(P,"href",e(c).productVendorUrl||e(c).url),M(V,e(c).vendor),M(ue,e(c).price)}),f(d,Z)}),a(Y),a(q);var ee=n(q,2);A(ee,d=>{});var ve=n(ee,2),te=l(ve),$e=l(te);$($e,"src",Ke),he(2),a(te);var re=n(te,2),Me=l(re);$(Me,"src",et),he(2),a(re);var Oe=n(re,2);A(Oe,d=>{}),a(ve);var Be=n(ve,2);A(Be,d=>{}),a(s),j(()=>M(W,e(r).productName)),O("click",te,()=>le(e(r))),O("click",re,()=>Ce(e(r).slug)),Ge(1,s,()=>Le,()=>({duration:200})),f(t,s)}),a(de);var ce=n(de,2),Pe=l(ce);{var Ve=t=>{var r=ut();f(t,r)};A(Pe,t=>{e(S)&&t(Ve)})}a(ce),Re(ce,t=>o(D,t),()=>e(D)),f(I,be),we()}export{Vt as component,Pt as universal};
