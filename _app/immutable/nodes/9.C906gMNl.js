import{t as y,b as _}from"../chunks/CVnLNjhL.js";import"../chunks/CfhoQdff.js";import{al as O,g as t,ao as S,ar as s,ap as l,v as o,A as v,aq as p,at as q,an as A}from"../chunks/CXW7l8t1.js";import{e as D,s as P}from"../chunks/BbduWHOr.js";import{i as T}from"../chunks/YmDFlcga.js";import{r as g}from"../chunks/BodZMhYJ.js";import{b as h}from"../chunks/CbT2Wo9K.js";import{p as C}from"../chunks/CWmzcjye.js";import{i as L}from"../chunks/DlbwnUFY.js";import{a as N}from"../chunks/DX8mMHyw.js";import{g as $}from"../chunks/C5si03j7.js";const E=!0,X=Object.freeze(Object.defineProperty({__proto__:null,prerender:E},Symbol.toStringTag,{value:"Module"}));var I=y('<div class="error"> </div>'),J=y('<form class="container svelte-1m6ejzr"><h1>Login</h1> <div class="field svelte-1m6ejzr"><label for="username">Username</label> <input id="username" type="text" placeholder="enter your username" required class="svelte-1m6ejzr"></div> <div class="field svelte-1m6ejzr"><label for="password">Password</label> <input id="password" type="password" placeholder="enter your password" required class="svelte-1m6ejzr"></div> <!> <button type="submit" class="svelte-1m6ejzr"><span>Login</span></button></form>');function Y(j,w){O(w,!1);let m=v(""),d=v(""),a=v("");async function z(e){e.preventDefault(),o(a,"");try{const r=await fetch("https://3ee.dev/account/login/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro"},mode:"cors",body:JSON.stringify({username:t(m),password:t(d)})}),n=await r.json();r.ok&&n.token?(N.set(n),$("/")):o(a,"Invalid credentials")}catch(r){console.error(r),o(a,"Network error")}}L();var i=J(),c=s(l(i),2),f=s(l(c),2);g(f),p(c);var u=s(c,2),b=s(l(u),2);g(b),p(u);var k=s(u,2);{var x=e=>{var r=I(),n=l(r,!0);p(r),A(()=>P(n,t(a))),_(e,r)};T(k,e=>{t(a)&&e(x)})}q(2),p(i),h(f,()=>t(m),e=>o(m,e)),h(b,()=>t(d),e=>o(d,e)),D("submit",i,C(z)),_(j,i),S()}export{Y as component,X as universal};
