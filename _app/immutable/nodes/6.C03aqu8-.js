import{f as Je}from"../chunks/19TPhq2Y.js";import{t as m,a as y}from"../chunks/BuopEgDJ.js";import"../chunks/cRWhXdaq.js";import{ak as Ie,o as w,ar as d,an as r,c as e,al as Le,am as a,b as Me,j as k,ao as s,av as P,ap as oa,aq as $,aw as Ue}from"../chunks/Bxgm8LiM.js";import{i as Ve}from"../chunks/BN_JieM2.js";import{p as ee,s as ra}from"../chunks/DyCV8Kcy.js";import{o as We}from"../chunks/CyeEGLer.js";import{g as Ee}from"../chunks/CugCgBCK.js";import{e as Z,s as A}from"../chunks/C4-josYg.js";import{i as je}from"../chunks/CmJgwWHB.js";import{e as B,i as j}from"../chunks/ByVNspVl.js";import{r as ve,a as va}from"../chunks/C_W0prB7.js";import{b as Ge,a as ia}from"../chunks/CitbKg_k.js";import{b as T}from"../chunks/Em3vczsi.js";import{s as Ae}from"../chunks/Cfl95tAy.js";import{a as na}from"../chunks/DvQrTR9s.js";import{g as ua}from"../chunks/B7RfzvUx.js";const _a=!1,da=async({fetch:G})=>{const R=await Je(G,"skateboard-products/index.json"),I=await Je(G,"rollerskate-products/index.json");return{skateboardProducts:R,rollerskateProducts:I}},Xa=Object.freeze(Object.defineProperty({__proto__:null,load:da,prerender:_a},Symbol.toStringTag,{value:"Module"}));var pa=m('<label class="svelte-1yvkqsa"><input type="radio" required class="svelte-1yvkqsa"> </label>'),ca=m("<option>Street</option> <option>Vert</option> <option>Freestyle</option> <option>Park</option> <option>Downhill</option> <option>Cruisin</option>",1),ba=m("<option>Artistic skating</option> <option>Roller dance</option> <option>Speed skating</option> <option>Roller derby</option> <option>Park skating</option> <option>Roller hockey</option>",1),ka=m("<option> </option>"),ga=m("<option> </option>"),fa=m("<option> </option>"),ya=m("<option> </option>"),ma=m('<div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Deck</label> <select required class="svelte-1yvkqsa"><option disabled>Select deck</option><!></select></div> <div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Griptape</label> <select class="svelte-1yvkqsa"><option disabled>Select griptape</option><!></select></div> <div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Rails</label> <select class="svelte-1yvkqsa"><option disabled>Select rail</option><!></select></div> <div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Risers</label> <select class="svelte-1yvkqsa"><option disabled>Select risers</option><!></select></div>',1),qa=m("<option> </option>"),ha=m("<option> </option>"),Sa=m("<option> </option>"),xa=m("<option> </option>"),wa=m('<div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Boot</label> <select required class="svelte-1yvkqsa"><option disabled>Select boot</option><!></select></div> <div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Toestops</label> <select class="svelte-1yvkqsa"><option disabled>Select toestops</option><!></select></div> <div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Slideblocks</label> <select class="svelte-1yvkqsa"><option disabled>Select slideblocks</option><!></select></div> <div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Plates</label> <select required class="svelte-1yvkqsa"><option disabled>Select plates</option><!></select></div>',1),Na=m("<option> </option>"),Pa=m("<option> </option>"),Ba=m("<option> </option>"),ja=m("<option> </option>"),Aa=m('<div class="attribute-row svelte-1yvkqsa"><input type="text" placeholder="Name" required class="svelte-1yvkqsa"> <input class="attribute-slider svelte-1yvkqsa" type="range" min="0" max="1" step="0.01"> <button class="removeBtn svelte-1yvkqsa" type="button">âœ•</button></div>'),Ta=m('<form class="container svelte-1yvkqsa"><div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Build Name</label> <input required class="svelte-1yvkqsa"></div> <div class="field-group svelte-1yvkqsa"></div> <div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Style</label> <select required class="svelte-1yvkqsa"><option disabled>Select style</option><!></select></div> <!> <!> <div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Trucks</label> <select required class="svelte-1yvkqsa"><option disabled>Select trucks</option><!></select></div> <div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Bearings</label> <select required class="svelte-1yvkqsa"><option disabled>Select bearings</option><!></select></div> <div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Wheels</label> <select required class="svelte-1yvkqsa"><option disabled>Select wheels</option><!></select></div> <div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Bushings</label> <select required class="svelte-1yvkqsa"><option disabled>Select bushings</option><!></select></div> <div class="field svelte-1yvkqsa"><label class="svelte-1yvkqsa">Stats (max 5)</label> <!> <button type="button" class="add-attr-btn svelte-1yvkqsa"><span class="svelte-1yvkqsa">+ Add Stat</span></button></div> <button type="submit" class="svelte-1yvkqsa"><span>Save Build</span></button></form>');function Oa(G,R){Ie(R,!1);const I=[];let q=ee(R,"skateboardProducts",8),h=ee(R,"rollerskateProducts",8),g=ee(R,"prefill",8),ae=ee(R,"submit",8),L=w(g().name||"");g().slug;let ie=g().skater_type,C=w(g().skating_type),V=w(g().deck_slug),W=w(g().griptape_slug),D=w(g().rails_slug),z=w(g().risers_slug),Y=w(g().boot_slug),H=w(g().toestops_slug),K=w(g().slideblock_slug),Q=w(g().plates_slug),te=w(g().trucks_slug),le=w(g().bearings_slug),se=w(g().wheels_slug),oe=w(g().bushings_slug),p=w(g().build_type||"");const Ye=["skateboard","rollerskate"];let x=w(g().attributes??[]);We(()=>{const o=e(Y)||e(H)||e(K)||e(Q);k(p,o?"rollerskate":"skateboard")});async function He(o){o.preventDefault();const v={name:e(L),build_type:e(p),skater_type:ie,skating_type:e(C),deck_slug:e(p)==="skateboard"?e(V):void 0,griptape_slug:e(p)==="skateboard"?e(W):void 0,rails_slug:e(p)==="skateboard"?e(D):void 0,risers_slug:e(p)==="skateboard"?e(z):void 0,boot_slug:e(p)==="rollerskate"?e(Y):void 0,toestops_slug:e(p)==="rollerskate"?e(H):void 0,slideblock_slug:e(p)==="rollerskate"?e(K):void 0,plates_slug:e(p)==="rollerskate"?e(Q):void 0,trucks_slug:e(te),bearings_slug:e(le),wheels_slug:e(se),bushings_slug:e(oe),...e(x).length?{attributes:e(x)}:{}},t=await ae()({detail:v});t!=null&&t.slug&&t.slug}const Te=()=>e(x).length<5;function Ke(){Te()&&k(x,[...e(x),{name:"",value:.5}])}Ve();var re=Ta(),ne=r(re),Oe=a(r(ne),2);ve(Oe),s(ne);var ue=a(ne,2);B(ue,5,()=>Ye,j,(o,v)=>{var t=pa(),i=r(t);ve(i);var n,S=a(i);s(t),d(b=>{n!==(n=e(v))&&(i.value=(i.__value=e(v))??""),A(S,` ${b??""}`)},[()=>e(v).charAt(0).toUpperCase()+e(v).slice(1)],Me),ia(I,[],i,()=>(e(v),e(p)),b=>k(p,b)),y(o,t)}),s(ue);var _e=a(ue,2),de=a(r(_e),2);d(()=>{e(C),P(()=>{e(p)})});var pe=r(de);pe.value=pe.__value="";var Qe=a(pe);{var Xe=o=>{var v=ca(),t=$(v);t.value=t.__value="street";var i=a(t,2);i.value=i.__value="vert";var n=a(i,2);n.value=n.__value="freestyle";var S=a(n,2);S.value=S.__value="park";var b=a(S,2);b.value=b.__value="downhill";var f=a(b,2);f.value=f.__value="cruisin",y(o,v)},Ze=o=>{var v=ba(),t=$(v);t.value=t.__value="artistic skating";var i=a(t,2);i.value=i.__value="roller dance";var n=a(i,2);n.value=n.__value="speed skating";var S=a(n,2);S.value=S.__value="roller derby";var b=a(S,2);b.value=b.__value="park skating";var f=a(b,2);f.value=f.__value="roller hockey",y(o,v)};je(Qe,o=>{e(p)==="skateboard"?o(Xe):o(Ze,!1)})}s(de),s(_e);var Re=a(_e,2);{var $e=o=>{var v=ma(),t=$(v),i=a(r(t),2);d(()=>{e(V),P(()=>{q()})});var n=r(i);n.value=n.__value="";var S=a(n);B(S,1,()=>q().decks,j,(u,_)=>{var l=ka(),c={},N=r(l,!0);s(l),d(()=>{c!==(c=e(_).slug)&&(l.value=(l.__value=e(_).slug)??""),A(N,e(_).productName)}),y(u,l)}),s(i),s(t);var b=a(t,2),f=a(r(b),2);d(()=>{e(W),P(()=>{q()})});var O=r(f);O.value=O.__value="";var Ne=a(O);B(Ne,1,()=>q().griptape,j,(u,_)=>{var l=ga(),c={},N=r(l,!0);s(l),d(()=>{c!==(c=e(_).slug)&&(l.value=(l.__value=e(_).slug)??""),A(N,e(_).productName)}),y(u,l)}),s(f),s(b);var F=a(b,2),J=a(r(F),2);d(()=>{e(D),P(()=>{q()})});var M=r(J);M.value=M.__value="";var Pe=a(M);B(Pe,1,()=>q().rails,j,(u,_)=>{var l=fa(),c={},N=r(l,!0);s(l),d(()=>{c!==(c=e(_).slug)&&(l.value=(l.__value=e(_).slug)??""),A(N,e(_).productName)}),y(u,l)}),s(J),s(F);var X=a(F,2),U=a(r(X),2);d(()=>{e(z),P(()=>{q()})});var E=r(U);E.value=E.__value="";var Be=a(E);B(Be,1,()=>q().risers,j,(u,_)=>{var l=ya(),c={},N=r(l,!0);s(l),d(()=>{c!==(c=e(_).slug)&&(l.value=(l.__value=e(_).slug)??""),A(N,e(_).productName)}),y(u,l)}),s(U),s(X),T(i,()=>e(V),u=>k(V,u)),T(f,()=>e(W),u=>k(W,u)),T(J,()=>e(D),u=>k(D,u)),T(U,()=>e(z),u=>k(z,u)),y(o,v)};je(Re,o=>{e(p)==="skateboard"&&o($e)})}var Ce=a(Re,2);{var ea=o=>{var v=wa(),t=$(v),i=a(r(t),2);d(()=>{e(Y),P(()=>{h()})});var n=r(i);n.value=n.__value="";var S=a(n);B(S,1,()=>h().boots,j,(u,_)=>{var l=qa(),c={},N=r(l,!0);s(l),d(()=>{c!==(c=e(_).slug)&&(l.value=(l.__value=e(_).slug)??""),A(N,e(_).productName)}),y(u,l)}),s(i),s(t);var b=a(t,2),f=a(r(b),2);d(()=>{e(H),P(()=>{h()})});var O=r(f);O.value=O.__value="";var Ne=a(O);B(Ne,1,()=>h().toestops,j,(u,_)=>{var l=ha(),c={},N=r(l,!0);s(l),d(()=>{c!==(c=e(_).slug)&&(l.value=(l.__value=e(_).slug)??""),A(N,e(_).productName)}),y(u,l)}),s(f),s(b);var F=a(b,2),J=a(r(F),2);d(()=>{e(K),P(()=>{h()})});var M=r(J);M.value=M.__value="";var Pe=a(M);B(Pe,1,()=>h().slideblocks,j,(u,_)=>{var l=Sa(),c={},N=r(l,!0);s(l),d(()=>{c!==(c=e(_).slug)&&(l.value=(l.__value=e(_).slug)??""),A(N,e(_).productName)}),y(u,l)}),s(J),s(F);var X=a(F,2),U=a(r(X),2);d(()=>{e(Q),P(()=>{h()})});var E=r(U);E.value=E.__value="";var Be=a(E);B(Be,1,()=>h().plates,j,(u,_)=>{var l=xa(),c={},N=r(l,!0);s(l),d(()=>{c!==(c=e(_).slug)&&(l.value=(l.__value=e(_).slug)??""),A(N,e(_).productName)}),y(u,l)}),s(U),s(X),T(i,()=>e(Y),u=>k(Y,u)),T(f,()=>e(H),u=>k(H,u)),T(J,()=>e(K),u=>k(K,u)),T(U,()=>e(Q),u=>k(Q,u)),y(o,v)};je(Ce,o=>{e(p)==="rollerskate"&&o(ea)})}var ce=a(Ce,2),be=a(r(ce),2);d(()=>{e(te),P(()=>{e(p),q(),h()})});var ke=r(be);ke.value=ke.__value="";var aa=a(ke);B(aa,1,()=>e(p)==="skateboard"?q().trucks:h().trucks,j,(o,v)=>{var t=Na(),i={},n=r(t,!0);s(t),d(()=>{i!==(i=e(v).slug)&&(t.value=(t.__value=e(v).slug)??""),A(n,e(v).productName)}),y(o,t)}),s(be),s(ce);var ge=a(ce,2),fe=a(r(ge),2);d(()=>{e(le),P(()=>{e(p),q(),h()})});var ye=r(fe);ye.value=ye.__value="";var ta=a(ye);B(ta,1,()=>e(p)==="skateboard"?q().bearings:h().bearings,j,(o,v)=>{var t=Pa(),i={},n=r(t,!0);s(t),d(()=>{i!==(i=e(v).slug)&&(t.value=(t.__value=e(v).slug)??""),A(n,e(v).productName)}),y(o,t)}),s(fe),s(ge);var me=a(ge,2),qe=a(r(me),2);d(()=>{e(se),P(()=>{e(p),q(),h()})});var he=r(qe);he.value=he.__value="";var la=a(he);B(la,1,()=>e(p)==="skateboard"?q().wheels:h().wheels,j,(o,v)=>{var t=Ba(),i={},n=r(t,!0);s(t),d(()=>{i!==(i=e(v).slug)&&(t.value=(t.__value=e(v).slug)??""),A(n,e(v).productName)}),y(o,t)}),s(qe),s(me);var Se=a(me,2),xe=a(r(Se),2);d(()=>{e(oe),P(()=>{e(p),q(),h()})});var we=r(xe);we.value=we.__value="";var sa=a(we);B(sa,1,()=>e(p)==="skateboard"?q().bushings:h().bushings,j,(o,v)=>{var t=ja(),i={},n=r(t,!0);s(t),d(()=>{i!==(i=e(v).slug)&&(t.value=(t.__value=e(v).slug)??""),A(n,e(v).productName)}),y(o,t)}),s(xe),s(Se);var De=a(Se,2),ze=a(r(De),2);B(ze,1,()=>e(x),j,(o,v,t)=>{var i=Aa(),n=r(i);ve(n);var S=a(n,2);ve(S);var b=a(S,2);s(i),d(()=>va(S,e(v).value)),Ge(n,()=>e(v).name,f=>(e(v).name=f,P(()=>e(x)))),Z("input",n,f=>{Ue(x,e(x)[t].name=f.currentTarget.value),k(x,[...e(x)])}),Z("input",S,f=>{const O=+f.currentTarget.value;Ue(x,e(x)[t].value=O),k(x,[...e(x)])}),Z("click",b,()=>{k(x,e(x).filter((f,O)=>O!==t))}),y(o,i)});var Fe=a(ze,2);s(De),oa(2),s(re),d(o=>Fe.disabled=o,[()=>!Te()],Me),Ge(Oe,()=>e(L),o=>k(L,o)),T(de,()=>e(C),o=>k(C,o)),T(be,()=>e(te),o=>k(te,o)),T(fe,()=>e(le),o=>k(le,o)),T(qe,()=>e(se),o=>k(se,o)),T(xe,()=>e(oe),o=>k(oe,o)),Z("click",Fe,Ke),Z("submit",re,He),y(G,re),Le()}var Ra=m('<h1>Create a New Build</h1> <div class="container"><!></div>',1);function Za(G,R){Ie(R,!1);let I=w({}),q=ee(R,"data",8);const h=Ee(Ae);We(()=>{Ae.subscribe(C=>{k(I,C||{})})});async function g(C){const V=C.detail,{token:W}=Ee(na),D=await fetch("https://3ee.dev/skatebuild/api/builds/save/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro",Authorization:"Token "+W},mode:"cors",body:JSON.stringify(V)});if(D.ok){const z=await D.json();Ae.set(z),await ua(`/builds/${z.owner_username}/${z.slug}`)}else console.error("Save failed",await D.json())}Ve();var ae=Ra(),L=a($(ae),2),ie=r(L);Oa(ie,ra(()=>e(I),{get skateboardProducts(){return q().skateboardProducts},get rollerskateProducts(){return q().rollerskateProducts},prefill:h,submit:g})),s(L),y(G,ae),Le()}export{Za as component,Xa as universal};
