import{t as x,a as g}from"../chunks/Doa8wjnW.js";import"../chunks/1NVSwa0V.js";import{am as D,c as o,an as O,ao as a,ap as n,j as r,o as u,aq as p,al as S,as as A}from"../chunks/ej_Vdcdl.js";import{e as C,s as L}from"../chunks/Cz9yb1SE.js";import{i as N}from"../chunks/CILL4GR2.js";import{r as y}from"../chunks/BqNEn0Gf.js";import{b}from"../chunks/CTMlGoQ_.js";import{p as P}from"../chunks/CWmzcjye.js";import{i as T}from"../chunks/CyOr1GcM.js";import{a as E}from"../chunks/CgfUSf79.js";import{g as I}from"../chunks/B7b2kqBE.js";var J=x('<div class="error"> </div>'),U=x('<form class="container svelte-xy7gho"><h1>Login</h1> <div class="field svelte-xy7gho"><label for="username" class="svelte-xy7gho">Username</label> <input id="username" type="text" placeholder="enter your username" required class="svelte-xy7gho"></div> <div class="field svelte-xy7gho"><label for="password" class="svelte-xy7gho">Password</label> <input id="password" type="password" placeholder="enter your password" required class="svelte-xy7gho"></div> <!> <button type="submit" class="svelte-xy7gho">Login</button></form>');function W(_,w){D(w,!1);let m=u(""),d=u(""),t=u("");async function k(e){e.preventDefault(),r(t,"");try{const s=await fetch("https://3ee.dev/account/login/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro"},mode:"cors",body:JSON.stringify({username:o(m),password:o(d)})}),l=await s.json();s.ok&&l.token?(E.set(l),I("/")):r(t,"Invalid credentials")}catch(s){console.error(s),r(t,"Network error")}}T();var i=U(),c=a(n(i),2),f=a(n(c),2);y(f),p(c);var v=a(c,2),h=a(n(v),2);y(h),p(v);var j=a(v,2);{var q=e=>{var s=J(),l=n(s,!0);p(s),A(()=>L(l,o(t))),g(e,s)};N(j,e=>{o(t)&&e(q)})}S(2),p(i),b(f,()=>o(m),e=>r(m,e)),b(h,()=>o(d),e=>r(d,e)),C("submit",i,P(k)),g(_,i),O()}export{W as component};
