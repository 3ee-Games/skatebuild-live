import{t as k,a as x}from"../chunks/BQoy3Ge-.js";import"../chunks/B7M6h1YL.js";import{ak as K,c as s,al as L,am as o,j as t,o as p,an as i,ao as l,ap as Q,aq as R,ar as Y}from"../chunks/DMDxMJuI.js";import{e as U,r as V,s as O}from"../chunks/Cu89BeFu.js";import{i as w}from"../chunks/Don0ab7i.js";import{r as S}from"../chunks/BKRRD-CL.js";import{b as _}from"../chunks/B_mvQ6aQ.js";import{p as W}from"../chunks/CWmzcjye.js";import{i as X}from"../chunks/BPuRey6b.js";import{s as Z,a as ee}from"../chunks/Ctl3FEfK.js";import{a as T}from"../chunks/C7CmiQTy.js";import{g as ae}from"../chunks/CVqalLBP.js";var te=k('<div class="field svelte-pxf6k4"><label for="email" class="svelte-pxf6k4">Your Email</label> <input id="email" type="email" placeholder="you@example.com" required class="svelte-pxf6k4"></div> <div class="field svelte-pxf6k4"><label for="name" class="svelte-pxf6k4">Your Name</label> <input id="name" type="text" placeholder="Your Name" required class="svelte-pxf6k4"></div>',1),se=k('<div class="error"> </div>'),re=k('<div class="success"> </div>'),oe=k('<div class="container svelte-pxf6k4"><h1>Contact</h1> <form><!> <div class="field svelte-pxf6k4"><label for="subject" class="svelte-pxf6k4">Subject</label> <input id="subject" type="text" placeholder="Subject" required class="svelte-pxf6k4"></div> <div class="field svelte-pxf6k4"><label for="body" class="svelte-pxf6k4">Message</label> <textarea id="body" rows="6" placeholder="How can we assist you?" required class="svelte-pxf6k4"></textarea></div> <!> <!> <button type="submit" class="svelte-pxf6k4"><span class="svelte-pxf6k4">Submit</span></button></form></div>');function _e(z,E){K(E,!1);const[H,J]=Z(),M=()=>ee(T,"$accountData",H);let c=p(""),d=p(""),f=p(""),m=p(""),n=p(""),u=p("");async function P(a){a.preventDefault(),t(n,""),t(u,"");const e=ae(T),r={subject:s(f),body:s(m)};e!=null&&e.token||(r.email=s(c),r.name=s(d));try{const v=await fetch("https://3ee.dev/account/contact/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro",...(e==null?void 0:e.token)&&{Authorization:`Token ${e.token}`}},mode:"cors",body:JSON.stringify(r)}),b=await v.json().catch(()=>({}));v.ok?(t(u,"Your message has been sent!"),t(f,""),t(m,""),e!=null&&e.token||(t(c,""),t(d,""))):t(n,b.detail||"Submission failed")}catch{t(n,"Network error")}}X();var h=oe(),y=o(i(h),2),q=i(y);{var B=a=>{var e=te(),r=R(e),v=o(i(r),2);S(v),l(r);var b=o(r,2),N=o(i(b),2);S(N),l(b),_(v,()=>s(c),$=>t(c,$)),_(N,()=>s(d),$=>t(d,$)),x(a,e)};w(q,a=>{var e;(e=M())!=null&&e.token||a(B)})}var g=o(q,2),D=o(i(g),2);S(D),l(g);var j=o(g,2),A=o(i(j),2);V(A),l(j);var C=o(j,2);{var F=a=>{var e=se(),r=i(e,!0);l(e),Y(()=>O(r,s(n))),x(a,e)};w(C,a=>{s(n)&&a(F)})}var G=o(C,2);{var I=a=>{var e=re(),r=i(e,!0);l(e),Y(()=>O(r,s(u))),x(a,e)};w(G,a=>{s(u)&&a(I)})}Q(2),l(y),l(h),_(D,()=>s(f),a=>t(f,a)),_(A,()=>s(m),a=>t(m,a)),U("submit",y,W(P)),x(z,h),L(),J()}export{_e as component};
