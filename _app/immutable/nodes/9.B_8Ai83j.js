import{t as x,a as g}from"../chunks/Be3Xq9Cb.js";import"../chunks/CNAgdED2.js";import{ak as O,c as o,al as S,am as a,an as n,j as r,o as u,ao as p,ap as q,ar as A}from"../chunks/CT-_FJHm.js";import{e as C,s as L}from"../chunks/DlRuWNaw.js";import{i as N}from"../chunks/DtyByElT.js";import{r as y}from"../chunks/B2MjLTJg.js";import{b}from"../chunks/Cp3lZ-_r.js";import{p as P}from"../chunks/CWmzcjye.js";import{i as T}from"../chunks/BgFV_p26.js";import{a as E}from"../chunks/Ctrvvwd-.js";import{g as I}from"../chunks/QAyPO06y.js";var J=x('<div class="error"> </div>'),U=x('<form class="container svelte-xy7gho"><h1>Login</h1> <div class="field svelte-xy7gho"><label for="username" class="svelte-xy7gho">Username</label> <input id="username" type="text" placeholder="enter your username" required class="svelte-xy7gho"></div> <div class="field svelte-xy7gho"><label for="password" class="svelte-xy7gho">Password</label> <input id="password" type="password" placeholder="enter your password" required class="svelte-xy7gho"></div> <!> <button type="submit" class="svelte-xy7gho">Login</button></form>');function W(_,w){O(w,!1);let m=u(""),d=u(""),t=u("");async function k(e){e.preventDefault(),r(t,"");try{const s=await fetch("https://3ee.dev/account/login/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro"},mode:"cors",body:JSON.stringify({username:o(m),password:o(d)})}),l=await s.json();s.ok&&l.token?(E.set(l),I("/")):r(t,"Invalid credentials")}catch(s){console.error(s),r(t,"Network error")}}T();var i=U(),c=a(n(i),2),f=a(n(c),2);y(f),p(c);var v=a(c,2),h=a(n(v),2);y(h),p(v);var j=a(v,2);{var D=e=>{var s=J(),l=n(s,!0);p(s),A(()=>L(l,o(t))),g(e,s)};N(j,e=>{o(t)&&e(D)})}q(2),p(i),b(f,()=>o(m),e=>r(m,e)),b(h,()=>o(d),e=>r(d,e)),C("submit",i,P(k)),g(_,i),S()}export{W as component};
