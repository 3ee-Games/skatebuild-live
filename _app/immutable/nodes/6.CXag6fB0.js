import{f as Je}from"../chunks/19TPhq2Y.js";import{t as h,a as m}from"../chunks/BuopEgDJ.js";import"../chunks/cRWhXdaq.js";import{ak as Ie,o as N,ar as d,an as r,c as e,al as Le,am as t,b as Me,j as k,ao as s,av as q,ap as ot,aq as $,aw as Ue}from"../chunks/Bxgm8LiM.js";import{i as Ve}from"../chunks/BN_JieM2.js";import{p as ee,s as rt}from"../chunks/DyCV8Kcy.js";import{o as We}from"../chunks/CyeEGLer.js";import{g as Ee}from"../chunks/CugCgBCK.js";import{e as Z,s as j}from"../chunks/C4-josYg.js";import{i as Be}from"../chunks/CmJgwWHB.js";import{e as A,i as B}from"../chunks/ByVNspVl.js";import{r as ie,a as it}from"../chunks/C_W0prB7.js";import{b as Ge,a as vt}from"../chunks/CitbKg_k.js";import{b as T}from"../chunks/Em3vczsi.js";import{s as je}from"../chunks/Cfl95tAy.js";import{a as ut}from"../chunks/DvQrTR9s.js";import{g as nt}from"../chunks/DX7SO5Ds.js";const _t=!1,dt=async({fetch:G})=>{const O=await Je(G,"skateboard-products/index.json"),I=await Je(G,"rollerskate-products/index.json");return{skateboardProducts:O,rollerskateProducts:I}},Xt=Object.freeze(Object.defineProperty({__proto__:null,load:dt,prerender:_t},Symbol.toStringTag,{value:"Module"}));var pt=h('<label class="svelte-tlkeer"><input type="radio" required class="svelte-tlkeer"> </label>'),ct=h("<option>Street</option> <option>Vert</option> <option>Freestyle</option> <option>Park</option> <option>Downhill</option> <option>Cruisin</option>",1),bt=h("<option>Artistic skating</option> <option>Roller dance</option> <option>Speed skating</option> <option>Roller derby</option> <option>Park skating</option> <option>Roller hockey</option>",1),kt=h("<option> </option>"),gt=h("<option> </option>"),ft=h("<option> </option>"),mt=h("<option> </option>"),ht=h('<div class="field svelte-tlkeer"><label class="svelte-tlkeer">Deck</label> <select required class="svelte-tlkeer"><option disabled>Select deck</option><!></select></div> <div class="field svelte-tlkeer"><label class="svelte-tlkeer">Griptape</label> <select class="svelte-tlkeer"><option disabled>Select griptape</option><!></select></div> <div class="field svelte-tlkeer"><label class="svelte-tlkeer">Rails</label> <select class="svelte-tlkeer"><option disabled>Select rail</option><!></select></div> <div class="field svelte-tlkeer"><label class="svelte-tlkeer">Risers</label> <select class="svelte-tlkeer"><option disabled>Select risers</option><!></select></div>',1),yt=h("<option> </option>"),St=h("<option> </option>"),xt=h("<option> </option>"),wt=h("<option> </option>"),Nt=h('<div class="field svelte-tlkeer"><label class="svelte-tlkeer">Boot</label> <select required class="svelte-tlkeer"><option disabled>Select boot</option><!></select></div> <div class="field svelte-tlkeer"><label class="svelte-tlkeer">Toestops</label> <select class="svelte-tlkeer"><option disabled>Select toestops</option><!></select></div> <div class="field svelte-tlkeer"><label class="svelte-tlkeer">Slideblocks</label> <select class="svelte-tlkeer"><option disabled>Select slideblocks</option><!></select></div> <div class="field svelte-tlkeer"><label class="svelte-tlkeer">Plates</label> <select required class="svelte-tlkeer"><option disabled>Select plates</option><!></select></div>',1),Pt=h("<option> </option>"),qt=h("<option> </option>"),At=h("<option> </option>"),Bt=h("<option> </option>"),jt=h('<div class="attribute-row svelte-tlkeer"><input type="text" placeholder="Name" required class="svelte-tlkeer"> <input class="attribute-slider svelte-tlkeer" type="range" min="0" max="1" step="0.01"> <button class="removeBtn svelte-tlkeer" type="button">âœ•</button></div>'),Tt=h('<form class="container svelte-tlkeer"><div class="field svelte-tlkeer"><label class="svelte-tlkeer">Build Name</label> <input required class="svelte-tlkeer"></div> <div class="field-group svelte-tlkeer"></div> <div class="field svelte-tlkeer"><label class="svelte-tlkeer">Style</label> <select required class="svelte-tlkeer"><option disabled>Select style</option><!></select></div> <!> <!> <div class="field svelte-tlkeer"><label class="svelte-tlkeer">Trucks</label> <select required class="svelte-tlkeer"><option disabled>Select trucks</option><!></select></div> <div class="field svelte-tlkeer"><label class="svelte-tlkeer">Bearings</label> <select required class="svelte-tlkeer"><option disabled>Select bearings</option><!></select></div> <div class="field svelte-tlkeer"><label class="svelte-tlkeer">Wheels</label> <select required class="svelte-tlkeer"><option disabled>Select wheels</option><!></select></div> <div class="field svelte-tlkeer"><label class="svelte-tlkeer">Bushings</label> <select required class="svelte-tlkeer"><option disabled>Select bushings</option><!></select></div> <div class="field svelte-tlkeer"><label class="svelte-tlkeer">Custom Attributes (max 5)</label> <!> <button type="button" class="add-attr-btn svelte-tlkeer">+ Add Attribute</button></div> <button type="submit" class="svelte-tlkeer"><span>Save Build</span></button></form>');function Ct(G,O){Ie(O,!1);const I=[];let y=ee(O,"skateboardProducts",8),S=ee(O,"rollerskateProducts",8),g=ee(O,"prefill",8),te=ee(O,"submit",8),L=N(g().name||"");g().slug;let ve=g().skater_type,R=N(g().skating_type),V=N(g().deck_slug),W=N(g().griptape_slug),D=N(g().rails_slug),z=N(g().risers_slug),Y=N(g().boot_slug),H=N(g().toestops_slug),K=N(g().slideblock_slug),Q=N(g().plates_slug),le=N(g().trucks_slug),ae=N(g().bearings_slug),se=N(g().wheels_slug),oe=N(g().bushings_slug),p=N(g().build_type||"");const Ye=["skateboard","rollerskate"];let w=N(g().attributes??[]);We(()=>{const o=e(Y)||e(H)||e(K)||e(Q);k(p,o?"rollerskate":"skateboard")});async function He(o){o.preventDefault();const i={name:e(L),build_type:e(p),skater_type:ve,skating_type:e(R),deck_slug:e(p)==="skateboard"?e(V):void 0,griptape_slug:e(p)==="skateboard"?e(W):void 0,rails_slug:e(p)==="skateboard"?e(D):void 0,risers_slug:e(p)==="skateboard"?e(z):void 0,boot_slug:e(p)==="rollerskate"?e(Y):void 0,toestops_slug:e(p)==="rollerskate"?e(H):void 0,slideblock_slug:e(p)==="rollerskate"?e(K):void 0,plates_slug:e(p)==="rollerskate"?e(Q):void 0,trucks_slug:e(le),bearings_slug:e(ae),wheels_slug:e(se),bushings_slug:e(oe),...e(w).length?{attributes:e(w)}:{}},l=await te()({detail:i});l!=null&&l.slug&&l.slug}const Te=()=>e(w).length<5;function Ke(){Te()&&k(w,[...e(w),{name:"",value:.5}])}Ve();var re=Tt(),ue=r(re),Ce=t(r(ue),2);ie(Ce),s(ue);var ne=t(ue,2);A(ne,5,()=>Ye,B,(o,i)=>{var l=pt(),v=r(l);ie(v);var u,x=t(v);s(l),d(b=>{u!==(u=e(i))&&(v.value=(v.__value=e(i))??""),j(x,` ${b??""}`)},[()=>e(i).charAt(0).toUpperCase()+e(i).slice(1)],Me),vt(I,[],v,()=>(e(i),e(p)),b=>k(p,b)),m(o,l)}),s(ne);var _e=t(ne,2),de=t(r(_e),2);d(()=>{e(R),q(()=>{e(p)})});var pe=r(de);pe.value=pe.__value="";var Qe=t(pe);{var Xe=o=>{var i=ct(),l=$(i);l.value=l.__value="street";var v=t(l,2);v.value=v.__value="vert";var u=t(v,2);u.value=u.__value="freestyle";var x=t(u,2);x.value=x.__value="park";var b=t(x,2);b.value=b.__value="downhill";var f=t(b,2);f.value=f.__value="cruisin",m(o,i)},Ze=o=>{var i=bt(),l=$(i);l.value=l.__value="artistic skating";var v=t(l,2);v.value=v.__value="roller dance";var u=t(v,2);u.value=u.__value="speed skating";var x=t(u,2);x.value=x.__value="roller derby";var b=t(x,2);b.value=b.__value="park skating";var f=t(b,2);f.value=f.__value="roller hockey",m(o,i)};Be(Qe,o=>{e(p)==="skateboard"?o(Xe):o(Ze,!1)})}s(de),s(_e);var Oe=t(_e,2);{var $e=o=>{var i=ht(),l=$(i),v=t(r(l),2);d(()=>{e(V),q(()=>{y()})});var u=r(v);u.value=u.__value="";var x=t(u);A(x,1,()=>y().decks,B,(n,_)=>{var a=kt(),c={},P=r(a,!0);s(a),d(()=>{c!==(c=e(_).slug)&&(a.value=(a.__value=e(_).slug)??""),j(P,e(_).productName)}),m(n,a)}),s(v),s(l);var b=t(l,2),f=t(r(b),2);d(()=>{e(W),q(()=>{y()})});var C=r(f);C.value=C.__value="";var Pe=t(C);A(Pe,1,()=>y().griptape,B,(n,_)=>{var a=gt(),c={},P=r(a,!0);s(a),d(()=>{c!==(c=e(_).slug)&&(a.value=(a.__value=e(_).slug)??""),j(P,e(_).productName)}),m(n,a)}),s(f),s(b);var F=t(b,2),J=t(r(F),2);d(()=>{e(D),q(()=>{y()})});var M=r(J);M.value=M.__value="";var qe=t(M);A(qe,1,()=>y().rails,B,(n,_)=>{var a=ft(),c={},P=r(a,!0);s(a),d(()=>{c!==(c=e(_).slug)&&(a.value=(a.__value=e(_).slug)??""),j(P,e(_).productName)}),m(n,a)}),s(J),s(F);var X=t(F,2),U=t(r(X),2);d(()=>{e(z),q(()=>{y()})});var E=r(U);E.value=E.__value="";var Ae=t(E);A(Ae,1,()=>y().risers,B,(n,_)=>{var a=mt(),c={},P=r(a,!0);s(a),d(()=>{c!==(c=e(_).slug)&&(a.value=(a.__value=e(_).slug)??""),j(P,e(_).productName)}),m(n,a)}),s(U),s(X),T(v,()=>e(V),n=>k(V,n)),T(f,()=>e(W),n=>k(W,n)),T(J,()=>e(D),n=>k(D,n)),T(U,()=>e(z),n=>k(z,n)),m(o,i)};Be(Oe,o=>{e(p)==="skateboard"&&o($e)})}var Re=t(Oe,2);{var et=o=>{var i=Nt(),l=$(i),v=t(r(l),2);d(()=>{e(Y),q(()=>{S()})});var u=r(v);u.value=u.__value="";var x=t(u);A(x,1,()=>S().boots,B,(n,_)=>{var a=yt(),c={},P=r(a,!0);s(a),d(()=>{c!==(c=e(_).slug)&&(a.value=(a.__value=e(_).slug)??""),j(P,e(_).productName)}),m(n,a)}),s(v),s(l);var b=t(l,2),f=t(r(b),2);d(()=>{e(H),q(()=>{S()})});var C=r(f);C.value=C.__value="";var Pe=t(C);A(Pe,1,()=>S().toestops,B,(n,_)=>{var a=St(),c={},P=r(a,!0);s(a),d(()=>{c!==(c=e(_).slug)&&(a.value=(a.__value=e(_).slug)??""),j(P,e(_).productName)}),m(n,a)}),s(f),s(b);var F=t(b,2),J=t(r(F),2);d(()=>{e(K),q(()=>{S()})});var M=r(J);M.value=M.__value="";var qe=t(M);A(qe,1,()=>S().slideblocks,B,(n,_)=>{var a=xt(),c={},P=r(a,!0);s(a),d(()=>{c!==(c=e(_).slug)&&(a.value=(a.__value=e(_).slug)??""),j(P,e(_).productName)}),m(n,a)}),s(J),s(F);var X=t(F,2),U=t(r(X),2);d(()=>{e(Q),q(()=>{S()})});var E=r(U);E.value=E.__value="";var Ae=t(E);A(Ae,1,()=>S().plates,B,(n,_)=>{var a=wt(),c={},P=r(a,!0);s(a),d(()=>{c!==(c=e(_).slug)&&(a.value=(a.__value=e(_).slug)??""),j(P,e(_).productName)}),m(n,a)}),s(U),s(X),T(v,()=>e(Y),n=>k(Y,n)),T(f,()=>e(H),n=>k(H,n)),T(J,()=>e(K),n=>k(K,n)),T(U,()=>e(Q),n=>k(Q,n)),m(o,i)};Be(Re,o=>{e(p)==="rollerskate"&&o(et)})}var ce=t(Re,2),be=t(r(ce),2);d(()=>{e(le),q(()=>{e(p),y(),S()})});var ke=r(be);ke.value=ke.__value="";var tt=t(ke);A(tt,1,()=>e(p)==="skateboard"?y().trucks:S().trucks,B,(o,i)=>{var l=Pt(),v={},u=r(l,!0);s(l),d(()=>{v!==(v=e(i).slug)&&(l.value=(l.__value=e(i).slug)??""),j(u,e(i).productName)}),m(o,l)}),s(be),s(ce);var ge=t(ce,2),fe=t(r(ge),2);d(()=>{e(ae),q(()=>{e(p),y(),S()})});var me=r(fe);me.value=me.__value="";var lt=t(me);A(lt,1,()=>e(p)==="skateboard"?y().bearings:S().bearings,B,(o,i)=>{var l=qt(),v={},u=r(l,!0);s(l),d(()=>{v!==(v=e(i).slug)&&(l.value=(l.__value=e(i).slug)??""),j(u,e(i).productName)}),m(o,l)}),s(fe),s(ge);var he=t(ge,2),ye=t(r(he),2);d(()=>{e(se),q(()=>{e(p),y(),S()})});var Se=r(ye);Se.value=Se.__value="";var at=t(Se);A(at,1,()=>e(p)==="skateboard"?y().wheels:S().wheels,B,(o,i)=>{var l=At(),v={},u=r(l,!0);s(l),d(()=>{v!==(v=e(i).slug)&&(l.value=(l.__value=e(i).slug)??""),j(u,e(i).productName)}),m(o,l)}),s(ye),s(he);var xe=t(he,2),we=t(r(xe),2);d(()=>{e(oe),q(()=>{e(p),y(),S()})});var Ne=r(we);Ne.value=Ne.__value="";var st=t(Ne);A(st,1,()=>e(p)==="skateboard"?y().bushings:S().bushings,B,(o,i)=>{var l=Bt(),v={},u=r(l,!0);s(l),d(()=>{v!==(v=e(i).slug)&&(l.value=(l.__value=e(i).slug)??""),j(u,e(i).productName)}),m(o,l)}),s(we),s(xe);var De=t(xe,2),ze=t(r(De),2);A(ze,1,()=>e(w),B,(o,i,l)=>{var v=jt(),u=r(v);ie(u);var x=t(u,2);ie(x);var b=t(x,2);s(v),d(()=>it(x,e(i).value)),Ge(u,()=>e(i).name,f=>(e(i).name=f,q(()=>e(w)))),Z("input",u,f=>{Ue(w,e(w)[l].name=f.currentTarget.value),k(w,[...e(w)])}),Z("input",x,f=>{const C=+f.currentTarget.value;Ue(w,e(w)[l].value=C),k(w,[...e(w)])}),Z("click",b,()=>{k(w,e(w).filter((f,C)=>C!==l))}),m(o,v)});var Fe=t(ze,2);s(De),ot(2),s(re),d(o=>Fe.disabled=o,[()=>!Te()],Me),Ge(Ce,()=>e(L),o=>k(L,o)),T(de,()=>e(R),o=>k(R,o)),T(be,()=>e(le),o=>k(le,o)),T(fe,()=>e(ae),o=>k(ae,o)),T(ye,()=>e(se),o=>k(se,o)),T(we,()=>e(oe),o=>k(oe,o)),Z("click",Fe,Ke),Z("submit",re,He),m(G,re),Le()}var Ot=h('<h1>Create a New Build</h1> <div class="container"><!></div>',1);function Zt(G,O){Ie(O,!1);let I=N({}),y=ee(O,"data",8);const S=Ee(je);We(()=>{je.subscribe(R=>{k(I,R||{})})});async function g(R){const V=R.detail,{token:W}=Ee(ut),D=await fetch("https://3ee.dev/skatebuild/api/builds/save/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro",Authorization:"Token "+W},mode:"cors",body:JSON.stringify(V)});if(D.ok){const z=await D.json();je.set(z),await nt(`/builds/${z.owner_username}/${z.slug}`)}else console.error("Save failed",await D.json())}Ve();var te=Ot(),L=t($(te),2),ve=r(L);Ct(ve,rt(()=>e(I),{get skateboardProducts(){return y().skateboardProducts},get rollerskateProducts(){return y().rollerskateProducts},prefill:S,submit:g})),s(L),m(G,te),Le()}export{Zt as component,Xt as universal};
