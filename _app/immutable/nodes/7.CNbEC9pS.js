import{t as d,h as K,b as c,r as L}from"../chunks/BUAuLFLc.js";import"../chunks/XJ5-qBKr.js";import{ak as Q,g as s,al as R,am as U,an as r,ao as i,v as a,A as n,ap as l,aq as V,ar as W,as as Y}from"../chunks/CRA1AjMR.js";import{e as X,s as O}from"../chunks/BWrOgh3Y.js";import{i as S}from"../chunks/CeoI4Q0A.js";import{r as $}from"../chunks/DPVsPxvn.js";import{b as x}from"../chunks/BInKRHZi.js";import{p as Z}from"../chunks/CWmzcjye.js";import{i as ee}from"../chunks/DkPzLzCP.js";import{s as te,a as ae}from"../chunks/CY_gtL7_.js";import{a as T}from"../chunks/CMXmblEd.js";import{g as se}from"../chunks/CdEtlUWt.js";var oe=d('<meta name="description" content="Contact SkateBuild with questions and suggestions.">'),re=d('<div class="field svelte-pxf6k4"><label for="email" class="svelte-pxf6k4">Your Email</label> <input id="email" type="email" placeholder="you@example.com" required class="svelte-pxf6k4"></div> <div class="field svelte-pxf6k4"><label for="name" class="svelte-pxf6k4">Your Name</label> <input id="name" type="text" placeholder="Your Name" required class="svelte-pxf6k4"></div>',1),ie=d('<div class="error"> </div>'),le=d('<div class="success"> </div>'),ne=d('<div class="container svelte-pxf6k4"><h1>Contact</h1> <p>Contact me if you have questions, suggestions, add your own skate shop, or use Skatebuild on your own website.</p> <form><!> <div class="field svelte-pxf6k4"><label for="subject" class="svelte-pxf6k4">Subject</label> <input id="subject" type="text" placeholder="Subject" required class="svelte-pxf6k4"></div> <div class="field svelte-pxf6k4"><label for="body" class="svelte-pxf6k4">Message</label> <textarea id="body" rows="6" placeholder="How can we assist you?" required class="svelte-pxf6k4"></textarea></div> <!> <!> <button type="submit" class="svelte-pxf6k4"><span class="svelte-pxf6k4">Submit</span></button></form></div>');function ye(B,z){Q(z,!1);const[E,H]=te(),J=()=>ae(T,"$accountData",E);let m=n(""),f=n(""),u=n(""),b=n(""),p=n(""),k=n("");async function M(t){t.preventDefault(),a(p,""),a(k,"");const e=se(T),o={subject:s(u),body:s(b)};e!=null&&e.token||(o.email=s(m),o.name=s(f));try{const v=await fetch("https://3ee.dev/account/contact/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro",...(e==null?void 0:e.token)&&{Authorization:`Token ${e.token}`}},mode:"cors",body:JSON.stringify(o)}),_=await v.json().catch(()=>({}));v.ok?(a(k,"Your message has been sent!"),a(u,""),a(b,""),e!=null&&e.token||(a(m,""),a(f,""))):a(p,_.detail||"Submission failed")}catch{a(p,"Network error")}}ee();var h=ne();K(t=>{var e=oe();U.title="Contact SkateBuild",c(t,e)});var y=r(i(h),4),q=i(y);{var P=t=>{var e=re(),o=W(e),v=r(i(o),2);$(v),l(o);var _=r(o,2),N=r(i(_),2);$(N),l(_),x(v,()=>s(m),j=>a(m,j)),x(N,()=>s(f),j=>a(f,j)),c(t,e)};S(q,t=>{var e;(e=J())!=null&&e.token||t(P)})}var g=r(q,2),C=r(i(g),2);$(C),l(g);var w=r(g,2),A=r(i(w),2);L(A),l(w);var D=r(w,2);{var F=t=>{var e=ie(),o=i(e,!0);l(e),Y(()=>O(o,s(p))),c(t,e)};S(D,t=>{s(p)&&t(F)})}var G=r(D,2);{var I=t=>{var e=le(),o=i(e,!0);l(e),Y(()=>O(o,s(k))),c(t,e)};S(G,t=>{s(k)&&t(I)})}V(2),l(y),l(h),x(C,()=>s(u),t=>a(u,t)),x(A,()=>s(b),t=>a(b,t)),X("submit",y,Z(M)),c(B,h),R(),H()}export{ye as component};
