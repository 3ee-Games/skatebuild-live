import{t as d,e as m}from"../chunks/D5sV2v-t.js";import"../chunks/D8N2IpKH.js";import{ao as A,as as j,aw as s,au as n,g,A as L,av as i,v as c,ak as O}from"../chunks/KsHbyUNR.js";import{e as v,s as P}from"../chunks/-k1GO34d.js";import{i as S}from"../chunks/CtV-pIfB.js";import{i as T}from"../chunks/BAI0Ud4A.js";import{g as $}from"../chunks/BvjJfwgW.js";import{g as x}from"../chunks/CUghD6rR.js";import{a as l}from"../chunks/1h2pWYcr.js";import{s as C}from"../chunks/ZoJKLrrX.js";import{s as M}from"../chunks/C1lBQpt0.js";const B=!0,U=Object.freeze(Object.defineProperty({__proto__:null,prerender:B},Symbol.toStringTag,{value:"Module"}));var D=d('<p class="error-banner svelte-piwgzn"> </p>'),E=d('<div class="logout-page svelte-piwgzn"><h1>Are you sure you want to log out?</h1> <!> <div class="action-buttons svelte-piwgzn"><button class="svelte-piwgzn"><span>Yes</span></button> <button class="alert svelte-piwgzn"><span>Oops</span></button></div></div>');function V(b,h){A(h,!1);let o=L(null);function _(){var t,e;(e=(t=l).clear)==null||e.call(t),l.deleteLocalStorage(),C.clear(),M.clear()}async function y(){c(o,null);const{token:t}=$(l)||{};try{const a=await(await fetch("https://3ee.dev/account/logout/",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro",...t&&{Authorization:`Token ${t}`}},mode:"cors"})).json();a!=null&&a.success?(_(),await x("/")):c(o,"Logout failed. Please try again.")}catch(e){console.error("Logout error",e),c(o,"An error occurred. Please try again.")}}function w(){typeof history<"u"&&history.back()}T();var r=E(),p=s(n(r),2);{var k=t=>{var e=D(),a=n(e,!0);i(e),O(()=>P(a,g(o))),m(t,e)};S(p,t=>{g(o)&&t(k)})}var u=s(p,2),f=n(u),z=s(f,2);i(u),i(r),v("click",f,y),v("click",z,w),m(b,r),j()}export{V as component,U as universal};
