import{t as V,b as k}from"../chunks/DfXK_jSs.js";import"../chunks/DBxjm7Y_.js";import{ak as C,at as w,au as G,ar as P,al as J,am as c,an as a,v as j,A as U,j as L,ao as s,g as l,ap as Q,n as R}from"../chunks/CWOhmV2c.js";import{e as X,s as m}from"../chunks/CwUoD2Kj.js";import{i as Y}from"../chunks/DLKYxPPN.js";import{e as Z,i as tt}from"../chunks/CMljKicW.js";import{s as d}from"../chunks/C32hVi81.js";import{i as et}from"../chunks/BtpCMNU_.js";import{p as st}from"../chunks/BuPKHJej.js";import{s as at,a as rt}from"../chunks/DB1vgmwF.js";import"../chunks/BYD5C1R-.js";import{p as ot}from"../chunks/B1hm-moq.js";import{s as ct}from"../chunks/D7-f-tgC.js";import{n as lt}from"../chunks/D9wCr5Al.js";import{h as nt}from"../chunks/CPRV9u04.js";const dt=!1,pt=async({params:v,fetch:p})=>{const{category:i,slug:u}=v;let o=await p(`/data/skateboard-products/${i}/${u}.json`);if(o.ok||(o=await p(`/data/rollerskate-products/${i}/${u}.json`)),!o.ok)throw new Error(`Product not found: ${i}/${u}`);return{product:await o.json()}},Bt=Object.freeze(Object.defineProperty({__proto__:null,load:pt,prerender:dt},Symbol.toStringTag,{value:"Module"}));var it=V('<img class="product-image svelte-ncyxps">'),ut=V('<tr class="svelte-ncyxps"><td class="svelte-ncyxps"><a target="_blank" rel="noopener" class="svelte-ncyxps"> </a></td><td class="svelte-ncyxps"> </td></tr>'),mt=V('<main class="container svelte-ncyxps"><h1 class="svelte-ncyxps"> </h1> <p class="brand svelte-ncyxps"> </p> <!> <section class="prices svelte-ncyxps"><h2 class="svelte-ncyxps">Vendor Prices</h2> <table class="svelte-ncyxps"><thead class="svelte-ncyxps"><tr class="svelte-ncyxps"><th class="svelte-ncyxps">Vendor</th><th class="svelte-ncyxps">Price</th></tr></thead><tbody class="svelte-ncyxps"></tbody></table></section> <div class="add-to-build svelte-ncyxps"><button class="svelte-ncyxps"><img alt="Add to Build" class="svelte-ncyxps"> <span class="svelte-ncyxps">Add to build</span></button></div></main>');function Ft(v,p){C(p,!1);const[i,u]=at(),o=()=>rt(ot,"$page",i),y=U();let r=st(p,"data",8),B=U(),F=U();const D=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2});function q(){ct.update(e=>{const t=`${l(B).slice(0,-1)}_slug`;return{...e,[t]:l(F)}}),lt.send({message:`${r().product.productName} added to build`,link:"/builds/new",linkText:"Preview Build"})}w(()=>o(),()=>{j(B,o().params.category)}),w(()=>o(),()=>{j(F,o().params.slug)}),w(()=>L(r()),()=>{j(y,r().product.productPrices.map(e=>{const t=Object.keys(e).find(n=>n!=="url"&&n!=="productVendorUrl");return{vendor:t,price:parseFloat(e[t]),url:e.url,productVendorUrl:e.productVendorUrl}}).sort((e,t)=>e.price-t.price))}),G(),et();var f=mt(),g=a(f),z=a(g,!0);s(g);var _=c(g,2),E=a(_);s(_);var N=c(_,2);{var H=e=>{var t=it();P(()=>{d(t,"src",r().product.cloudinaryUrl),d(t,"alt",r().product.productName),d(t,"width",r().product.imageWidth),d(t,"height",r().product.imageHeight)}),k(e,t)};Y(N,e=>{r().product.cloudinaryUrl&&e(H)})}var x=c(N,2),A=c(a(x),2),O=c(a(A));Z(O,5,()=>l(y),tt,(e,t)=>{var n=ut(),h=a(n),$=a(h),K=a($,!0);s($),s(h);var T=c(h),M=a(T);s(T),s(n),P(W=>{d($,"href",l(t).productVendorUrl||l(t).url),m(K,l(t).vendor),m(M,`$${W??""}`)},[()=>D.format(l(t).price)],R),k(e,n)}),s(O),s(A),s(x);var S=c(x,2),b=a(S),I=a(b);d(I,"src",nt),Q(2),s(b),s(S),s(f),P(()=>{m(z,r().product.productName),m(E,`by ${r().product.productBrand??""}`)}),X("click",b,q),k(v,f),J(),u()}export{Ft as component,Bt as universal};
