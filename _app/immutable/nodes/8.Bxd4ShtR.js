import{t as k,h as D,e as _}from"../chunks/D-NZ9KzL.js";import"../chunks/DCITK-8o.js";import{ao as J,ak as S,g as t,as as N,ax as M,aw as o,au as i,v as n,A as m,av as l,ay as R}from"../chunks/e3f4nhTa.js";import{e as w,s as V}from"../chunks/D5XXxM7T.js";import{i as F}from"../chunks/FfnKhST-.js";import{r as j}from"../chunks/BWiI1ZN9.js";import{s as x}from"../chunks/Ca3grsK3.js";import{c as T}from"../chunks/BRzKQYUk.js";import{b as g}from"../chunks/BSCTPwwV.js";import{i as G}from"../chunks/CRf2cdWq.js";import{g as H}from"../chunks/B0PM6aow.js";import{a as I}from"../chunks/BAgcxPv8.js";const K=!0,le=Object.freeze(Object.defineProperty({__proto__:null,prerender:K},Symbol.toStringTag,{value:"Module"}));var L=k('<meta name="description" content="Create a SkateBuild account to save, share, and organize your builds.">'),Q=k('<div class="error"> </div>'),U=k('<form class="container svelte-1vntyoj"><h1>Create an account</h1> <div class="field svelte-1vntyoj"><label for="email">email address:</label> <input id="email" name="email" type="email" placeholder="enter your email address" required></div> <div class="field svelte-1vntyoj"><label for="username">username:</label> <input id="username" name="username" type="text" placeholder="enter a username" required></div> <div class="field svelte-1vntyoj"><label for="password">password:</label> <input id="password" name="password" type="password" placeholder="enter a secure password" required class="svelte-1vntyoj"></div> <!> <button type="submit" class="svelte-1vntyoj"><span>Create Account</span></button></form>');function pe($,E){J(E,!1);let u=m(""),v=m(""),f=m(""),r=m(null);async function P(e){e.preventDefault(),n(r,null);try{const a=await fetch("https://3ee.dev/account/create/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro"},mode:"cors",body:JSON.stringify({email:t(u),username:t(v),password:t(f)})}),s=await a.json();if(!a.ok)throw new Error(s.error||"Account creation failed");I.set(s);const O=await fetch("https://3ee.dev/skatebuild/api/profiles/save/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"https://skatebuild.pro",Authorization:`Token ${s.token}`},mode:"cors",body:JSON.stringify({name:s.username})});if(!O.ok){const B=await O.json();console.warn("Profile creation warning:",B)}H("/profile")}catch(a){console.error(a),n(r,a.message)}}function A(){n(r,null)}G();var p=U();D(e=>{var a=L();M.title="Create a SkateBuild account",_(e,a)});var y=o(i(p),2),c=o(i(y),2);j(c),l(y);var b=o(y,2),d=o(i(b),2);j(d),l(b);var h=o(b,2),C=o(i(h),2);j(C),l(h);var q=o(h,2);{var z=e=>{var a=Q(),s=i(a,!0);l(a),S(()=>V(s,t(r))),_(e,a)};F(q,e=>{t(r)&&e(z)})}R(2),l(p),S(()=>{x(c,1,T(t(r)?"validation-error":""),"svelte-1vntyoj"),x(d,1,T(t(r)?"validation-error":""),"svelte-1vntyoj")}),g(c,()=>t(u),e=>n(u,e)),w("input",c,A),g(d,()=>t(v),e=>n(v,e)),w("input",d,A),g(C,()=>t(f),e=>n(f,e)),w("submit",p,P),_($,p),N()}export{pe as component,le as universal};
